{"version":3,"sources":["login-components/Login.js","td-components/AddModal.js","td-components/EditModal.js","td-components/Calendar.js","td-components/Graph.js","td-components/DataList.js","td-components/Goals.js","td-components/TrainingDiary.js","pages/Profile.js","pages/ForgotCredentials.js","App.js","serviceWorker.js","index.js"],"names":["Login","state","validated","onLogin","loginUsername","loginPassword","registerUsername","registerPassword","email","birthday","handleLoginResponse","response","Number","status","props","grantAccess","headers","token","localStorage","setItem","error","toggleAuthLoader","login","toString","trim","length","axios","post","username","password","catch","alert","then","res","handleRegistrationResponse","register","handleSubmit","e","currentTarget","checkValidity","preventDefault","stopPropagation","setState","onChangeLogin","name","target","value","onSelectBirthday","date","toggleTab","tabToRender","datePicker","Form","Control","required","type","this","autoComplete","Jumbotron","Container","fluid","Row","Col","Figure","Image","src","width","height","Tabs","defaultActiveKey","onSelect","bind","Tab","eventKey","title","noValidate","onSubmit","Label","placeholder","onChange","Button","disabled","authLoading","style","float","marginTop","color","to","sm","selected","minDate","subYears","Date","maxDate","subDays","showYearDropdown","scrollableYearDropdown","showMonthDropdown","dropdownMode","placeholderText","customInput","Component","AddModal","data","newData","entryType","showAlert","alertMessage","nameMenuShow","componentDidMount","componentDidUpdate","onSelectName","dataCopy","JSON","parse","stringify","Name","showNameList","nameSearch","onClickRootClose","msg","hideAlert","validateFields","Object","keys","key","isNaN","hasTypeBeenEntered","i","userData","entry","getTime","selectedDate","Category","Type","calculateNewAmount","dataIndex","calculationKey","calculationType","newValue","Math","floor","toFixed","push","saveNewData","a","nameExists","undefined","currentName","entryNames","newName","saveData","reloadCalendar","closeModal","toggleAddModal","resetModal","onChangeNewData","newDataCopy","metaData","entryTypes","x","displayOrder","entryKey","createForm","inputs","newDataKeys","ListGroup","horizontal","Item","FormControl","as","hidden","categories","map","category","uuid","field","nameList","nameData","InputGroup","Dropdown","show","Prepend","onToggle","Toggle","variant","eventkey","Menu","rootCloseEvent","formInputs","dateString","toDateString","Modal","addModalShow","centered","scrollable","size","onExited","onHide","backdrop","Header","className","Body","Footer","Alert","onClose","dismissible","visible","isSaving","onClick","EditModal","dataToEdit","hasLoaded","toggleEditModal","onChangeEdit","copy","saveEdit","editIndex","createEditFields","editFields","editModalShow","Calendar","selectedDateString","isDataOnDate","displayData","formatNewDate","isSelectedDateInDateList","formatDate","onClickEdit","index","dateList","createDateList","getFullYear","getMonth","getDate","require","formattedDate","selectDay","deleteEntry","window","confirm","splice","sortByDisplayName","orderedJson","calculateTotals","totalList","total","numOfEntries","numKey","results","result","charAt","toUpperCase","slice","goalAchieved","goals","goal","deletable","isAchieved","Fields","enteredCategories","entries","includes","totals","cards","catIndex","id","Card","Accordion","Collapse","popover","Popover","Title","Content","OverlayTrigger","trigger","placement","overlay","rootClose","border","today","toggleSaveBar","marginLeft","showNeighboringMonth","onClickDay","tileContent","activeStartDate","view","find","Graph","testData","graphOption","startDate","endDate","graphData","lineColors","usedColors","colorIndex","graphFilters","rangeValue","onSelectOption","option","onSelectStartDate","onSelectEndDate","onChangeSlider","onSelectFilter","filterName","filtersCopy","indexOf","createOptionDropdown","createDateDropdown","dateOption","filterGraphData","filteredGraphData","numericFilters","filter","filteredEntry","finalFilteredGraphData","getGraphData","entryDate","graphEntry","toLocaleDateString","min","temp","createLines","dataKeys","dataKey","stroke","getLegendData","legendData","createStringFilters","filters","filterData","graphFilterConstants","Check","label","createNumFilters","rangeSliders","sliderLabels","Group","controlId","getMaxValue","max","lines","maxValue","startPicker","endPicker","dropdownOption","stringFilters","domain","strokeDasharray","DataList","listOption","listFilters","allChecked","reload","forceUpdate","margin","checked","Amount","getListData","listData","dateStrings","optionDropdown","marginBottom","Text","Goals","editing","adding","goalEditing","goalAdding","editingData","addingData","goalIndex","invalidFields","colors","openEditModal","closeEditModal","openAddModal","goalStructure","closeAddModal","onChangeAdd","deleteGoal","checkEditFields","checkAddFields","onClickSaveEdit","lastUpdated","onClickSaveAdd","fieldOrder","validateMacros","percentageTotal","constructPieData","fields","labels","datasets","backgroundColor","hoverBackgroundColor","closeButton","toolTip","Tooltip","delay","hide","nonDeletableGoalFields","pieData","toLocaleString","options","maintainAspectRatio","TrainingDiary","activeTab","toggleTabs","tab","xs","logout","href","activeKey","Profile","oldPassword","newPassword","confirmNewPassword","saving","showModal","showEditModal","editModalData","addModalData","categoryMenuShow","entryTypeIndex","_id","onChangeAccountInfo","handleInfoSubmit","requestBody","toggleSaving","changeUsernameAndEmail","handlePasswordSubmit","changePassword","resetFields","editData","Notes","fieldName","dataType","onChangeEditModal","onChangeAddModal","showCategoryList","onSelectDropdown","onClickRootCloseCategory","categorySearch","addField","onChangeField","typeExists","defaultKeys","fieldNames","newField","count","validateEditFields","prev","onClickSave","deleteData","deleteCategory","newEntryTypes","newUserData","removeField","textAlign","Spinner","animation","numGoals","numEntries","entryIndex","ForgotCredentials","passwordValidated","tempPassword","confirmPassword","handleEmailSubmit","getTempCredentials","handleTempSubmit","validateTempCredentials","handleNewPasswordSubmit","recoverPassword","recoveryDisabled","tempSuccess","App","waitingForPage","isLoggedIn","onRegistration","recoveryEmail","profileAndCredSaving","getItem","handleVerificationResponse","toggleProfAndCredLoader","handleGetResponse","that","clear","get","handlePostResponse","reqBody","prevUsername","handleChangeInfoResponse","handleChangePasswordResponse","handleTempResponse","handleValidateTempResponse","handleRecoveryResponse","location","pathname","toLogin","exact","path","Boolean","hostname","match","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister","console","message"],"mappings":"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","file":"static/js/main.8455e5d4.chunk.js","sourcesContent":["import React, { Component } from 'react';\r\nimport axios from 'axios';\r\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\r\nimport Loader from 'react-loader-spinner';\r\nimport Container from 'react-bootstrap/Container';\r\nimport Row from 'react-bootstrap/Row';\r\nimport Col from 'react-bootstrap/Col';\r\nimport Button from 'react-bootstrap/Button';\r\nimport ButtonGroup from 'react-bootstrap/ButtonGroup';\r\nimport Tabs from 'react-bootstrap/Tabs';\r\nimport Tab from 'react-bootstrap/Tab';\r\nimport Jumbotron from 'react-bootstrap/Jumbotron';\r\nimport Form from 'react-bootstrap/Form';\r\nimport Figure from 'react-bootstrap/Figure';\r\nimport DatePicker from \"react-datepicker\";\r\nimport subDays from \"date-fns/subDays\";\r\nimport subYears from \"date-fns/subYears\";\r\nimport \"react-datepicker/dist/react-datepicker.css\";\r\nimport { BrowserRouter as Router, Link } from 'react-router-dom';\r\n\r\nclass Login extends Component {\r\n\t\r\n\tstate = {\r\n\t\tvalidated: false,\r\n\t\t\r\n\t\tonLogin: true,\r\n\t\t\r\n\t\tloginUsername: \"\",\r\n\t\tloginPassword: \"\",\r\n\t\r\n\t\tregisterUsername: \"\",\r\n\t\tregisterPassword: \"\",\r\n\t\temail: \"\",\r\n\t\tbirthday: null,\r\n\t}\r\n\t\r\n\thandleLoginResponse = (response) => {\r\n\t\ttry {\r\n\t\t\tvar status = Number(response.status);\r\n\t\t\tif(status === 200) {\r\n\t\t\t\tthis.props.grantAccess(this.state.loginUsername, response.headers.token);\r\n\t\t\t\t//saves token and username to browser's local storage \r\n\t\t\t\tlocalStorage.setItem(\"token\", response.headers.token);\r\n\t\t\t\tlocalStorage.setItem(\"username\", this.state.loginUsername);\r\n\t\t\t}\r\n\t\t}\r\n\t\tcatch(error) {\r\n\t\t\tthis.props.toggleAuthLoader();\r\n\t\t}\r\n\t}\r\n\t\r\n\t//login onClick event handler\r\n\tlogin = () => {\r\n\t\t//checks to make sure username and password fields have values \r\n\t\tif(this.state.loginUsername.toString().trim().length === 0 || this.state.loginPassword.toString().length === 0) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\telse {\r\n\t\t\tthis.props.toggleAuthLoader();\r\n\t\t\taxios.post(\"/login\", {username: this.state.loginUsername.toString().trim(), password: this.state.loginPassword})\r\n\t\t\t\t.catch(function(error) {\r\n\t\t\t\t\tif(error.response.status === 401) {\r\n\t\t\t\t\t\talert(\"Invalid credentials\");\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t.then(res => this.handleLoginResponse(res))\r\n\r\n\t\t}\r\n\t}\r\n\r\n\thandleRegistrationResponse = (response) => {\r\n\t\ttry {\r\n\t\t\tvar status = Number(response.status);\r\n\t\t\tif(status === 200) {\r\n\t\t\t\tthis.props.grantAccess(this.state.registerUsername, response.headers.token);\r\n\t\t\t\tlocalStorage.setItem(\"token\", response.headers.token);\r\n\t\t\t\tlocalStorage.setItem(\"username\", this.state.loginUsername);\r\n\t\t\t}\r\n\t\t}\r\n\t\tcatch(error) {\r\n\t\t\tthis.props.toggleAuthLoader();\r\n\t\t}\r\n\t}\r\n\t\r\n\t//registration onClick event handler\r\n\tregister = () => {\r\n\t\t//checks to make sure username and password fields have values \r\n\t\tif(this.state.registerUsername.toString().trim().length === 0 || this.state.registerPassword.toString().trim().length == 0 || this.state.email.toString().trim().length === 0 || this.state.birthday === null) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\telse {\r\n\t\t\tthis.props.toggleAuthLoader();\r\n\t\t\taxios.post(\"/register\", {username: this.state.registerUsername.toString().trim(), password: this.state.registerPassword, email: this.state.email.toString().trim(), birthday: this.state.birthday})\r\n\t\t\t\t.catch(function(error) {\r\n\t\t\t\t\tif(error.response.status === 409) {\r\n\t\t\t\t\t\talert(\"Username or email already exists\");\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t.then(res => this.handleRegistrationResponse(res))\r\n\t\t}\r\n\t}\r\n\t\r\n\thandleSubmit = (e) => {\r\n\t\tconst form = e.currentTarget;\r\n\t\tif(form.checkValidity() === false) {\r\n\t\t\te.preventDefault();\r\n\t\t\te.stopPropagation();\r\n\t\t}\r\n\t\tthis.setState({validated: true});\r\n\t\te.preventDefault();\r\n\t\tif(this.state.onLogin) {\r\n\t\t\tthis.login();\r\n\t\t}\r\n\t\telse {\r\n\t\t\tthis.register();\r\n\t\t}\r\n\t}\r\n\t\r\n\tonChangeLogin = (e) => {\r\n\t\tvar name = [e.target.name][0];\r\n\t\tvar value = e.target.value;\r\n\t\tthis.setState({[name]: value});\r\n\t}\r\n\t\r\n\tonSelectBirthday = (date) => {\r\n\t\tthis.setState({birthday: date});\r\n\t}\r\n\t\r\n\ttoggleTab = (tabToRender) => {\r\n\t\tif(tabToRender === \"login\" && this.state.onLogin) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif(tabToRender === \"register\" && !this.state.onLogin) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tthis.setState({onLogin: !this.state.onLogin, validated: false, loginUsername: \"\", loginPassword: \"\", registerUsername: \"\", registerPassword: \"\", email: \"\", birthday: null});\r\n\t}\r\n\t\r\n\trender() {\r\n\t\tconst datePicker = <Form.Control\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\ttype = \"input\"\r\n\t\t\t\t\t\t\tvalue = {this.state.birthday}\r\n\t\t\t\t\t\t\tautoComplete = \"off\"\r\n\t\t\t\t\t\t\t/>\r\n\t\treturn (\r\n\t\t\t<Jumbotron>\r\n\t\t\t\t<Container fluid>\r\n\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t<h1> Training Diary </h1>\r\n\t\t\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t\t\tA simple application to track and analyze your workout data.\r\n\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t<Figure>\r\n\t\t\t\t\t\t\t\t\t\t<Figure.Image\r\n\t\t\t\t\t\t\t\t\t\t\tsrc = \"https://cdn.emojidex.com/emoji/seal/weight_lifter.png\"\r\n\t\t\t\t\t\t\t\t\t\t\twidth = {200}\r\n\t\t\t\t\t\t\t\t\t\t\theight = {300}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</Figure>\r\n\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t<Figure>\r\n\t\t\t\t\t\t\t\t\t\t<Figure.Image\r\n\t\t\t\t\t\t\t\t\t\t src = \"https://cdn.emojidex.com/emoji/seal/chart_with_upwards_trend.png\"\r\n\t\t\t\t\t\t\t\t\t\t width = {200}\r\n\t\t\t\t\t\t\t\t\t\t height = {300}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</Figure>\r\n\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t<Tabs defaultActiveKey = \"login\" onSelect = {this.toggleTab.bind(this)}>\r\n\t\t\t\t\t\t\t\t\t\t<Tab eventKey = \"login\" title = \"Login\">\r\n\t\t\t\t\t\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t\t\t\t\t\t{this.state.onLogin \r\n\t\t\t\t\t\t\t\t\t\t\t?\r\n\t\t\t\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Form noValidate validated = {this.state.validated} onSubmit = {this.handleSubmit}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Label> Username </Form.Label>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype = \"input\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholder = \"Username\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname = \"loginUsername\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue = {this.state.loginUsername}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange = {(e) => {this.onChangeLogin(e)}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tautoComplete = \"off\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Label> Password </Form.Label>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype = \"password\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholder = \"Password\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname = \"loginPassword\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue = {this.state.loginPassword}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange = {(e) => {this.onChangeLogin(e)}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button type = \"submit\" disabled = {this.props.disabled}> Login </Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{this.props.authLoading\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t?\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div style = {{float: \"left\", marginTop: \"5%\"}}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Loader type=\"TailSpin\" \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor=\"#00BFFF\" \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\theight={80} \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\twidth={80} \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t:\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div> </div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Link to = \"/reset\"> Forgot Password? </Link>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Form> \r\n\t\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t\t\t\t:\r\n\t\t\t\t\t\t\t\t\t\t\t<div> </div>\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t</Tab>\r\n\t\t\t\t\t\t\t\t\t\t<Tab eventKey = \"register\" title = \"Register\">\r\n\t\t\t\t\t\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t\t\t\t\t\t{!this.state.onLogin\r\n\t\t\t\t\t\t\t\t\t\t\t?\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Form noValidate validated = {this.state.validated} onSubmit = {this.handleSubmit}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Col sm = {6}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Label> Username </Form.Label>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype = \"input\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholder = \"Username\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname = \"registerUsername\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue = {this.state.registerUsername}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange = {(e) => {this.onChangeLogin(e)}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tautoComplete = \"off\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Col sm = {6}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Label> Password </Form.Label>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype = \"password\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholder = \"Password\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname = \"registerPassword\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue = {this.state.registerPassword}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange = {(e) => {this.onChangeLogin(e)}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Col sm = {6}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Label> Email </Form.Label>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype = \"input\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholder = \"Email\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname = \"email\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue = {this.state.email}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange = {(e) => {this.onChangeLogin(e)}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tautoComplete = \"off\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Col sm = {6}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Label> Birthday </Form.Label>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<DatePicker \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tselected = {this.state.birthday}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange = {this.onSelectBirthday}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tminDate = {subYears(new Date(), 120)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmaxDate = {subDays(new Date(), 0)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tshowYearDropdown\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tscrollableYearDropdown\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tshowMonthDropdown\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdropdownMode=\"select\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholderText = \"Birthday\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcustomInput = {datePicker}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button type = \"submit\" disabled = {this.props.disabled}> Register </Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{this.props.authLoading\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t?\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div style = {{float: \"left\", marginTop: \"5%\"}}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Loader type=\"TailSpin\" \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor=\"#00BFFF\" \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\theight={80} \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\twidth={80} \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t:\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div> </div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Form> \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t\t\t\t:\r\n\t\t\t\t\t\t\t\t\t\t\t<div> </div>\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t</Tab>\r\n\t\t\t\t\t\t\t\t\t</Tabs>\r\n\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t</Row>\r\n\t\t\t\t</Container>\r\n\t\t\t</Jumbotron>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default Login;","import React, { Component } from 'react';\r\nimport Modal from \"react-bootstrap/Modal\";\r\nimport \"bootstrap/dist/css/bootstrap.min.css\";\r\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\r\nimport Loader from 'react-loader-spinner';\r\nimport Row from 'react-bootstrap/Row';\r\nimport Col from 'react-bootstrap/Col';\r\nimport Button from 'react-bootstrap/Button';\r\nimport '../td-css/AddModal.css';\r\nimport Form from 'react-bootstrap/Form';\r\nimport FormControl from 'react-bootstrap/FormControl';\r\nimport InputGroup from 'react-bootstrap/InputGroup';\r\nimport uuid from 'react-uuid';\r\nimport Alert from 'react-bootstrap/Alert';\r\nimport Dropdown from 'react-bootstrap/Dropdown';\r\nimport ListGroup from 'react-bootstrap/ListGroup';\r\n//PROPS\r\n\t//data\r\n\t//saveData()\r\n\t//updateShow()\r\n\t//toDateString()\r\n\t//selectedDate\r\n\t//addModalShow\r\n\t//isSaving\r\n\t//toggleSaveBar()\r\n\t//toggleAddModal()\r\n\t//createDateList()\r\n\t//reloadCalendar()\r\nclass AddModal extends Component {\r\n\t\r\n\tstate = {\r\n\t\tdata: null,\r\n\t\tnewData: {},\r\n\t\tentryType: null,\r\n\t\tshowAlert: false,\r\n\t\talertMessage: \"\",\r\n\t\tnameMenuShow: false\r\n\t}\r\n\t\r\n\t/* COMPONENT MOUNTING AND UPDATING METHODS */ \r\n\t\r\n\tcomponentDidMount = () => {\r\n\t\tthis.setState({data: this.props.data});\r\n\t}\r\n\t\r\n\tcomponentDidUpdate = () => {\r\n\t\tif(this.state.data !== this.props.data) {\r\n\t\t\tthis.setState({data: this.props.data});\r\n\t\t}\r\n\t}\r\n\t\r\n\tonSelectName = (value) => {\r\n\t\tvar dataCopy = JSON.parse(JSON.stringify(this.state.newData));\r\n\t\tdataCopy.Name = value;\r\n\t\tthis.setState({newData: dataCopy});\r\n\t}\r\n\t\r\n\tshowNameList = (nameSearch) => {\r\n\t\tif(nameSearch.length === 0) {\r\n\t\t\tthis.setState({nameMenuShow: false});\r\n\t\t}\r\n\t\telse {\r\n\t\t\tthis.setState({nameMenuShow: true});\r\n\t\t}\r\n\t}\t\r\n\r\n\tonClickRootClose = () => {\r\n\t\tif(this.state.nameMenuShow) {\r\n\t\t\tthis.setState({nameMenuShow: false});\r\n\t\t}\r\n\t\telse {\r\n\t\t\tthis.setState({nameMenuShow: true});\r\n\t\t}\r\n\t}\r\n\t\r\n\tshowAlert = (msg) => {\r\n\t\tthis.setState({showAlert: true, alertMessage: msg});\r\n\t}\r\n\t\r\n\thideAlert = () => {\r\n\t\tthis.setState({showAlert: false, alertMessage: \"\"});\r\n\t}\r\n\t\r\n\t/* SAVING METHODS */ \r\n\t\r\n\tvalidateFields = () => {\r\n\t\tif(this.state.entryType === null || Object.keys(this.state.newData).length === 0) {\r\n\t\t\tthis.showAlert(\"Cannot save data, you're missing some required fields!\");\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\tfor(var key in this.state.newData) {\r\n\t\t\tif(key === \"Notes\" || key === \"displayOrder\") {\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\t\t\telse if(this.state.newData[key].toString().trim().length === 0) {\r\n\t\t\t\tthis.showAlert(\"Cannot save data, you're missing some required fields!\");\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\telse if(this.state.entryType[key] === \"number\" && isNaN(Number(this.state.newData[key]))) {\r\n\t\t\t\tthis.showAlert(\"'\" + key + \"'\" + \" must be a number!\"); \r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\telse if(this.state.entryType[key] === \"string\" && !isNaN(Number(this.state.newData[key]))) {\r\n\t\t\t\tthis.showAlert(\"'\" + key + \"'\" + \" cannot be a number!\"); \r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tthis.state.newData[key] = this.state.newData[key].toString().trim();\r\n\t\t\t}\r\n\t\t}\r\n\t\tthis.hideAlert();\r\n\t\treturn true;\r\n\t}\r\n\t\r\n\thasTypeBeenEntered = () => {\r\n\t\tfor(var i = 0; i < this.state.data.userData.length; i++) {\r\n\t\t\tconst entry = this.state.data.userData[i];\r\n\t\t\tif(new Date(entry.Date).getTime() === this.props.selectedDate.getTime() && entry.Category === this.state.newData.Category && entry.Type === this.state.newData.Type) {\r\n\t\t\t\treturn i; //return index of entry\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn -1;\r\n\t}\r\n\t\r\n\tcalculateNewAmount = (dataIndex) => {\r\n\t\tif(dataIndex === -1) {\r\n\t\t\tthis.state.data.userData.push(this.state.newData);\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tvar calculationKey = null;\r\n\t\tfor(var key in this.state.entryType) {\r\n\t\t\tif(this.state.entryType[key] === \"number\") {\r\n\t\t\t\tcalculationKey = key;\r\n\t\t\t}\r\n\t\t}\r\n\t\tif(calculationKey === null) {\r\n\t\t\talert(\"Error: Could not calculate new amount -- null\");\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif(this.state.entryType.calculationType === \"add\") {\r\n\t\t\tvar newValue = (Number(this.state.data.userData[dataIndex][calculationKey]) + Number(this.state.newData[calculationKey]));\r\n\t\t\tif(Math.floor(newValue) !== newValue) {\r\n\t\t\t\tnewValue = newValue.toFixed(2);\r\n\t\t\t}\r\n\t\t\tthis.state.data.userData[dataIndex][calculationKey] = newValue.toString();\r\n\t\t}\r\n\t\telse if(this.state.entryType.calculationType === \"subtract\") {\r\n\t\t\tvar newValue = (Number(this.state.data.userData[dataIndex][calculationKey]) - Number(this.state.newData[calculationKey]));\r\n\t\t\tif(Math.floor(newValue) !== newValue) {\r\n\t\t\t\tnewValue = newValue.toFixed(2);\r\n\t\t\t}\r\n\t\t\tthis.state.data.userData[dataIndex][calculationKey] = newValue.toString();\r\n\t\t}\r\n\t\telse if(this.state.entryType.calculationType === \"multiply\") {\r\n\t\t\tvar newValue = (Number(this.state.data.userData[dataIndex][calculationKey]) * Number(this.state.newData[calculationKey]));\r\n\t\t\tif(Math.floor(newValue) !== newValue) {\r\n\t\t\t\tnewValue = newValue.toFixed(2);\r\n\t\t\t}\r\n\t\t\tthis.state.data.userData[dataIndex][calculationKey] = newValue.toString();\r\n\t\t}\r\n\t\telse if(this.state.entryType.calculationType === \"divide\") {\r\n\t\t\tvar newValue = (Number(this.state.data.userData[dataIndex][calculationKey]) / Number(this.state.newData[calculationKey]));\r\n\t\t\tif(Math.floor(newValue) !== newValue) {\r\n\t\t\t\tnewValue = newValue.toFixed(2);\r\n\t\t\t}\r\n\t\t\tthis.state.data.userData[dataIndex][calculationKey] = newValue.toString();\r\n\t\t}\r\n\t\telse if(this.state.entryType.calculationType === \"average\") {\r\n\t\t\tvar newValue = (Number(this.state.data.userData[dataIndex][calculationKey]) + Number(this.state.newData[calculationKey]));\r\n\t\t\tnewValue = newValue / 2;\r\n\t\t\tif(Math.floor(newValue) !== newValue) {\r\n\t\t\t\tnewValue = newValue.toFixed(2);\r\n\t\t\t}\r\n\t\t\tthis.state.data.userData[dataIndex][calculationKey] = newValue.toString();\r\n\t\t}\r\n\t\telse if(this.state.entryType.calculationType === \"none\") {\r\n\t\t\tthis.state.data.userData.push(this.state.newData);\r\n\t\t}\r\n\t}\r\n\t\r\n\t//calls post api to save data to database\r\n\tsaveNewData = async () => {\r\n\t\tif(!this.validateFields()) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\t//this.props.toggleSaveBar();\r\n\t\tvar nameExists = false;\r\n\t\tif(this.state.newData.Name !== undefined && this.state.newData.Name !== null) {\r\n\t\t\tvar currentName = this.state.newData.Name;\r\n\t\t\tfor(var i = 0; i < this.state.data.entryNames.length; i++) {\r\n\t\t\t\tif(currentName === this.state.data.entryNames[i].Name) {\r\n\t\t\t\t\tnameExists = true;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif(!nameExists) {\r\n\t\t\t\tvar newName = {};\r\n\t\t\t\tnewName.Name = currentName;\r\n\t\t\t\tnewName.Category = this.state.newData.Category;\r\n\t\t\t\tnewName.Type = this.state.newData.Type;\r\n\t\t\t\tthis.state.data.entryNames.push(newName);\r\n\t\t\t}\r\n\t\t}\r\n\t\tthis.state.data.userData.push(this.state.newData);\r\n\t\tawait this.props.saveData(this.state.data, \"save\", \"AddModal\"); //need to make this saveData() function more dynamic \r\n\t\tthis.props.reloadCalendar(); //reloads calendar component so changes are seen immediately without waiting for response from server\r\n\t\tthis.closeModal();\r\n\t}\r\n\t\r\n\t/* MODAL RENDERING METHODS */\r\n\t\r\n\tcloseModal = () => {\r\n\t\tthis.props.toggleAddModal();\r\n\t\tthis.setState({newData: {}, showAlert: false, alertMessage: \"\"});\r\n\t}\r\n\t\r\n\tresetModal = () => {\r\n\t\tthis.setState({newData: {}});\r\n\t}\r\n\t\r\n\t//onChange event handler for when user enters something in new data field \r\n\tonChangeNewData = (e) => {\r\n\t\tvar newDataCopy;\r\n\t\tvar entry = null;\r\n\t\tconst key = [e.target.name][0];\r\n\t\tconst value = e.target.value;\r\n\t\tnewDataCopy = this.state.newData;\r\n\t\tif(newDataCopy === null || newDataCopy === undefined) {\r\n\t\t\tnewDataCopy = {};\r\n\t\t}\r\n\t\tif(key === \"Category\") {\r\n\t\t\tnewDataCopy = {[key]: value, \"Type\": \"\"};\r\n\t\t}\r\n\t\telse if(key === \"Type\") {\r\n\t\t\tnewDataCopy = {\"Category\": this.state.newData.Category, [key]: value};\r\n\t\t\tfor(var i = 0; i < this.props.data.metaData.entryTypes.length; i++) {\r\n\t\t\t\tconst entryType = this.props.data.metaData.entryTypes[i];\r\n\t\t\t\tif(entryType.Category === this.state.newData.Category && entryType.Type === value) {\r\n\t\t\t\t\tfor(var x = 0; x < entryType.displayOrder.length; x++) {\r\n\t\t\t\t\t\tconst entryKey = entryType.displayOrder[x];\r\n\t\t\t\t\t\tif(entryKey !== \"Category\" && entryKey !== \"Type\") {\r\n\t\t\t\t\t\t\tnewDataCopy[entryKey] = \"\";\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tnewDataCopy.displayOrder = entryType.displayOrder;\r\n\t\t\t\t\tnewDataCopy.Date = this.props.selectedDate.toString();\r\n\t\t\t\t\tnewDataCopy.calculationType = entryType.calculationType;\r\n\t\t\t\t\tentry = entryType;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\telse if(key === \"Name\") {\r\n\t\t\tthis.showNameList(value);\r\n\t\t\tnewDataCopy[key] = value;\r\n\t\t\tentry = this.state.entryType;\r\n\t\t}\r\n\t\telse {\r\n\t\t\tnewDataCopy[key] = value;\r\n\t\t\tentry = this.state.entryType;\r\n\t\t}\r\n\t\tthis.setState({newData: newDataCopy, entryType: entry});\r\n\t}\r\n\r\n\t//creates input fields from metaData \r\n\tcreateForm = () => {\r\n\t\tif(this.props.data === null) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\tvar inputs;\r\n\t\tconst newDataKeys = Object.keys(this.state.newData);\r\n\t\t//const newDataKeys = this.state.newData.displayOrder;\r\n\t\tif(newDataKeys.length === 0) {\r\n\t\t\tinputs = <ListGroup horizontal>\r\n\t\t\t\t\t\t<ListGroup.Item style = {{width: \"50%\"}}>\r\n\t\t\t\t\t\t\tCategory\r\n\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t<ListGroup.Item style = {{width: \"50%\"}}>\r\n\t\t\t\t\t\t\t<FormControl as = \"select\" name = \"Category\" onChange = {(e) => {this.onChangeNewData(e)}}>\r\n\t\t\t\t\t\t\t\t<option  value = \"\" selected disabled hidden> Select </option>\r\n\t\t\t\t\t\t\t\t{this.props.data.metaData.categories.map((category) => {\r\n\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t<option key = {uuid()} value = {category}>\r\n\t\t\t\t\t\t\t\t\t\t\t{category}\r\n\t\t\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t</FormControl>\r\n\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t</ListGroup>\r\n\t\t\treturn inputs;\r\n\t\t}\r\n\t\tinputs = newDataKeys.map((field) => {\r\n\t\t\tif(field === \"Category\") {\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<ListGroup horizontal> \r\n\t\t\t\t\t\t<ListGroup.Item style = {{width: \"50%\"}}>\r\n\t\t\t\t\t\t\t{field}\r\n\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t<ListGroup.Item style = {{width: \"50%\"}}>\r\n\t\t\t\t\t\t\t<FormControl as = \"select\" value = {this.state.newData[field]} name = {field} onChange = {(e) => {this.onChangeNewData(e)}}>\r\n\t\t\t\t\t\t\t\t<option  value = \"\" selected disabled hidden> Select </option>\r\n\t\t\t\t\t\t\t\t{this.props.data.metaData.categories.map((category) => {\r\n\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t<option value = {category} key = {uuid()}>\r\n\t\t\t\t\t\t\t\t\t\t\t{category}\r\n\t\t\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t</FormControl>\r\n\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t</ListGroup>\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t\telse if(field === \"Type\") {\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<ListGroup horizontal>\r\n\t\t\t\t\t\t<ListGroup.Item style = {{width: \"50%\"}}>\r\n\t\t\t\t\t\t\t{field}\r\n\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t<ListGroup.Item style = {{width: \"50%\"}}>\r\n\t\t\t\t\t\t\t<FormControl as = \"select\" value = {this.state.newData[field]} name = {field} onChange = {(e) => {this.onChangeNewData(e)}}>\r\n\t\t\t\t\t\t\t\t<option  value = \"\" selected disabled hidden> Select </option>\r\n\t\t\t\t\t\t\t\t{this.props.data.metaData.entryTypes.map((entry) => {\r\n\t\t\t\t\t\t\t\t\tif(entry.Category === this.state.newData.Category) {\r\n\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t<option value = {entry.Type} key = {uuid()}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{entry.Type}\r\n\t\t\t\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t</FormControl>\r\n\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t</ListGroup>\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tif(field !== \"displayOrder\" && field !== \"Date\" && field !== \"calculationType\") {\r\n\t\t\t\t\tif(field === \"Name\") {\r\n\t\t\t\t\t\tvar nameList = [];\r\n\t\t\t\t\t\tfor(var i = 0; i < this.state.data.entryNames.length ; i++) {\r\n\t\t\t\t\t\t\tvar nameData = this.state.data.entryNames[i];\r\n\t\t\t\t\t\t\tif(this.state.newData.Category === nameData.Category && this.state.newData.Type === nameData.Type) {\r\n\t\t\t\t\t\t\t\tnameList.push(nameData.Name);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<ListGroup horizontal>\r\n\t\t\t\t\t\t\t\t<ListGroup.Item style = {{width: \"50%\"}}>\r\n\t\t\t\t\t\t\t\t\t{field}\r\n\t\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t\t<ListGroup.Item style = {{width: \"50%\"}}>\r\n\t\t\t\t\t\t\t\t\t<InputGroup>\r\n\t\t\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\t\t\tas = \"input\"\r\n\t\t\t\t\t\t\t\t\t\t\tautoComplete = \"off\"\r\n\t\t\t\t\t\t\t\t\t\t\tname = {field}\r\n\t\t\t\t\t\t\t\t\t\t\tvalue = {this.state.newData[field]}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange = {(e) => {this.onChangeNewData(e)}}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t<Dropdown show = {this.state.nameMenuShow} as = {InputGroup.Prepend} onToggle = {this.onClickRootClose.bind(this)}>\r\n\t\t\t\t\t\t\t\t\t\t\t<Dropdown.Toggle variant = \"outline-secondary\" eventkey = \"00\"> </Dropdown.Toggle>\r\n\t\t\t\t\t\t\t\t\t\t\t<Dropdown.Menu rootCloseEvent = \"click\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t{nameList.map((name) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Dropdown.Item onSelect = {this.onSelectName.bind(this, name)} >\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{name}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Dropdown.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t\t\t</Dropdown.Menu>\r\n\t\t\t\t\t\t\t\t\t\t</Dropdown> \r\n\t\t\t\t\t\t\t\t\t</InputGroup> \r\n\t\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t</ListGroup>\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<ListGroup horizontal>\r\n\t\t\t\t\t\t\t\t<ListGroup.Item style = {{width: \"50%\"}}>\r\n\t\t\t\t\t\t\t\t\t{field}\r\n\t\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t\t<ListGroup.Item style = {{width: \"50%\"}}>\r\n\t\t\t\t\t\t\t\t\t<FormControl as = \"input\" value = {this.state.newData[field]} name = {field} onChange = {(e) => {this.onChangeNewData(e)}} />\r\n\t\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t</ListGroup>\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t\treturn <div> {inputs} </div>\r\n\t}\r\n\t\r\n\trender () {\r\n\t\tconst formInputs = this.createForm()\r\n\t\tconst dateString = this.props.toDateString(this.props.selectedDate)\r\n\t\treturn (\r\n\t\t\t<Modal \r\n\t\t\t\tshow={this.props.addModalShow}\r\n\t\t\t\tcentered = {true}\r\n\t\t\t\tscrollable = {true}\r\n\t\t\t\tsize = \"lg\"\r\n\t\t\t\tonExited = {this.resetModal}\r\n\t\t\t\tonHide = {this.closeModal}\r\n\t\t\t\tbackdrop = \"static\"\r\n\t\t\t>\r\n\t\t\t  <Modal.Header>\r\n\t\t\t\t<h4 className = \"modal-header-tag\"> Add Training Data </h4>\r\n\t\t\t\t<h4 className = \"modal-header-tag\"> {dateString} </h4>\r\n\t\t\t\t{/*<Button variant = \"primary\"> Add </Button>*/}\r\n\t\t\t  </Modal.Header>\r\n\t\t\t  \r\n\t\t\t  <Modal.Body>\r\n\t\t\t\t{formInputs}\r\n\t\t\t  </Modal.Body>\r\n\t\t\t\t\r\n\t\t\t  \r\n\t\t\t\t{!this.state.showAlert\r\n\t\t\t\t?\r\n\t\t\t\t\t<Modal.Footer>\r\n\t\t\t\t\t\t<div className = \"loader-container\">\r\n\t\t\t\t\t\t\t<Loader type=\"ThreeDots\" \r\n\t\t\t\t\t\t\t\tcolor=\"#00BFFF\" \r\n\t\t\t\t\t\t\t\theight={80} \r\n\t\t\t\t\t\t\t\twidth={80} \r\n\t\t\t\t\t\t\t\tvisible = {this.props.isSaving}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<Button variant = \"primary\" disabled = {this.props.isSaving} onClick = {this.closeModal}> Close </Button>\r\n\t\t\t\t\t\t<Button variant = \"primary\" disabled = {this.props.isSaving} onClick = {this.saveNewData}> Save </Button>\r\n\t\t\t\t\t</Modal.Footer>\r\n\t\t\t\t\r\n\t\t\t\t:\r\n\t\t\t\t\t<Modal.Footer>\r\n\t\t\t\t\t\t<div className = \"alert-container\">\r\n\t\t\t\t\t\t\t<Alert className = \"error-alert\" variant = \"danger\" onClose = {this.hideAlert.bind(this)} dismissible>\r\n\t\t\t\t\t\t\t\t<p> {this.state.alertMessage} </p>\r\n\t\t\t\t\t\t\t</Alert>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className = \"loader-container\">\r\n\t\t\t\t\t\t\t<Loader type=\"ThreeDots\" \r\n\t\t\t\t\t\t\t\tcolor=\"#00BFFF\" \r\n\t\t\t\t\t\t\t\theight={80} \r\n\t\t\t\t\t\t\t\twidth={80} \r\n\t\t\t\t\t\t\t\tvisible = {this.props.isSaving}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<Button variant = \"primary\" disabled = {this.props.isSaving} onClick = {this.closeModal}> Close </Button>\r\n\t\t\t\t\t\t<Button variant = \"primary\" disabled = {this.props.isSaving} onClick = {this.saveNewData}> Save </Button>\r\n\t\t\t\t\t</Modal.Footer>\r\n\t\t\t\t}\r\n\t\t\t</Modal>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default AddModal;","import React, { Component } from 'react';\r\nimport Modal from \"react-bootstrap/Modal\";\r\nimport \"bootstrap/dist/css/bootstrap.min.css\";\r\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\r\nimport Loader from 'react-loader-spinner';\r\nimport Row from 'react-bootstrap/Row';\r\nimport Col from 'react-bootstrap/Col';\r\nimport Button from 'react-bootstrap/Button';\r\nimport Form from 'react-bootstrap/Form';\r\nimport FormControl from 'react-bootstrap/FormControl';\r\nimport InputGroup from 'react-bootstrap/InputGroup';\r\nimport '../td-css/EditModal.css';\r\nimport Alert from 'react-bootstrap/Alert';\r\nimport Dropdown from 'react-bootstrap/Dropdown';\r\nimport ListGroup from 'react-bootstrap/ListGroup';\r\nimport uuid from 'react-uuid';\r\n\r\n//PROPS\r\n\t//data\r\n\t//editModalShow\r\n\t//selectedDate\r\n\t//toDateString()\r\n\t//isSaving\r\n\t//dataToEdit\r\n\t//editIndex\r\n\t//toggleEditModal()\r\n\t//toggleSaveBar()\r\n\t//reloadCalendar()\r\n\t//saveData()\r\nclass EditModal extends Component {\r\n\t\r\n\tstate = {\r\n\t\tdataToEdit: null,\r\n\t\thasLoaded: false,\r\n\t\tentryType: null,\r\n\t\tshowAlert: false,\r\n\t\talertMessage: \"\",\r\n\t\tnameMenuShow: false\r\n\t}\r\n\r\n\tcomponentDidMount = () => {\r\n\t\tthis.setState({dataToEdit: this.props.dataToEdit});\r\n\t}\r\n\tcomponentDidUpdate = () => {\r\n\t\tif(this.state.dataToEdit === null && this.props.dataToEdit !== null) {\r\n\t\t\tthis.setState({dataToEdit: this.props.dataToEdit});\r\n\t\t\tfor(var i = 0; i < this.props.data.metaData.entryTypes.length; i++) {\r\n\t\t\t\tif(this.props.dataToEdit.Category === this.props.data.metaData.entryTypes[i].Category && this.props.dataToEdit.Type === this.props.data.metaData.entryTypes[i].Type) {\r\n\t\t\t\t\tthis.setState({entryType: this.props.data.metaData.entryTypes[i]});\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\tonSelectName = (value) => {\r\n\t\tvar dataCopy = JSON.parse(JSON.stringify(this.state.dataToEdit));\r\n\t\tdataCopy.Name = value;\r\n\t\tthis.setState({dataToEdit: dataCopy});\r\n\t}\r\n\t\r\n\tshowNameList = (nameSearch) => {\r\n\t\tif(nameSearch.length === 0) {\r\n\t\t\tthis.setState({nameMenuShow: false});\r\n\t\t}\r\n\t\telse {\r\n\t\t\tthis.setState({nameMenuShow: true});\r\n\t\t}\r\n\t}\t\r\n\t\r\n\tonClickRootClose = () => {\r\n\t\tif(this.state.nameMenuShow) {\r\n\t\t\tthis.setState({nameMenuShow: false});\r\n\t\t}\r\n\t\telse {\r\n\t\t\tthis.setState({nameMenuShow: true});\r\n\t\t}\r\n\t}\r\n\t\r\n\tshowAlert = (msg) => {\r\n\t\tthis.setState({showAlert: true, alertMessage: msg});\r\n\t}\r\n\t\r\n\thideAlert = () => {\r\n\t\tthis.setState({showAlert: false});\r\n\t}\r\n\t\r\n\tcloseModal = () => {\r\n\t\tthis.props.toggleEditModal(null);\r\n\t\tthis.setState({dataToEdit: null, hasLoaded: false});\r\n\t\tthis.setState({newData: {}, showAlert: false, alertMessage: \"\"});\r\n\t}\r\n\t\r\n\tresetModal = () => {\r\n\t\tthis.setState({dataToEdit: null, hasLoaded: false});\r\n\t\tthis.setState({newData: {}, showAlert: false, alertMessage: \"\"});\r\n\t}\r\n\t\r\n\tvalidateFields = () => {\r\n\t\tif(this.state.entryType === null) {\r\n\t\t\tthis.showAlert(\"Cannot save data, you're missing some required fields!\");\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\tfor(var key in this.state.dataToEdit) {\r\n\t\t\tif(key === \"Notes\" || key === \"displayOrder\") {\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\t\t\telse if(this.state.dataToEdit[key].toString().trim().length === 0) {\r\n\t\t\t\tthis.showAlert(\"Cannot save data, you're missing some required fields!\");\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\telse if(this.state.entryType[key] === \"number\" && isNaN(Number(this.state.dataToEdit[key]))) {\r\n\t\t\t\tthis.showAlert(\"'\" + key + \"'\" + \" must be a number!\"); \r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\telse if(this.state.entryType[key] === \"string\" && !isNaN(Number(this.state.dataToEdit[key]))) {\r\n\t\t\t\tthis.showAlert(\"'\" + key + \"'\" + \" cannot be a number!\"); \r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tthis.state.dataToEdit[key] = this.state.dataToEdit[key].toString().trim();\r\n\t\t\t}\r\n\t\t}\r\n\t\tthis.hideAlert();\r\n\t\treturn true;\r\n\t}\r\n\t\r\n\tonChangeEdit = (e) => {\r\n\t\tvar copy = JSON.parse(JSON.stringify(this.state.dataToEdit));\r\n\t\tconst key = [e.target.name][0];\r\n\t\tconst value = e.target.value;\r\n\t\tif(key === \"Name\") {\r\n\t\t\tthis.showNameList(value);\r\n\t\t\tcopy[key] = value;\r\n\t\t}\r\n\t\telse {\r\n\t\t\tcopy[key] = value;\r\n\t\t}\r\n\t\tthis.setState({dataToEdit: copy});\r\n\t}\r\n\t\r\n\tonSelectName = (value) => {\r\n\t\tvar dataCopy = JSON.parse(JSON.stringify(this.state.dataToEdit));\r\n\t\tdataCopy.Name = value;\r\n\t\tthis.setState({dataToEdit: dataCopy});\r\n\t}\r\n\t\r\n\tsaveEdit = async () => {\r\n\t\tvar data = JSON.parse(JSON.stringify(this.props.data));\r\n\t\tvar nameExists = false;\r\n\t\tif(this.validateFields()) {\r\n\t\t\tif(this.state.dataToEdit.Name !== undefined && this.state.dataToEdit.Name !== null) {\r\n\t\t\t\tfor(var i = 0; i < data.entryNames.length; i++) {\r\n\t\t\t\t\tif(this.state.dataToEdit.Name === data.entryNames[i].Name) {\r\n\t\t\t\t\t\tnameExists = true;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tif(!nameExists) {\r\n\t\t\t\t\tvar newName = {};\r\n\t\t\t\t\tnewName.Name = this.state.dataToEdit.Name\r\n\t\t\t\t\tnewName.Category = this.state.dataToEdit.Category;\r\n\t\t\t\t\tnewName.Type = this.state.dataToEdit.Type;\r\n\t\t\t\t\tdata.entryNames.push(newName);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tdata.userData[this.props.editIndex] = this.state.dataToEdit;\r\n\t\t\tawait this.props.saveData(data, \"save\", \"EditModal\");\r\n\t\t\tthis.props.reloadCalendar();\r\n\t\t\tthis.closeModal();\r\n\t\t}\r\n\t\telse {\r\n\t\t\treturn;\r\n\t\t}\r\n\t}\r\n\t\r\n\tcreateEditFields = () => {\r\n\t\tif(this.state.dataToEdit === null || this.state.dataToEdit == undefined) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\tconst editFields = this.state.dataToEdit.displayOrder.map((key) => {\r\n\t\t\tif(key === \"Category\" || key === \"Type\") {\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<ListGroup horizontal>\r\n\t\t\t\t\t\t<ListGroup.Item style = {{width: \"50%\"}}>\r\n\t\t\t\t\t\t\t{key}\r\n\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t<ListGroup.Item style = {{width: \"50%\"}}>\r\n\t\t\t\t\t\t\t\t<FormControl\r\n\t\t\t\t\t\t\t\t\tas = \"input\"\r\n\t\t\t\t\t\t\t\t\tname = {key}\r\n\t\t\t\t\t\t\t\t\tvalue = {this.state.dataToEdit[key]}\r\n\t\t\t\t\t\t\t\t\tdisabled = {true}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t</ListGroup>\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t\telse if(key === \"Name\") {\r\n\t\t\t\tvar nameList = [];\r\n\t\t\t\tfor(var i = 0; i < this.props.data.entryNames.length ; i++) {\r\n\t\t\t\t\tvar nameData = this.props.data.entryNames[i];\r\n\t\t\t\t\tif(this.state.dataToEdit.Category === nameData.Category && this.state.dataToEdit.Type === nameData.Type) {\r\n\t\t\t\t\t\tnameList.push(nameData.Name);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<ListGroup horizontal>\r\n\t\t\t\t\t\t<ListGroup.Item style = {{width: \"50%\"}}>\r\n\t\t\t\t\t\t\t{key}\r\n\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t<ListGroup.Item style = {{width: \"50%\"}}>\r\n\t\t\t\t\t\t\t<InputGroup>\r\n\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\tas = \"input\"\r\n\t\t\t\t\t\t\t\t\tautoComplete = \"off\"\r\n\t\t\t\t\t\t\t\t\tname = {key}\r\n\t\t\t\t\t\t\t\t\tvalue = {this.state.dataToEdit[key]}\r\n\t\t\t\t\t\t\t\t\tonChange = {(e) => {this.onChangeEdit(e)}}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<Dropdown show = {this.state.nameMenuShow} as = {InputGroup.Prepend} onToggle = {this.onClickRootClose.bind(this)}>\r\n\t\t\t\t\t\t\t\t\t<Dropdown.Toggle variant = \"outline-secondary\" eventkey = \"00\"> </Dropdown.Toggle>\r\n\t\t\t\t\t\t\t\t\t<Dropdown.Menu rootCloseEvent = \"click\">\r\n\t\t\t\t\t\t\t\t\t\t{nameList.map((name) => {\r\n\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Dropdown.Item key = {uuid()} onSelect = {this.onSelectName.bind(this, name)} >\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{name}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Dropdown.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t</Dropdown.Menu>\r\n\t\t\t\t\t\t\t\t</Dropdown> \r\n\t\t\t\t\t\t\t</InputGroup> \r\n\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t</ListGroup>\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<ListGroup horizontal>\r\n\t\t\t\t\t\t<ListGroup.Item style = {{width: \"50%\"}}>\r\n\t\t\t\t\t\t\t{key}\r\n\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t<ListGroup.Item style = {{width: \"50%\"}}>\r\n\t\t\t\t\t\t\t<FormControl\r\n\t\t\t\t\t\t\t\tas = \"input\"\r\n\t\t\t\t\t\t\t\tname = {key}\r\n\t\t\t\t\t\t\t\tvalue = {this.state.dataToEdit[key]}\r\n\t\t\t\t\t\t\t\tonChange = {(e) => {this.onChangeEdit(e)}}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t</ListGroup>\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t});\r\n\t\treturn <div> {editFields} </div>\r\n\t}\r\n\t\r\n\trender() {\r\n\t\tconst inputs = this.createEditFields();\r\n\t\tconst dateString = this.props.toDateString(this.props.selectedDate);\r\n\t\treturn (\r\n\t\t\t<Modal \r\n\t\t\t\tshow={this.props.editModalShow}\r\n\t\t\t\tcentered = {true}\r\n\t\t\t\tscrollable = {true}\r\n\t\t\t\tsize = \"lg\"\r\n\t\t\t\tonExited = {this.resetModal}\r\n\t\t\t\tonHide = {this.closeModal}\r\n\t\t\t\tbackdrop = \"static\"\r\n\t\t\t>\r\n\t\t\t  <Modal.Header>\r\n\t\t\t\t<h4 className = \"modal-header-tag\"> Edit Training Data </h4>\r\n\t\t\t\t<h4 className = \"modal-header-tag\"> {dateString} </h4>\r\n\t\t\t  </Modal.Header>\r\n\t\t\t  \r\n\t\t\t  <Modal.Body>\r\n\t\t\t\t{inputs}\r\n\t\t\t  </Modal.Body>\r\n\t\t\t  \r\n\t\t\t\t{!this.state.showAlert\r\n\t\t\t\t\r\n\t\t\t\t?\r\n\t\t\t\t\t<Modal.Footer>\r\n\t\t\t\t\t\t<div className = \"loader-container\">\r\n\t\t\t\t\t\t\t<Loader type=\"ThreeDots\" \r\n\t\t\t\t\t\t\t\tcolor=\"#00BFFF\" \r\n\t\t\t\t\t\t\t\theight={80} \r\n\t\t\t\t\t\t\t\twidth={80} \r\n\t\t\t\t\t\t\t\tvisible = {this.props.isSaving}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<Button variant = \"primary\" disabled = {this.props.isSaving} onClick = {this.closeModal}> Close </Button>\r\n\t\t\t\t\t\t<Button variant = \"primary\" disabled = {this.props.isSaving} onClick = {(e) => {this.saveEdit(e)}}> Save </Button>\r\n\t\t\t\t\t</Modal.Footer>\r\n\t\t\t\t\r\n\t\t\t\t:\r\n\t\t\t\t\r\n\t\t\t\t\t<Modal.Footer>\r\n\t\t\t\t\t\t<Alert className = \"error-alert\" variant = \"danger\" onClose = {this.hideAlert.bind(this)} dismissible>\r\n\t\t\t\t\t\t\t<p> {this.state.alertMessage} </p>\r\n\t\t\t\t\t\t</Alert>\r\n\t\t\t\t\t\t<div className = \"loader-container\">\r\n\t\t\t\t\t\t\t<Loader type=\"ThreeDots\" \r\n\t\t\t\t\t\t\t\tcolor=\"#00BFFF\" \r\n\t\t\t\t\t\t\t\theight={80} \r\n\t\t\t\t\t\t\t\twidth={80} \r\n\t\t\t\t\t\t\t\tvisible = {this.props.isSaving}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<Button variant = \"primary\" disabled = {this.props.isSaving} onClick = {this.closeModal}> Close </Button>\r\n\t\t\t\t\t\t<Button variant = \"primary\" disabled = {this.props.isSaving} onClick = {(e) => {this.saveEdit(e)}}> Save </Button>\r\n\t\t\t\t\t</Modal.Footer>\r\n\t\t\t\t}\r\n\t\t\t</Modal>\t\t\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default EditModal; ","import React, { Component } from 'react';\r\nimport Container from 'react-bootstrap/Container';\r\nimport Row from 'react-bootstrap/Row';\r\nimport Col from 'react-bootstrap/Col';\r\nimport Button from 'react-bootstrap/Button';\r\nimport {Calendar as ReactCalendar} from 'react-calendar';\r\nimport '../td-css/Calendar.css';\r\nimport AddModal from './AddModal.js';\r\nimport EditModal from './EditModal.js';\r\nimport Accordion from 'react-bootstrap/Accordion';\r\nimport Card from 'react-bootstrap/Card';\r\nimport ListGroup from 'react-bootstrap/ListGroup';\r\nimport OverlayTrigger from 'react-bootstrap/OverlayTrigger';\r\nimport Popover from 'react-bootstrap/Popover';\r\nimport uuid from 'react-uuid';\r\n\r\n//PROPS\r\n\t//data \r\n\t//onClickAdd()\r\n\t//addModalShow\r\n\t//isSaving\r\n\t//toggleSaveBar()\r\n\t//toggleAddModal()\r\n\t//saveData()\r\nclass Calendar extends Component {\r\n\t\r\n\tstate = {\r\n\t\tselectedDate: null,\r\n\t\tselectedDateString: null,\r\n\t\tminDate: null,\r\n\t\tisDataOnDate: null,\r\n\t\thasLoaded: false, //flag to determine if data has loaded, mainly using it for initially determining if selected date has data \r\n\t\tdisplayData: null,\r\n\t\teventKey: 0,\r\n\t\tdataToEdit: null,\r\n\t\teditIndex: -1,\r\n\t\teventKey: -1\r\n\t}\r\n\t\r\n\t/* COMPONENT MOUNTING AND UPDATING METHODS */ \r\n\r\n\tcomponentDidMount = () => {\r\n\t\tthis.setState({selectedDate: this.formatNewDate(), selectedDateString: this.toDateString(this.formatNewDate())});\r\n\t}\r\n\r\n\tcomponentDidUpdate = () => {\r\n\t\tif(this.state.selectedDateString !== this.toDateString(this.state.selectedDate)){\r\n\t\t\tthis.setState({selectedDateString: this.toDateString(this.state.selectedDate), isDataOnDate: this.isSelectedDateInDateList()});\r\n\t\t}\r\n\t\tif(!this.state.hasLoaded && this.props.data !== null) {\r\n\t\t\tthis.setState({hasLoaded: true, minDate: this.formatDate(this.props.data.birthday), isDataOnDate: this.isSelectedDateInDateList()});\r\n\t\t}\r\n\t\tif(this.props.dataToEdit !== this.props.dataToEdit) {\r\n\t\t\tthis.setState({dataToEdit: this.props.dataToEdit});\r\n\t\t}\r\n\t\tif(this.state.eventKey > 1000) {\r\n\t\t\tthis.setState({eventKey: -1});\r\n\t\t}\r\n\t}\r\n\t\r\n\t//onclick event to handle edit button click\r\n\tonClickEdit = (index) => {\r\n\t\tthis.setState({editIndex: index});\r\n\t\tthis.props.toggleEditModal(this.props.data.userData[index]);\r\n\t}\r\n\t\r\n\t/* CALENDAR METHODS */\r\n\t\r\n\t//reloads after save from Add Modal\r\n\treloadCalendar = () => {\r\n\t\tthis.setState({hasLoaded: false});\r\n\t}\r\n\t\r\n\t//returns true if selected date is in dateList, false if not\r\n\tisSelectedDateInDateList = () => {\r\n\t\tif(this.props.data === null || this.props.data === undefined || this.state.selectedDate === null || this.state.selectedDate === undefined) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\tconst dateList = this.createDateList();\r\n\t\tfor(var i = 0; i < dateList.length; i++) {\r\n\t\t\tconst date = dateList[i];\r\n\t\t\tif(date.getTime() === this.state.selectedDate.getTime()) {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n\t\r\n\t//creates dateList to mark calendar \r\n\tcreateDateList = () => {\r\n\t\tif(this.props.data === null || this.props.data === undefined) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\tconst dateList = [];\r\n\t\tfor(var i = 0; i < this.props.data.userData.length; i++) {\r\n\t\t\tconst data = this.props.data.userData[i];\r\n\t\t\tconst dateString = data.Date;\r\n\t\t\tconst date = this.formatDate(dateString);\r\n\t\t\tdateList.push(date);\r\n\t\t}\r\n\t\treturn dateList;\r\n\t}\r\n\t\r\n\t//used to set today's date to zero hours, minutes, and seconds\r\n\tformatNewDate () {\r\n\t\tvar today = new Date();\r\n\t\tvar formatToday = new Date(today.getFullYear(), today.getMonth(), today.getDate(), 0, 0, 0);\r\n\t\treturn formatToday;\r\n\t}\r\n\t\r\n\t//used to format a new date based on date string\r\n\tformatDate = (dateString) => {\r\n\t\tvar date = new Date(dateString);\r\n\t\tvar formattedDate = new Date(date.getFullYear(), date.getMonth(), date.getDate(), 0, 0, 0);\r\n\t\treturn formattedDate;\r\n\t}\r\n\t\r\n\t//converts date into a string\r\n\ttoDateString = (date) => {\r\n\t\tif(date === null || date === undefined) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\tvar formattedDate = require('dateformat');\r\n\t\treturn formattedDate(date.toString(), \"fullDate\");\r\n\t}\r\n\t\r\n\t//onclick event handler when a day on the calendar is selected\r\n\tselectDay = (value) => {\r\n\t\tthis.setState({selectedDate: value});\r\n\t}\r\n\t\r\n\t//onclick event handler to delete an entry\r\n\tdeleteEntry = (index) => {\r\n\t\tvar approveDelete = window.confirm(\"Are you sure you want to delete this entry?\");\r\n\t\tif(approveDelete) {\r\n\t\t\tthis.props.data.userData.splice(index, 1);\r\n\t\t\tthis.props.saveData(this.props.data, \"delete\", \"Calendar\");\r\n\t\t}\r\n\t\telse {\r\n\t\t\treturn;\r\n\t\t}\r\n\t}\r\n\t\r\n\t/* DATA DISPLAY METHODS */ \r\n\t\r\n\tsortByDisplayName = (entry) => {\r\n\t\tconst displayOrder = entry.displayOrder;\r\n\t\tconst orderedJson = {};\r\n\t\tfor(var i = 0; i < displayOrder.length; i++) {\r\n\t\t\torderedJson[displayOrder[i]] = entry[displayOrder[i]];\r\n\t\t}\r\n\t\treturn orderedJson;\r\n\t}\r\n\t\r\n\tcalculateTotals = (data) => {\r\n\t\tvar totalList = [];\r\n\t\tfor(var i = 0; i < this.props.data.metaData.entryTypes.length; i++) {\r\n\t\t\tvar entryType = this.props.data.metaData.entryTypes[i];\r\n\t\t\tvar total = {Category: \"\", Type: \"\", calculationType: \"\", numOfEntries: 0, total: 0};\r\n\t\t\tfor(var x = 0; x < data.length; x++) {\r\n\t\t\t\tvar entry = data[x];\r\n\t\t\t\tvar numKey = \"\";\r\n\t\t\t\tfor(var key in entry) {\r\n\t\t\t\t\tif(!isNaN(entry[key]) && entry[key].length !== 0) {\r\n\t\t\t\t\t\tnumKey = key;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tif(entryType.Category === entry.Category && entryType.Type === entry.Type && entryType.calculationType !== \"none\" && numKey !== \"\") {\r\n\t\t\t\t\ttotal.Category = entry.Category;\r\n\t\t\t\t\ttotal.Type = entry.Type;\r\n\t\t\t\t\ttotal.calculationType = entryType.calculationType;\r\n\t\t\t\t\ttotal.numOfEntries = total.numOfEntries + 1;\r\n\t\t\t\t\ttotal.total = total.total + Number(entry[numKey]);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif(total.Category !== \"\" && total.Type !== \"\" && total.calculationType !== \"none\" && total.total !== 0) {\r\n\t\t\t\ttotalList.push(total);\r\n\t\t\t}\r\n\t\t}\r\n\t\tif(totalList.length === 0) {\r\n\t\t\treturn totalList;\r\n\t\t}\r\n\t\tvar results = [];\r\n\t\tfor(i = 0; i < totalList.length; i++) {\r\n\t\t\tvar total = totalList[i];\r\n\t\t\tvar result = {};\r\n\t\t\tif(total.numOfEntries === 1) {\r\n\t\t\t\tresult.Category = total.Category;\r\n\t\t\t\tresult.Type = total.Type;\r\n\t\t\t\tresult[total.Type] = total.total;\r\n\t\t\t\tresult.calculationType = total.calculationType.charAt(0).toUpperCase() + total.calculationType.slice(1);\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\t//only going to support add and average for now, since subtract, multiply, and divide don't really make sense for the given categories and types\r\n\t\t\t\tif(total.calculationType === \"add\") {\r\n\t\t\t\t\tresult.Category = total.Category;\r\n\t\t\t\t\tresult.Type = total.Type;\r\n\t\t\t\t\tresult[total.Type] = total.total;\r\n\t\t\t\t\tresult.calculationType = total.calculationType.charAt(0).toUpperCase() + total.calculationType.slice(1);\r\n\t\t\t\t}\r\n\t\t\t\telse if(total.calculationType === \"average\") {\r\n\t\t\t\t\tresult.Category = total.Category;\r\n\t\t\t\t\tresult.Type = total.Type;\r\n\t\t\t\t\tresult[total.Type] = (total.total / total.numOfEntries).toFixed(2);\r\n\t\t\t\t\tresult.calculationType = total.calculationType.charAt(0).toUpperCase() + total.calculationType.slice(1);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tresults.push(result);\r\n\t\t}\r\n\t\treturn results;\r\n\t}\r\n\t\r\n\tgoalAchieved = (entry) => {\r\n\t\tvar numKey = \"Amount\";\r\n\t\tfor(var key in entry) {\r\n\t\t\tif(!isNaN(entry[key]) && entry[key].toString().trim().length !== 0) {\r\n\t\t\t\tnumKey = key;\r\n\t\t\t}\r\n\t\t}\r\n\t\tfor(var i = 0; i < this.props.data.goals.length; i++) {\r\n\t\t\tvar goal = this.props.data.goals[i];\r\n\t\t\tif(goal[\"Goal Type\"] === entry.Category) {\r\n\t\t\t\tif(!goal.deletable) {\r\n\t\t\t\t\tif(Number(goal.Fields[entry.Type]) === Number(entry[numKey])) {\r\n\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tvar isAchieved = false;\r\n\t\t\t\t\tfor(var key in goal.Fields) {\r\n\t\t\t\t\t\tif(goal.Fields[key] === entry[key]) {\r\n\t\t\t\t\t\t\tisAchieved = true;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\tisAchieved = false;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(isAchieved) {\r\n\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n\t\r\n\tdisplayData = () => {\r\n\t\tif(this.state.selectedDate === null || this.state.selectedDate === undefined || this.props.data === null || this.props.data === undefined) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\tconst enteredCategories = [];\r\n\t\tconst entries = [];\r\n\t\tfor(var i = 0; i < this.props.data.userData.length; i++) {\r\n\t\t\tif(new Date(this.props.data.userData[i].Date).getTime() === this.state.selectedDate.getTime()) {\r\n\t\t\t\tentries.push(this.props.data.userData[i]);\r\n\t\t\t\tif(!enteredCategories.includes(this.props.data.userData[i].Category)) {\r\n\t\t\t\t\tenteredCategories.push(this.props.data.userData[i].Category);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tconst totals = this.calculateTotals(entries);\r\n\t\t\r\n\t\tconst cards = enteredCategories.map((category, catIndex) => {\r\n\t\t\tvar id = uuid();\r\n\t\t\treturn (\r\n\t\t\t\t<Card key = {uuid}>\r\n\t\t\t\t\t<Card.Header>\r\n\t\t\t\t\t\t<Accordion.Toggle as = {Button} variant = \"link\" eventKey = {id}>\r\n\t\t\t\t\t\t\t{category}\r\n\t\t\t\t\t\t</Accordion.Toggle>\r\n\t\t\t\t\t</Card.Header>\r\n\t\t\t\t\t<Accordion.Collapse eventKey = {id}>\r\n\t\t\t\t\t\t<Card.Body>\r\n\t\t\t\t\t\t\t{this.props.data.userData.map((entry, index) => {\r\n\t\t\t\t\t\t\t\tif(new Date(entry.Date).getTime() === this.state.selectedDate.getTime() && category === entry.Category) {\r\n\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t<div key = {uuid()}>\r\n\t\t\t\t\t\t\t\t\t\t\t{this.goalAchieved(entry) && entry.calculationType === \"none\"\r\n\t\t\t\t\t\t\t\t\t\t\t?\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div> Goal Achieved  </div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{entry.displayOrder.map((key) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tif(key !== \"Notes\") {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ListGroup horizontal key = {uuid()}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ListGroup.Item style = {{width: \"40%\"}}> <strong> {key} </strong> </ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ListGroup.Item style = {{width: \"60%\"}}> {entry[key]} </ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</ListGroup>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tconst popover = (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Popover>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Popover.Title as = \"h3\"> {key} </Popover.Title>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Popover.Content> {entry[key]} </Popover.Content>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Popover>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div key = {uuid()}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<OverlayTrigger trigger = \"click\" placement = \"right\" overlay = {popover} rootClose = {true}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button variant = \"success\"> {key} </Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</OverlayTrigger>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button variant = \"light\" className = \"deleteEditButtons\" onClick = {this.deleteEntry.bind(this, index)}>  </Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button variant = \"light\" className = \"deleteEditButtons\" onClick = {this.onClickEdit.bind(this, index)}>  </Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<hr style = {{border: \"1px solid black\"}} />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t:\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{entry.displayOrder.map((key) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tif(key !== \"Notes\") {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ListGroup horizontal key = {uuid()}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ListGroup.Item style = {{width: \"40%\"}}> <strong> {key} </strong> </ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ListGroup.Item style = {{width: \"60%\"}}> {entry[key]} </ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</ListGroup>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tconst popover = (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Popover>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Popover.Title as = \"h3\"> {key} </Popover.Title>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Popover.Content> {entry[key]} </Popover.Content>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Popover>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div key = {uuid()}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<OverlayTrigger trigger = \"click\" placement = \"right\" overlay = {popover} rootClose = {true}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button variant = \"success\"> {key} </Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</OverlayTrigger>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button variant = \"light\" className = \"deleteEditButtons\" onClick = {this.deleteEntry.bind(this, index)}>  </Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button variant = \"light\" className = \"deleteEditButtons\" onClick = {this.onClickEdit.bind(this, index)}>  </Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<hr style = {{border: \"1px solid black\"}} />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\treturn null;\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t</Card.Body>\r\n\t\t\t\t\t</Accordion.Collapse>\r\n\t\t\t\t</Card>\r\n\t\t\t)\r\n\t\t});\r\n\t\treturn (\r\n\t\t\t<Accordion> \r\n\t\t\t\t{cards} \r\n\t\t\t\t{totals.length !== 0\r\n\t\t\t\t?\r\n\t\t\t\t<Card key = {uuid()}>\r\n\t\t\t\t\t<Card.Header>\r\n\t\t\t\t\t\t<Accordion.Toggle as = {Button} variant = \"link\" eventKey = \"total\">\r\n\t\t\t\t\t\t\tData Totals \r\n\t\t\t\t\t\t</Accordion.Toggle>\r\n\t\t\t\t\t</Card.Header>\r\n\t\t\t\t\t<Accordion.Collapse eventKey = \"total\">\r\n\t\t\t\t\t\t<Card.Body>\r\n\t\t\t\t\t\t{totals.map((total) => {\r\n\t\t\t\t\t\t\tif(this.goalAchieved(total)) {\r\n\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t<div> Goal Achieved  </div>\r\n\t\t\t\t\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t\t\t\t\t<ListGroup horizontal key = {uuid()}>\r\n\t\t\t\t\t\t\t\t\t\t\t<ListGroup.Item style = {{width: \"50%\"}}> <strong> {total.Type} </strong> </ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t<ListGroup.Item style = {{width: \"50%\"}}> {total[total.Type]} </ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t</ListGroup>\r\n\t\t\t\t\t\t\t\t\t\t<hr style = {{border: \"1px solid black\"}} />\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t<ListGroup horizontal key = {uuid()}>\r\n\t\t\t\t\t\t\t\t\t\t<ListGroup.Item style = {{width: \"50%\"}}> <strong> {total.Type} </strong> </ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t<ListGroup.Item style = {{width: \"50%\"}}> {total[total.Type]} </ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t</ListGroup>\r\n\t\t\t\t\t\t\t\t\t<hr style = {{border: \"1px solid black\"}} />\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t</Card.Body>\r\n\t\t\t\t\t</Accordion.Collapse>\r\n\t\t\t\t</Card>\r\n\t\t\t\t:\r\n\t\t\t\t<div> </div>\r\n\t\t\t\t}\r\n\t\t\t</Accordion>\r\n\t\t)\r\n\t}\r\n\t\r\n\trender() {\r\n\t\tconst markedCalendar = ({activeStartDate, date, view}) => {\r\n\t\t\tif(this.props.data === null || this.props.data == undefined) {\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t\tif(view === \"month\" && this.createDateList().find(x => x.getTime() === date.getTime())) {\r\n\t\t\t\treturn <div>  </div>\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tconst displayData = this.displayData();\r\n\t\treturn (\r\n\t\t\t<Container fluid>\r\n\t\t\t\t<Row>\r\n\t\t\t\t\t<AddModal \r\n\t\t\t\t\t\tdata = {this.props.data} \r\n\t\t\t\t\t\tselectedDate = {this.state.selectedDate}\r\n\t\t\t\t\t\tsaveData = {this.props.saveData}\r\n\t\t\t\t\t\ttoDateString = {this.toDateString}\r\n\t\t\t\t\t\taddModalShow = {this.props.addModalShow}\r\n\t\t\t\t\t\tisSaving = {this.props.isSaving}\r\n\t\t\t\t\t\ttoggleAddModal = {this.props.toggleAddModal}\r\n\t\t\t\t\t\ttoggleSaveBar = {this.props.toggleSaveBar}\r\n\t\t\t\t\t\treloadCalendar = {this.reloadCalendar}\r\n\t\t\t\t\t\tcreateDateList = {this.createDateList}\r\n\t\t\t\t\t/> \r\n\t\t\t\t</Row>\r\n\t\t\t\t<Row>\r\n\t\t\t\t\t<EditModal \r\n\t\t\t\t\t\tdata = {this.props.data}\r\n\t\t\t\t\t\teditModalShow = {this.props.editModalShow}\r\n\t\t\t\t\t\tselectedDate = {this.state.selectedDate}\r\n\t\t\t\t\t\ttoDateString = {this.toDateString}\r\n\t\t\t\t\t\tisSaving = {this.props.isSaving}\r\n\t\t\t\t\t\ttoggleEditModal = {this.props.toggleEditModal}\r\n\t\t\t\t\t\ttoggleSaveBar = {this.props.toggleSaveBar}\r\n\t\t\t\t\t\treloadCalendar = {this.reloadCalendar}\r\n\t\t\t\t\t\tsaveData = {this.props.saveData}\r\n\t\t\t\t\t\tdataToEdit = {this.props.dataToEdit}\r\n\t\t\t\t\t\teditIndex = {this.state.editIndex}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Row>\r\n\t\t\t\t<Row>\r\n\t\t\t\t\t<Col sm = {5}>\r\n\t\t\t\t\t\t{this.state.isDataOnDate \r\n\t\t\t\t\t\t?\r\n\t\t\t\t\t\t<div className = \"calendar-container\">\r\n\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t<Col sm = {11}>\r\n\t\t\t\t\t\t\t\t\t<h2 className = \"date-string\"> {this.state.selectedDateString} </h2>\r\n\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t<Col sm = {1}>\r\n\t\t\t\t\t\t\t\t\t<Button variant = \"primary\" className = \"add-data-button\" onClick = {this.props.toggleAddModal}> + </Button>\r\n\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t{displayData}\r\n\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t:\r\n\t\t\t\t\t\t<div className = \"calendar-container\">\r\n\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t<Col sm = {11}>\r\n\t\t\t\t\t\t\t\t\t<h2 className = \"date-string\"> {this.state.selectedDateString} </h2>\r\n\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t<Col sm = {1}>\r\n\t\t\t\t\t\t\t\t\t<Button variant = \"primary\" className = \"add-data-button\" onClick = {this.props.toggleAddModal}> + </Button>\r\n\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t<Col sm = {6}>\r\n\t\t\t\t\t\t\t\t\t<p style = {{marginLeft: \"1%\"}}> Nothing to see here... </p>\r\n\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<Col sm = {7}>\r\n\t\t\t\t\t\t<div className = \"calendar-container\">\r\n\t\t\t\t\t\t\t<ReactCalendar \r\n\t\t\t\t\t\t\t\tminDate = {this.state.minDate}\r\n\t\t\t\t\t\t\t\tshowNeighboringMonth = {false}\r\n\t\t\t\t\t\t\t\tonClickDay = {this.selectDay}\r\n\t\t\t\t\t\t\t\ttileContent = {markedCalendar}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t</Row>\r\n\t\t\t</Container>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default Calendar;","import React, { Component } from 'react';\r\nimport Container from 'react-bootstrap/Container';\r\nimport Row from 'react-bootstrap/Row';\r\nimport Col from 'react-bootstrap/Col';\r\nimport Button from 'react-bootstrap/Button';\r\nimport Dropdown from 'react-bootstrap/Dropdown';\r\nimport FormControl from 'react-bootstrap/FormControl';\r\nimport Form from 'react-bootstrap/Form';\r\nimport { LineChart, Line, XAxis, YAxis, CartesianGrid, Tooltip, Legend, ResponsiveContainer } from 'recharts';\r\nimport '../td-css/Graph.css';\r\n//import DatePicker from 'react-date-picker';\r\nimport DatePicker from 'react-datepicker';\r\nimport Accordion from 'react-bootstrap/Accordion';\r\nimport Card from 'react-bootstrap/Card';\r\n//import DatePicker from 'react-date-picker/dist/entry.nostyle';\r\n//PROPS\r\n\t//data\r\nclass Graph extends Component {\r\n\t\r\n\tstate = {\r\n\t\ttestData: [\r\n\t\t\t{name: \"test1\", data: 1},\r\n\t\t\t{name: \"test2\", data: 2},\r\n\t\t\t{name: \"test3\", data: 3},\r\n\t\t\t{name: \"test4\", data: 4},\r\n\t\t],\r\n\t\tgraphOption: \"Graph Options\",\r\n\t\tstartDate: null,\r\n\t\tendDate: null,\r\n\t\tgraphData: [],\r\n\t\tlineColors: [\"Aqua\", \"Black\", \"Blue\", \"BlueViolet\", \"Brown\", \"Chocolate\", \"Crimson\", \"DarkGreen\", \"DeepPink\", \"LightSeaGreen\", \"Maroon\",\r\n\t\t\t\t\t\"Navy\", \"Olive\", \"MidnightBlue\", \"Tomato\"],\r\n\t\tusedColors: [],\r\n\t\tcolorIndex: -1,\r\n\t\tgraphFilters: [],\r\n\t\trangeValue: null\r\n\t}\r\n\t\r\n\tcomponentDidUpdate = () => {\r\n\t\tif(this.state.colorIndex > this.state.lineColors.length) {\r\n\t\t\tthis.setState({colorIndex: -1});\r\n\t\t}\r\n\t}\r\n\t\r\n\tonSelectOption = (option) => {\r\n\t\tthis.setState({graphOption: option, graphFilters: []});\r\n\t}\r\n\t\r\n\tonSelectStartDate = (date) => {\r\n\t\tthis.setState({startDate: date});\r\n\t}\r\n\t\r\n\tonSelectEndDate = (date) => {\r\n\t\tthis.setState({endDate: date});\r\n\t}\r\n\t\r\n\tonChangeSlider = (e) => {\r\n\t\tthis.setState({rangeValue: e.target.value});\r\n\t}\r\n\t\r\n\tonSelectFilter = (filterName) => {\r\n\t\tvar filtersCopy = this.state.graphFilters.slice();\r\n\t\tif(!filtersCopy.includes(filterName)) {\r\n\t\t\tfiltersCopy.push(filterName);\r\n\t\t\tthis.setState({graphFilters: filtersCopy});\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tfiltersCopy.splice(filtersCopy.indexOf(filterName), 1);\r\n\t\tthis.setState({graphFilters: filtersCopy});\r\n\t}\r\n\t\r\n\tcreateOptionDropdown = () => {\r\n\t\tif(this.props.data === null || this.props.data === undefined) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\treturn (\r\n\t\t\t<Dropdown className = \"options-button\">\r\n\t\t\t\t<Dropdown.Toggle variant = \"primary\">\r\n\t\t\t\t\t{this.state.graphOption}\r\n\t\t\t\t</Dropdown.Toggle>\r\n\t\t\t\t<Dropdown.Menu>\r\n\t\t\t\t\t{this.props.data.metaData.categories.map((category, index) => {\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<Dropdown.Header>\r\n\t\t\t\t\t\t\t\t\t<strong> {category} </strong>\r\n\t\t\t\t\t\t\t\t</Dropdown.Header>\r\n\t\t\t\t\t\t\t\t{this.props.data.metaData.entryTypes.map((entry) => {\r\n\t\t\t\t\t\t\t\t\tif(category === entry.Category) {\r\n\t\t\t\t\t\t\t\t\t\tfor(var key in entry) {\r\n\t\t\t\t\t\t\t\t\t\t\tif(entry[key] === \"number\") {\r\n\t\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Dropdown.Item onSelect = {this.onSelectOption.bind(this, entry.Type)}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{entry.Type}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Dropdown.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t})}\r\n\t\t\t\t</Dropdown.Menu>\r\n\t\t\t</Dropdown>\r\n\t\t)\r\n\t}\r\n\t\r\n\tcreateDateDropdown = () => {\r\n\t\treturn (\r\n\t\t\t<Dropdown className = \"options-button\">\r\n\t\t\t\t<Dropdown.Toggle variant = \"primary\">\r\n\t\t\t\t\tDate Range\r\n\t\t\t\t</Dropdown.Toggle>\r\n\t\t\t\t<Dropdown.Menu>\r\n\t\t\t\t\t<Dropdown.Item as = {this.dateOption}> </Dropdown.Item>\r\n\t\t\t\t</Dropdown.Menu>\r\n\t\t\t</Dropdown>\r\n\t\t);\r\n\t}\r\n\t\r\n\tfilterGraphData = (graphData) => {\r\n\t\tif(this.state.graphFilters === null || this.state.graphFilters.length === 0 || graphData === null || graphData.length === 0) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\tvar filteredGraphData = [];\r\n\t\tvar numericFilters = [];\r\n\t\t//apply name filters first\r\n\t\tfor(var i = 0; i < graphData.length; i++) {\r\n\t\t\tvar entry = graphData[i];\r\n\t\t\tfor(var x = 0; x < this.state.graphFilters.length; x++) {\r\n\t\t\t\tvar filter = this.state.graphFilters[x];\r\n\t\t\t\tfor(var key in entry) {\r\n\t\t\t\t\tif(entry[key] === filter) {\r\n\t\t\t\t\t\tfilteredGraphData.push(entry);\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse if(!isNaN(entry[filter])){\r\n\t\t\t\t\t\tif(!numericFilters.includes(filter)) {\r\n\t\t\t\t\t\t\tnumericFilters.push(filter);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\t//apply numeric filters now\r\n\t\tif(filteredGraphData.length === 0) {\r\n\t\t\tfor(i = 0; i < graphData.length; i++) {\r\n\t\t\t\tvar entry = graphData[i];\r\n\t\t\t\tvar filteredEntry = {};\r\n\t\t\t\tfor(x = 0; x < this.state.graphFilters.length; x++) {\r\n\t\t\t\t\tvar filter = this.state.graphFilters[x];\r\n\t\t\t\t\tif(Object.keys(entry).includes(filter)) {\r\n\t\t\t\t\t\tfilteredEntry[filter] = entry[filter];\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tfilteredEntry[\"Name\"] = entry[\"Name\"];\r\n\t\t\t\tfilteredEntry[\"Date\"] = entry[\"Date\"];\r\n\t\t\t\tfilteredGraphData.push(filteredEntry);\r\n\t\t\t}\r\n\t\t\treturn filteredGraphData\r\n\t\t}\r\n\t\telse {\r\n\t\t\tif(numericFilters.length === 0) {\r\n\t\t\t\treturn filteredGraphData;\r\n\t\t\t}\r\n\t\t\tvar finalFilteredGraphData = [];\r\n\t\t\tfor(i = 0; i < filteredGraphData.length; i++) {\r\n\t\t\t\tvar entry = filteredGraphData[i];\r\n\t\t\t\tvar filteredEntry = {};\r\n\t\t\t\tfor(x = 0; x < this.state.graphFilters.length; x++) {\r\n\t\t\t\t\tvar filter = this.state.graphFilters[x];\r\n\t\t\t\t\tif(Object.keys(entry).includes(filter)) {\r\n\t\t\t\t\t\tfilteredEntry[filter] = entry[filter];\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t\tfilteredEntry[\"Name\"] = entry[\"Name\"];\r\n\t\t\t\tfilteredEntry[\"Date\"] = entry[\"Date\"];\r\n\t\t\t\tfinalFilteredGraphData.push(filteredEntry);\r\n\t\t\t}\r\n\t\t\treturn finalFilteredGraphData;\r\n\t\t}\r\n\t\treturn null;\r\n\t}\r\n\t\r\n\tgetGraphData = () => {\r\n\t\tvar graphData = [];\r\n\t\tif(this.state.startDate === null || this.state.endDate === null || this.state.graphOption === \"Graph Options\" || this.state.startDate.getTime() > this.state.endDate.getTime()) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\tfor(var i = 0; i < this.props.data.userData.length; i++) {\r\n\t\t\tconst entry = this.props.data.userData[i];\r\n\t\t\tconst entryDate = new Date(entry.Date);\r\n\t\t\tif(this.state.startDate.getTime() <= entryDate.getTime() && entryDate.getTime() <= this.state.endDate.getTime() && entry.Type === this.state.graphOption) {\r\n\t\t\t\tvar graphEntry = {};\r\n\t\t\t\tfor(var key in entry) {\r\n\t\t\t\t\tif(!isNaN(Number(entry[key])) && entry[key].length !== 0 || key === \"Name\") {\r\n\t\t\t\t\t\tgraphEntry[key] = entry[key];\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tgraphEntry.Date = entryDate.toLocaleDateString();\r\n\t\t\t\tgraphData.push(graphEntry);\r\n\t\t\t}\r\n\t\t}\r\n\t\t//sorting graph data by date\r\n\t\tfor(i = 0; i < graphData.length; i++) {\t\t\r\n\t\t\tvar min = i; \r\n\t\t\tfor(var x = i + 1; x < graphData.length; x++) {\r\n\t\t\t\tif(new Date(graphData[min].Date).getTime() > new Date(graphData[x].Date).getTime()) {\r\n\t\t\t\t\tmin = x;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif(min !== i) {\r\n\t\t\t\tvar temp = graphData[i];\r\n\t\t\t\tgraphData[i] = graphData[min];\r\n\t\t\t\tgraphData[min] = temp;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn graphData;\r\n\t}\r\n\t\r\n\tcreateLines = (graphData) => {\r\n\t\tif(graphData === null) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\tvar dataKeys = [];\r\n\t\tfor(var i = 0; i < graphData.length; i++) {\r\n\t\t\tvar entry = graphData[i];\r\n\t\t\tfor(var key in entry) {\r\n\t\t\t\tif(!isNaN(Number(entry[key])) && entry[key].length !== 0 && !dataKeys.includes(key) || key === \"Name\" && !dataKeys.includes(key)) {\r\n\t\t\t\t\tdataKeys.push(key);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tconst lines = dataKeys.map((dataKey, index) => {\r\n\t\t\treturn (\r\n\t\t\t\t<Line dataKey = {dataKey} stroke = {this.state.lineColors[index]}/>\r\n\t\t\t);\r\n\t\t});\r\n\t\treturn lines;\r\n\t}\r\n\t\r\n\tgetLegendData = (graphData) => {\r\n\t\tif(graphData === null) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\tvar legendData = [];\r\n\t\tfor(var i = 0; i < graphData.length; i++) {\r\n\t\t\tvar entry = graphData[i];\r\n\t\t\tfor(var key in entry) {\r\n\t\t\t\t//if(!isNaN(Number(entry[key])) && entry[key].length !== 0 && !legendData.includes(key))\r\n\t\t\t\tif(entry[key].length !== 0 && !legendData.includes(key) && key !== \"Date\" && key !== \"Notes\") {\r\n\t\t\t\t\tlegendData.push(key);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tvar matchingColorIndex = -1;\r\n\t\tif(legendData.length === 1) {\r\n\t\t\tmatchingColorIndex = this.state.colorIndex;\r\n\t\t}\r\n\t\telse {\r\n\t\t\tmatchingColorIndex = this.state.colorIndex - legendData.length;\r\n\t\t}\r\n\t\tfor(i = 0; i < legendData.length; i++) {\r\n\t\t\tlegendData[i] = {\"color\": this.state.lineColors[i], dataKey: legendData[i], \"type\": \"line\", \"value\": legendData[i]}\r\n\t\t\tmatchingColorIndex++;\r\n\t\t}\r\n\t\treturn legendData;\r\n\t}\r\n\r\n\t\r\n\tcreateStringFilters = (graphData) => {\r\n\t\tif(graphData === null || graphData === undefined || graphData.length === 0) {\r\n\t\t\treturn <div> </div>;\r\n\t\t}\r\n\t\tvar filters = [];\r\n\t\tvar filterData = [];\r\n\t\tfor(var i = 0; i < graphData.length; i++) {\r\n\t\t\tvar entry = graphData[i];\r\n\t\t\tfor(var key in entry) {\r\n\t\t\t\tif(!isNaN(Number(entry[key])) && entry[key].length !== 0 && !filters.includes(key) || this.props.data.metaData.graphFilterConstants.includes(key) && !filters.includes(key)) {\r\n\t\t\t\t\tfilters.push(key);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tif(filters.length < 1) {\r\n\t\t\treturn <div> </div>;\r\n\t\t}\r\n\t\tfor(i = 0; i < filters.length; i++) {\r\n\t\t\tvar filter = filters[i];\r\n\t\t\tif(!isNaN(graphData[0][filter])) {\r\n\t\t\t\tfilterData.push(filter);\r\n\t\t\t}\r\n\t\t\tfor(var x = 0; x < graphData.length; x++) {\r\n\t\t\t\tif(isNaN(graphData[x][filter]) && !filterData.includes(graphData[x][filter])) {\r\n\t\t\t\t\tfilterData.push(graphData[x][filter]);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tif(filterData === null || filterData === undefined || filterData.length === 0) {\r\n\t\t\treturn <div> </div>;\r\n\t\t}\r\n\t\treturn (\r\n\t\t\t\t<Card>\r\n\t\t\t\t\t<Card.Body>\r\n\t\t\t\t\t\t<Card.Title> \r\n\t\t\t\t\t\t\tShow By \r\n\t\t\t\t\t\t</Card.Title>\r\n\t\t\t\t\t\t{filterData.length === 1\r\n\t\t\t\t\t\t\t?\r\n\t\t\t\t\t\t\t\t<Form.Check type = \"checkbox\" label = {filterData[0]} onClick = {this.onSelectFilter.bind(this, filterData[0])}/> \r\n\t\t\t\t\t\t\t:\r\n\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t{filterData.map((data) => {\r\n\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Check type = \"checkbox\" label = {data} onClick = {this.onSelectFilter.bind(this, data)}/> \r\n\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t</Card.Body>\r\n\t\t\t\t</Card>\r\n\t\t)\r\n\t}\r\n\t\r\n\tcreateNumFilters = (graphData) => {\r\n\t\tif(graphData === null) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\tvar rangeSliders;\r\n\t\tvar sliderLabels = [];\r\n\t\t\r\n\t\tif(this.state.graphFilters.length === 0) {\r\n\t\t\tfor(var i = 0; i < graphData.length; i++) {\r\n\t\t\t\tvar entry = graphData[i];\r\n\t\t\t\tfor(var key in entry) {\r\n\t\t\t\t\tif(!isNaN(entry[key]) && !sliderLabels.includes(key)) {\r\n\t\t\t\t\t\tsliderLabels.push(key);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif(sliderLabels.length === 0) {\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t\trangeSliders = sliderLabels.map((label, index) => {\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<Form>\r\n\t\t\t\t\t\t<Form.Group controlId = {index}>\r\n\t\t\t\t\t\t\t<Form.Label> {label} </Form.Label>\r\n\t\t\t\t\t\t\t<Form.Control type = \"range\" />\r\n\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t</Form>\r\n\t\t\t\t)\r\n\t\t\t});\r\n\t\t}\r\n\t\telse {\r\n\t\t\tfor(var i = 0; i < graphData.length; i++) {\r\n\t\t\t\tvar entry = graphData[i];\r\n\t\t\t\tfor(var key in entry) {\r\n\t\t\t\t\tif(!isNaN(entry[key]) && !sliderLabels.includes(key) && !this.state.graphFilters.includes(key)) {\r\n\t\t\t\t\t\tsliderLabels.push(key);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif(sliderLabels.length === 0) {\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t\trangeSliders = sliderLabels.map((label, index) => {\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<Form>\r\n\t\t\t\t\t\t<Form.Group controlId = {index}>\r\n\t\t\t\t\t\t\t<Form.Label> {label} </Form.Label>\r\n\t\t\t\t\t\t\t<Form.Control type = \"range\" />\r\n\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t</Form>\r\n\t\t\t\t)\r\n\t\t\t});\r\n\t\t}\r\n\t\treturn rangeSliders;\r\n\t}\r\n\t\r\n\tgetMaxValue = (graphData) => {\r\n\t\tif(graphData === null || graphData === undefined) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\tvar max = 0;\r\n\t\tfor(var i = 0; i < graphData.length; i++) {\r\n\t\t\tvar entry = graphData[i];\r\n\t\t\tfor(var key in entry) {\r\n\t\t\t\tif(!isNaN(entry[key])) {\r\n\t\t\t\t\tif(Number(entry[key]) > max) {\r\n\t\t\t\t\t\tmax = Number(entry[key]);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tif(this.state.rangeValue === null) {\r\n\t\t\tthis.state.rangeValue = max;\r\n\t\t}\r\n\t\treturn max;\r\n\t}\r\n\t\r\n\trender() {\r\n\t\tconst startPicker = <Form.Control\r\n\t\t\t\t\t\t\t\ttype = \"input\"\r\n\t\t\t\t\t\t\t/>\r\n\t\tconst endPicker = <Form.Control\r\n\t\t\t\t\t\t\t\ttype = \"input\"\r\n\t\t\t\t\t\t\t/>\r\n\t\tconst dropdownOption = this.createOptionDropdown();\r\n\t\tvar graphData = this.getGraphData();\r\n\t\tconst stringFilters = this.createStringFilters(graphData);\r\n\t\tconst rangeSliders = this.createNumFilters(graphData);\r\n\t\tconst filteredGraphData = this.filterGraphData(graphData);\r\n\t\tvar legendPayload;\r\n\t\tvar lines;\r\n\t\tvar maxValue;\r\n\t\tif(filteredGraphData !== null) {\r\n\t\t\tlines = this.createLines(filteredGraphData);\r\n\t\t\t//legendPayload = this.getLegendData(filteredGraphData);\r\n\t\t\tmaxValue = this.getMaxValue(filteredGraphData);\r\n\t\t\tgraphData = filteredGraphData;\r\n\t\t}\r\n\t\telse {\r\n\t\t\tlines = this.createLines(graphData);\r\n\t\t\t//legendPayload = this.getLegendData(graphData);\r\n\t\t\tmaxValue = this.getMaxValue(graphData);\r\n\t\t}\r\n\t\t\r\n\t\treturn (\r\n\t\t\t<Container fluid> \r\n\t\t\t\t<Row>\r\n\t\t\t\t\t<Col sm = {2}>\r\n\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t{dropdownOption}\r\n\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t<p> <u> Start Date </u> </p>\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t<DatePicker\r\n\t\t\t\t\t\t\t\t\t\t\tselected = {this.state.startDate}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange = {this.onSelectStartDate}\r\n\t\t\t\t\t\t\t\t\t\t\tcustomInput = {startPicker}\r\n\t\t\t\t\t\t\t\t\t\t\tplaceholderText = \"mm/dd/yyyy\"\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t<p> <u> End Date </u> </p>\t\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t<DatePicker\r\n\t\t\t\t\t\t\t\t\t\t\tselected = {this.state.endDate}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange = {this.onSelectEndDate}\r\n\t\t\t\t\t\t\t\t\t\t\tcustomInput = {endPicker}\r\n\t\t\t\t\t\t\t\t\t\t\tplaceholderText = \"mm/dd/yyyy\"\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t{stringFilters}\r\n\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t</Row> \r\n\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t{/*\r\n\t\t\t\t\t\t\t<Form>\r\n\t\t\t\t\t\t\t\t<Form.Group controlId = {23}>\r\n\t\t\t\t\t\t\t\t\t{maxValue === null\r\n\t\t\t\t\t\t\t\t\t\t?\r\n\t\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Form.Label> <strong> Toggle Y-Axis: </strong> N/A </Form.Label>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Form.Control type = \"range\" disabled = {true}/>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t:\r\n\t\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Form.Label> <strong> Toggle Y-Axis: </strong> {this.state.rangeValue} </Form.Label>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Form.Control type = \"range\" value = {this.state.rangeValue} max = {this.state.rangeValue} onChange = {(e) => {this.onChangeSlider(e)}}/>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t</Form>\r\n\t\t\t\t\t\t*/}\r\n\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t\t<Col sm = {10}>\r\n\t\t\t\t\t\t<div className = \"graph-container\">\r\n\t\t\t\t\t\t{graphData === null ?\r\n\t\t\t\t\t\t\t<h3> <i> Graph Title </i> </h3>\r\n\t\t\t\t\t\t\t:\r\n\t\t\t\t\t\t\t<h3> {this.state.graphOption} </h3>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t<ResponsiveContainer>\r\n\t\t\t\t\t\t\t\t<LineChart \r\n\t\t\t\t\t\t\t\t\tdata = {graphData}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<XAxis dataKey = \"Date\"/>\r\n\t\t\t\t\t\t\t\t\t<YAxis type = \"number\" domain = {[0, maxValue]}/>\r\n\t\t\t\t\t\t\t\t\t <CartesianGrid strokeDasharray=\"3 3\" />\r\n\t\t\t\t\t\t\t\t\t<Tooltip/>\r\n\t\t\t\t\t\t\t\t\t<Legend />\r\n\t\t\t\t\t\t\t\t\t{lines}\r\n\t\t\t\t\t\t\t\t</LineChart>\r\n\t\t\t\t\t\t\t</ResponsiveContainer>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t</Row>\r\n\t\t\t</Container>\r\n\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default Graph;","import React, { Component } from 'react';\r\nimport Container from 'react-bootstrap/Container';\r\nimport Row from 'react-bootstrap/Row';\r\nimport Col from 'react-bootstrap/Col';\r\nimport Button from 'react-bootstrap/Button';\r\nimport AddModal from './AddModal.js';\r\nimport EditModal from './EditModal.js';\r\nimport Accordion from 'react-bootstrap/Accordion';\r\nimport Card from 'react-bootstrap/Card';\r\nimport ListGroup from 'react-bootstrap/ListGroup';\r\nimport OverlayTrigger from 'react-bootstrap/OverlayTrigger';\r\nimport Popover from 'react-bootstrap/Popover';\r\nimport uuid from 'react-uuid';\r\nimport '../td-css/DataList.css';\r\nimport DatePicker from 'react-datepicker';\r\nimport Dropdown from 'react-bootstrap/Dropdown';\r\nimport Form from 'react-bootstrap/Form';\r\n\r\n//props\r\n\t//data\r\nclass DataList extends Component {\r\n\t\r\n\tstate = {\r\n\t\tstartDate: null,\r\n\t\tendDate: null,\r\n\t\tlistOption: \"List Options\",\r\n\t\tlistFilters: [],\r\n\t\tallChecked: true,\r\n\t\tselectedDate: null\r\n\t}\r\n\t\r\n\tonSelectOption = (option) => {\r\n\t\tvar filtersCopy = this.state.listFilters.slice();\r\n\t\tif(option === \"All\") {\r\n\t\t\tthis.setState({listFilters: [], allChecked: !this.state.allChecked});\r\n\t\t\treturn;\r\n\t\t}\r\n\t\telse if(!filtersCopy.includes(option)) {\r\n\t\t\tfiltersCopy.push(option);\r\n\t\t}\r\n\t\telse if(filtersCopy.includes(option)) {\r\n\t\t\tfiltersCopy.splice(filtersCopy.indexOf(option), 1);\r\n\t\t}\r\n\t\tthis.setState({listFilters: filtersCopy, allChecked: false});\r\n\t}\r\n\t\r\n\ttoggleAddModal = async (date) => {\r\n\t\tawait this.setState({selectedDate: new Date(date)});\r\n\t\tthis.props.toggleAddModal();\r\n\t}\r\n\t\r\n\tonSelectEndDate = (date) => {\r\n\t\tthis.setState({endDate: date});\r\n\t}\r\n\t\r\n\tonSelectStartDate = (date) => {\r\n\t\tthis.setState({startDate: date});\r\n\t}\r\n\t\r\n\t//onclick event to handle edit button click\r\n\tonClickEdit = async (index, date) => {\r\n\t\tawait this.setState({editIndex: index, selectedDate: new Date(date)});\r\n\t\tthis.props.toggleEditModal(this.props.data.userData[index]);\r\n\t}\r\n\t\r\n\t//onclick event handler to delete an entry\r\n\tdeleteEntry = (index) => {\r\n\t\tvar approveDelete = window.confirm(\"Are you sure you want to delete this entry?\");\r\n\t\tif(approveDelete) {\r\n\t\t\tthis.props.data.userData.splice(index, 1);\r\n\t\t\tthis.props.saveData(this.props.data, \"delete\", \"Calendar\");\r\n\t\t}\r\n\t\telse {\r\n\t\t\treturn;\r\n\t\t}\r\n\t}\r\n\t\r\n\treload = () => {\r\n\t\tthis.forceUpdate();\r\n\t}\r\n\t\r\n\tgoalAchieved = (entry) => {\r\n\t\tvar numKey = \"Amount\";\r\n\t\tfor(var key in entry) {\r\n\t\t\tif(!isNaN(entry[key]) && entry[key].toString().trim().length !== 0) {\r\n\t\t\t\tnumKey = key;\r\n\t\t\t}\r\n\t\t}\r\n\t\tfor(var i = 0; i < this.props.data.goals.length; i++) {\r\n\t\t\tvar goal = this.props.data.goals[i];\r\n\t\t\tif(goal[\"Goal Type\"] === entry.Category) {\r\n\t\t\t\tif(!goal.deletable) {\r\n\t\t\t\t\tif(Number(goal.Fields[entry.Type]) === Number(entry[numKey])) {\r\n\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tvar isAchieved = false;\r\n\t\t\t\t\tfor(key in goal.Fields) {\r\n\t\t\t\t\t\tif(goal.Fields[key] === entry[key]) {\r\n\t\t\t\t\t\t\tisAchieved = true;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\tisAchieved = false;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(isAchieved) {\r\n\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n\t\r\n\tcreateOptionDropdown = () => {\r\n\t\tif(this.props.data === null || this.props.data === undefined) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\treturn (\r\n\t\t\t<Dropdown>\r\n\t\t\t\t<Dropdown.Toggle variant = \"primary\">\r\n\t\t\t\t\t{this.state.listOption}\r\n\t\t\t\t</Dropdown.Toggle>\r\n\t\t\t\t<Dropdown.Menu>\r\n\t\t\t\t\t<div style = {{margin: \"5%\"}}>\r\n\t\t\t\t\t\t{this.state.startDate === null || this.state.endDate === null || this.state.startDate.getTime() > this.state.endDate.getTime()\r\n\t\t\t\t\t\t\t?\r\n\t\t\t\t\t\t\t\t<Form.Check \r\n\t\t\t\t\t\t\t\ttype = \"checkbox\"\r\n\t\t\t\t\t\t\t\tlabel = \"All\"\r\n\t\t\t\t\t\t\t\tchecked = {true}\r\n\t\t\t\t\t\t\t\tdisabled = {true}\r\n\t\t\t\t\t\t\t\tonChange = {this.onSelectOption.bind(this, \"All\")}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t:\r\n\t\t\t\t\t\t\t\t<Form.Check \r\n\t\t\t\t\t\t\t\ttype = \"checkbox\"\r\n\t\t\t\t\t\t\t\tlabel = \"All\"\r\n\t\t\t\t\t\t\t\tchecked = {this.state.allChecked}\r\n\t\t\t\t\t\t\t\tonChange = {this.onSelectOption.bind(this, \"All\")}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t{this.props.data.metaData.categories.map((category, index) => {\t\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<Dropdown.Header>\r\n\t\t\t\t\t\t\t\t\t<strong> {category} </strong>\r\n\t\t\t\t\t\t\t\t</Dropdown.Header>\r\n\t\t\t\t\t\t\t\t{this.props.data.metaData.entryTypes.map((entry) => {\r\n\t\t\t\t\t\t\t\t\tif(category === entry.Category) {\r\n\t\t\t\t\t\t\t\t\t\tif(this.state.startDate === null || this.state.endDate === null || this.state.startDate.getTime() > this.state.endDate.getTime()) {\r\n\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div style = {{margin: \"5%\"}}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Check \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype = \"checkbox\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel = {entry.Type}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tchecked = {false}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled = {true}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange = {this.onSelectOption.bind(this, entry.Type)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\telse if(this.state.listFilters.length === 0) {\r\n\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div style = {{margin: \"5%\"}}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Check \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype = \"checkbox\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel = {entry.Type}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tchecked = {false}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange = {this.onSelectOption.bind(this, entry.Type)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t<div style = {{margin: \"5%\"}}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Form.Check \r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype = \"checkbox\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tlabel = {entry.Type}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange = {this.onSelectOption.bind(this, entry.Type)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t})}\r\n\t\t\t\t</Dropdown.Menu>\r\n\t\t\t</Dropdown>\r\n\t\t);\r\n\t}\r\n\t\r\n\tcalculateTotals = (data) => {\r\n\t\tvar totalList = [];\r\n\t\tfor(var i = 0; i < this.props.data.metaData.entryTypes.length; i++) {\r\n\t\t\tvar entryType = this.props.data.metaData.entryTypes[i];\r\n\t\t\tvar total = {Category: \"\", Type: \"\", calculationType: \"\", numOfEntries: 0, total: 0};\r\n\t\t\tfor(var x = 0; x < data.length; x++) {\r\n\t\t\t\tvar entry = data[x];\r\n\t\t\t\tvar numKey = \"\";\r\n\t\t\t\tfor(var key in entry) {\r\n\t\t\t\t\tif(!isNaN(entry[key]) && entry[key].length !== 0) {\r\n\t\t\t\t\t\tnumKey = key;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tif(entryType.Category === entry.Category && entryType.Type === entry.Type && entryType.calculationType !== \"none\" && numKey !== \"\") {\r\n\t\t\t\t\ttotal.Category = entry.Category;\r\n\t\t\t\t\ttotal.Type = entry.Type;\r\n\t\t\t\t\ttotal.calculationType = entryType.calculationType;\r\n\t\t\t\t\ttotal.numOfEntries = total.numOfEntries + 1;\r\n\t\t\t\t\ttotal.total = total.total + Number(entry[numKey]);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif(total.Category !== \"\" && total.Type !== \"\" && total.calculationType !== \"none\" && total.total !== 0) {\r\n\t\t\t\ttotalList.push(total);\r\n\t\t\t}\r\n\t\t}\r\n\t\tif(totalList.length === 0) {\r\n\t\t\treturn totalList;\r\n\t\t}\r\n\t\tvar results = [];\r\n\t\tfor(i = 0; i < totalList.length; i++) {\r\n\t\t\tvar total = totalList[i];\r\n\t\t\tvar result = {};\r\n\t\t\tif(total.numOfEntries === 1) {\r\n\t\t\t\tresult.Category = total.Category;\r\n\t\t\t\tresult.Type = total.Type;\r\n\t\t\t\tresult.Amount = total.total;\r\n\t\t\t\tresult.calculationType = total.calculationType.charAt(0).toUpperCase() + total.calculationType.slice(1);\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\t//only going to support add and average for now, since subtract, multiply, and divide don't really make sense for the given categories and types\r\n\t\t\t\tif(total.calculationType === \"add\") {\r\n\t\t\t\t\tresult.Category = total.Category;\r\n\t\t\t\t\tresult.Type = total.Type;\r\n\t\t\t\t\tresult.Amount = total.total;\r\n\t\t\t\t\tresult.calculationType = total.calculationType.charAt(0).toUpperCase() + total.calculationType.slice(1);\r\n\t\t\t\t}\r\n\t\t\t\telse if(total.calculationType === \"average\") {\r\n\t\t\t\t\tresult.Category = total.Category;\r\n\t\t\t\t\tresult.Type = total.Type;\r\n\t\t\t\t\tresult.Amount = (total.total / total.numOfEntries).toFixed(2);\r\n\t\t\t\t\tresult.calculationType = total.calculationType.charAt(0).toUpperCase() + total.calculationType.slice(1);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tresults.push(result);\r\n\t\t}\r\n\t\treturn results;\r\n\t}\r\n\t\r\n\ttoDateString = (date) => {\r\n\t\tif(date === null || date === undefined) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\tvar formattedDate = require('dateformat');\r\n\t\treturn formattedDate(date.toString(), \"fullDate\");\r\n\t}\r\n\t\r\n\tgetListData = () => {\r\n\t\tvar listData = [];\r\n\t\tif(this.state.startDate === null || this.state.endDate === null || this.state.startDate.getTime() > this.state.endDate.getTime()) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\t\r\n\t\tif(this.state.listFilters.length === 0 && !this.state.allChecked) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\t//all checkbox is selected\r\n\t\telse if(this.state.listFilters.length === 0 && this.state.allChecked) {\r\n\t\t\tfor(var i = 0; i < this.props.data.userData.length; i++) {\r\n\t\t\t\tconst entry = this.props.data.userData[i];\r\n\t\t\t\tconst entryDate = new Date(entry.Date);\r\n\t\t\t\tif(this.state.startDate.getTime() <= entryDate.getTime() && entryDate.getTime() <= this.state.endDate.getTime()) {\r\n\t\t\t\t\tentry.Date = entryDate.toLocaleDateString();\r\n\t\t\t\t\tlistData.push(entry);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\t//all is not selected and other checkboxes have been selected\r\n\t\telse {\r\n\t\t\tfor(i = 0; i < this.props.data.userData.length; i++) {\r\n\t\t\t\tconst entry = this.props.data.userData[i];\r\n\t\t\t\tconst entryDate = new Date(entry.Date);\r\n\t\t\t\tif(this.state.startDate.getTime() <= entryDate.getTime() && entryDate.getTime() <= this.state.endDate.getTime() && this.state.listFilters.includes(entry.Type)) {\r\n\t\t\t\t\tlistData.push(entry);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\t//sorting list data by date\r\n\t\tfor(i = 0; i < listData.length; i++) {\t\t\r\n\t\t\tvar min = i; \r\n\t\t\tfor(var x = i + 1; x < listData.length; x++) {\r\n\t\t\t\tif(new Date(listData[min].Date).getTime() > new Date(listData[x].Date).getTime()) {\r\n\t\t\t\t\tmin = x;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif(min !== i) {\r\n\t\t\t\tvar temp = listData[i];\r\n\t\t\t\tlistData[i] = listData[min];\r\n\t\t\t\tlistData[min] = temp;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn listData;\r\n\t}\r\n\t\r\n\tdisplayData = (listData) => {\r\n\t\tif(listData === null || listData === undefined) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\tconst dateStrings = [];\r\n\t\tfor(var i = 0; i < listData.length; i++) {\r\n\t\t\tif(this.state.startDate.getTime() <= new Date(listData[i].Date).getTime() && new Date(listData[i].Date).getTime() <= this.state.endDate.getTime()) {\r\n\t\t\t\tvar dateString = this.toDateString(new Date(listData[i].Date));\r\n\t\t\t\tif(!dateStrings.includes(dateString)) {\r\n\t\t\t\t\tdateStrings.push(dateString);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tconst cards = dateStrings.map((date, index) => {\r\n\t\t\tvar totalList = [];\r\n\t\t\treturn (\r\n\t\t\t\t<Card key = {uuid()}>\r\n\t\t\t\t\t<Card.Header>\r\n\t\t\t\t\t\t<Button variant = \"primary\" onClick = {this.toggleAddModal.bind(this, date)} style = {{float: \"right\"}}> + </Button>\r\n\t\t\t\t\t\t<Accordion.Toggle as = {Button} variant = \"link\" eventKey = {index}>\r\n\t\t\t\t\t\t\t{date}\r\n\t\t\t\t\t\t</Accordion.Toggle>\r\n\t\t\t\t\t</Card.Header>\r\n\t\t\t\t\t<Accordion.Collapse eventKey = {index}>\r\n\t\t\t\t\t\t<Card.Body>\r\n\t\t\t\t\t\t\t{this.props.data.userData.map((entry, index) => {\r\n\t\t\t\t\t\t\t\tif(this.state.listFilters.length === 0) {\r\n\t\t\t\t\t\t\t\t\tif(new Date(entry.Date).getTime() === new Date(date).getTime()) {\r\n\t\t\t\t\t\t\t\t\t\ttotalList.push(entry);\r\n\t\t\t\t\t\t\t\t\t\tif(this.goalAchieved(entry) && entry.calculationType === \"none\") {\r\n\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div> Goal Achieved  </div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{entry.displayOrder.map((key) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tif(key !== \"Notes\") {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ListGroup horizontal key = {uuid()}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ListGroup.Item style = {{width: \"40%\"}}> <strong> {key} </strong> </ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ListGroup.Item style = {{width: \"60%\"}}> {entry[key]} </ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</ListGroup>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tconst popover = (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Popover>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Popover.Title as = \"h3\"> {key} </Popover.Title>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Popover.Content> {entry[key]} </Popover.Content>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Popover>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div key = {uuid()}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<OverlayTrigger trigger = \"click\" placement = \"right\" overlay = {popover} rootClose = {true}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button variant = \"success\"> {key} </Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</OverlayTrigger>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button variant = \"light\" className = \"deleteEditButtons\" onClick = {this.deleteEntry.bind(this, index)}>  </Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button variant = \"light\" className = \"deleteEditButtons\" onClick = {this.onClickEdit.bind(this, index, date)}>  </Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<hr style = {{border: \"1px solid black\"}} />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\tentry.displayOrder.map((key) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\tif(key !== \"Notes\") {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ListGroup horizontal key = {uuid()}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ListGroup.Item style = {{width: \"40%\"}}> <strong> {key} </strong> </ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ListGroup.Item style = {{width: \"60%\"}}> {entry[key]} </ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</ListGroup>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\tconst popover = (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Popover>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Popover.Title as = \"h3\"> {key} </Popover.Title>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Popover.Content> {entry[key]} </Popover.Content>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Popover>\r\n\t\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div key = {uuid()}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<OverlayTrigger trigger = \"click\" placement = \"right\" overlay = {popover} rootClose = {true}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button variant = \"success\"> {key} </Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</OverlayTrigger>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button variant = \"light\" className = \"deleteEditButtons\" onClick = {this.deleteEntry.bind(this, index)}>  </Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button variant = \"light\" className = \"deleteEditButtons\" onClick = {this.onClickEdit.bind(this, index, date)}>  </Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<hr style = {{border: \"1px solid black\"}} />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\t\t\tif(new Date(entry.Date).getTime() === new Date(date).getTime() && this.state.listFilters.includes(entry.Type)) {\r\n\t\t\t\t\t\t\t\t\t\ttotalList.push(entry);\r\n\t\t\t\t\t\t\t\t\t\tif(this.goalAchieved(entry) && entry.calculationType === \"none\") {\r\n\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div> Goal Achieved  </div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{entry.displayOrder.map((key) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tif(key !== \"Notes\") {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ListGroup horizontal key = {uuid()}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ListGroup.Item style = {{width: \"40%\"}}> <strong> {key} </strong> </ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ListGroup.Item style = {{width: \"60%\"}}> {entry[key]} </ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</ListGroup>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tconst popover = (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Popover>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Popover.Title as = \"h3\"> {key} </Popover.Title>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Popover.Content> {entry[key]} </Popover.Content>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Popover>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div key = {uuid()}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<OverlayTrigger trigger = \"click\" placement = \"right\" overlay = {popover} rootClose = {true}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button variant = \"success\"> {key} </Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</OverlayTrigger>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button variant = \"light\" className = \"deleteEditButtons\" onClick = {this.deleteEntry.bind(this, index)}>  </Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button variant = \"light\" className = \"deleteEditButtons\" onClick = {this.onClickEdit.bind(this, index, date)}>  </Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<hr style = {{border: \"1px solid black\"}} />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\tentry.displayOrder.map((key) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\tif(key !== \"Notes\") {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ListGroup horizontal key = {uuid()}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ListGroup.Item style = {{width: \"40%\"}}> <strong> {key} </strong> </ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ListGroup.Item style = {{width: \"60%\"}}> {entry[key]} </ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</ListGroup>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\tconst popover = (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Popover>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Popover.Title as = \"h3\"> {key} </Popover.Title>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Popover.Content> {entry[key]} </Popover.Content>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Popover>\r\n\t\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div key = {uuid()}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<OverlayTrigger trigger = \"click\" placement = \"right\" overlay = {popover} rootClose = {true}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button variant = \"success\"> {key} </Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</OverlayTrigger>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button variant = \"light\" className = \"deleteEditButtons\" onClick = {this.deleteEntry.bind(this, index)}>  </Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button variant = \"light\" className = \"deleteEditButtons\" onClick = {this.onClickEdit.bind(this, index, date)}>  </Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<hr style = {{border: \"1px solid black\"}} />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t{this.calculateTotals(totalList).map((total) => {\r\n\t\t\t\t\t\t\t\t\tif(this.goalAchieved(total)) {\r\n\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div> Goal Achieved  </div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<ListGroup horizontal key = {uuid()}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{total.calculationType === \"Add\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t?\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ListGroup.Item style = {{width: \"50%\"}}> <strong> Total {total.Type}: </strong> </ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t:\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ListGroup.Item style = {{width: \"50%\"}}> <strong> {total.calculationType} {total.Type}: </strong> </ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<ListGroup.Item style = {{width: \"50%\"}}> {total.Amount} </ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</ListGroup>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t<ListGroup horizontal key = {uuid()}>\r\n\t\t\t\t\t\t\t\t\t\t\t{total.calculationType === \"Add\"\r\n\t\t\t\t\t\t\t\t\t\t\t?\r\n\t\t\t\t\t\t\t\t\t\t\t\t<ListGroup.Item style = {{width: \"50%\"}}> <strong> Total {total.Type}: </strong> </ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t:\r\n\t\t\t\t\t\t\t\t\t\t\t\t<ListGroup.Item style = {{width: \"50%\"}}> <strong> {total.calculationType} {total.Type}: </strong> </ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t<ListGroup.Item style = {{width: \"50%\"}}> {total.Amount} </ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t</ListGroup>\r\n\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</Card.Body>\r\n\t\t\t\t\t</Accordion.Collapse>\r\n\t\t\t\t</Card>\r\n\t\t\t);\r\n\t\t});\r\n\t\treturn (\r\n\t\t\t<Accordion> \r\n\t\t\t\t{cards} \r\n\t\t\t</Accordion>\r\n\t\t)\r\n\t}\r\n\t\r\n\trender() {\r\n\t\tconst startPicker = <Form.Control\r\n\t\t\t\t\t\t\t\ttype = \"input\"\r\n\t\t\t\t\t\t\t/>\r\n\t\tconst endPicker = <Form.Control\r\n\t\t\t\t\t\t\t\ttype = \"input\"\r\n\t\t\t\t\t\t\t/>\r\n\t\tconst optionDropdown = this.createOptionDropdown();\r\n\t\tconst listData = this.getListData();\r\n\t\tconst displayData = this.displayData(listData);\r\n\t\treturn (\r\n\t\t\t<Container fluid>\r\n\t\t\t{this.state.selectedDate === null\r\n\t\t\t?\r\n\t\t\t\t<div> </div>\r\n\t\t\t:\r\n\t\t\t\t<Row>\r\n\t\t\t\t\t<AddModal \r\n\t\t\t\t\t\tdata = {this.props.data} \r\n\t\t\t\t\t\tselectedDate = {this.state.selectedDate}\r\n\t\t\t\t\t\tsaveData = {this.props.saveData}\r\n\t\t\t\t\t\ttoDateString = {this.toDateString}\r\n\t\t\t\t\t\taddModalShow = {this.props.addModalShow}\r\n\t\t\t\t\t\tisSaving = {this.props.isSaving}\r\n\t\t\t\t\t\ttoggleAddModal = {this.props.toggleAddModal}\r\n\t\t\t\t\t\ttoggleSaveBar = {this.props.toggleSaveBar}\r\n\t\t\t\t\t\treloadCalendar = {this.reload}\r\n\t\t\t\t\t\tcreateDateList = {this.createDateList}\r\n\t\t\t\t\t/> \r\n\r\n\t\t\t\t\t<EditModal \r\n\t\t\t\t\t\tdata = {this.props.data}\r\n\t\t\t\t\t\teditModalShow = {this.props.editModalShow}\r\n\t\t\t\t\t\tselectedDate = {this.state.selectedDate}\r\n\t\t\t\t\t\ttoDateString = {this.toDateString}\r\n\t\t\t\t\t\tisSaving = {this.props.isSaving}\r\n\t\t\t\t\t\ttoggleEditModal = {this.props.toggleEditModal}\r\n\t\t\t\t\t\ttoggleSaveBar = {this.props.toggleSaveBar}\r\n\t\t\t\t\t\treloadCalendar = {this.reload}\r\n\t\t\t\t\t\tsaveData = {this.props.saveData}\r\n\t\t\t\t\t\tdataToEdit = {this.props.dataToEdit}\r\n\t\t\t\t\t\teditIndex = {this.state.editIndex}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Row>\r\n\t\t\t}\r\n\t\t\t\t<Row>\r\n\t\t\t\t\t<Col sm = {2}>\r\n\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t{optionDropdown}\r\n\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t<p> <u> Start Date </u> </p>\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t<DatePicker\r\n\t\t\t\t\t\t\t\t\t\t\tselected = {this.state.startDate}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange = {this.onSelectStartDate}\r\n\t\t\t\t\t\t\t\t\t\t\tcustomInput = {startPicker}\r\n\t\t\t\t\t\t\t\t\t\t\tplaceholderText = \"mm/dd/yyyy\"\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t<Col style = {{marginBottom: \"1%\"}}>\r\n\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t<p> <u> End Date </u> </p>\t\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t<DatePicker\r\n\t\t\t\t\t\t\t\t\t\t\tselected = {this.state.endDate}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange = {this.onSelectEndDate}\r\n\t\t\t\t\t\t\t\t\t\t\tcustomInput = {endPicker}\r\n\t\t\t\t\t\t\t\t\t\t\tplaceholderText = \"mm/dd/yyyy\"\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t{this.state.allChecked \r\n\t\t\t\t\t\t\t\t?\r\n\t\t\t\t\t\t\t\t\t<Card>\r\n\t\t\t\t\t\t\t\t\t\t<Card.Body>\r\n\t\t\t\t\t\t\t\t\t\t\t<Card.Title>\r\n\t\t\t\t\t\t\t\t\t\t\t\tOptions Selected\r\n\t\t\t\t\t\t\t\t\t\t\t</Card.Title>\r\n\t\t\t\t\t\t\t\t\t\t\t<Card.Text>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<li> All </li>\r\n\t\t\t\t\t\t\t\t\t\t\t</Card.Text>\r\n\t\t\t\t\t\t\t\t\t\t</Card.Body>\r\n\t\t\t\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t\t\t\t:\r\n\t\t\t\t\t\t\t\t\t<Card>\r\n\t\t\t\t\t\t\t\t\t\t<Card.Body>\r\n\t\t\t\t\t\t\t\t\t\t\t<Card.Title>\r\n\t\t\t\t\t\t\t\t\t\t\t\tOptions Selected\r\n\t\t\t\t\t\t\t\t\t\t\t</Card.Title>\r\n\t\t\t\t\t\t\t\t\t\t\t<Card.Text>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{this.state.listFilters.map((filter) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<li> {filter} </li>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t\t\t</Card.Text>\r\n\t\t\t\t\t\t\t\t\t\t</Card.Body>\r\n\t\t\t\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t\t<Col sm = {10}>\r\n\t\t\t\t\t\t<div className = \"list-container\">\r\n\t\t\t\t\t\t\t{this.state.startDate === null || this.state.endDate === null || this.state.startDate.getTime() > this.state.endDate.getTime()\r\n\t\t\t\t\t\t\t\t?\r\n\t\t\t\t\t\t\t\t\t<h3> <i> Select a start and end date to view your training data. </i> </h3>\r\n\t\t\t\t\t\t\t\t:\r\n\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t{displayData}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t}\t\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t</Row>\r\n\t\t\t</Container>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default DataList;","import React, { Component } from 'react';\r\nimport Container from 'react-bootstrap/Container';\r\nimport Row from 'react-bootstrap/Row';\r\nimport Col from 'react-bootstrap/Col';\r\nimport Button from 'react-bootstrap/Button';\r\nimport Accordion from 'react-bootstrap/Accordion';\r\nimport Card from 'react-bootstrap/Card';\r\nimport ListGroup from 'react-bootstrap/ListGroup';\r\nimport Overlay from 'react-bootstrap/Overlay';\r\nimport OverlayTrigger from 'react-bootstrap/OverlayTrigger';\r\nimport Popover from 'react-bootstrap/Popover';\r\nimport PopoverContent from 'react-bootstrap/PopoverContent';\r\nimport PopoverTitle from 'react-bootstrap/PopoverTitle';\r\nimport uuid from 'react-uuid';\r\nimport Table from 'react-bootstrap/Table';\r\nimport DatePicker from 'react-datepicker';\r\nimport Dropdown from 'react-bootstrap/Dropdown';\r\nimport Form from 'react-bootstrap/Form';\r\nimport FormControl from 'react-bootstrap/FormControl';\r\nimport CardDeck from 'react-bootstrap/CardDeck';\r\nimport Modal from \"react-bootstrap/Modal\";\r\nimport Alert from 'react-bootstrap/Alert';\r\nimport Pie from 'react-chartjs-2';\r\nimport InputGroup from 'react-bootstrap/InputGroup';\r\nimport DropdownButton from 'react-bootstrap/DropdownButton';\r\nimport Tooltip from 'react-bootstrap/Tooltip';\r\n\r\nclass Goals extends Component {\r\n\t\r\n\tstate = {\r\n\t\tediting: false,\r\n\t\tadding: false, \r\n\t\tgoalEditing: \"\",\r\n\t\tgoalAdding: \"\",\r\n\t\teditingData: {},\r\n\t\taddingData: {},\r\n\t\tgoalIndex: -1,\r\n\t\tdata: null,\r\n\t\tinvalidFields: false,\r\n\t\talertMessage: \"\",\r\n\t\tcolors: ['#0088FE', '#00C49F', '#FFBB28', '#FF8042'],\r\n\t\tnameMenuShow: false\r\n\t\t\r\n\t}\r\n\t\r\n\tcomponentDidMount = () => {\r\n\t\tthis.setState({data: this.props.data});\r\n\t}\r\n\t\r\n\topenEditModal = (category, index) => {\r\n\t\tvar editingData = this.state.data.goals[index];\r\n\t\tthis.setState({editing: true, goalEditing: category, editingData: editingData, goalIndex: index});\r\n\t}\r\n\t\r\n\tcloseEditModal = () => {\r\n\t\tthis.setState({editing: false, goalEditing: \"\", editingData: {}, goalIndex: -1, alertMessage: \"\", invalidFields: false});\r\n\t}\r\n\t\r\n\topenAddModal = (category) => {\r\n\t\tvar addingData = {};\r\n\t\tfor(var key in this.state.data.metaData.goalStructure) {\r\n\t\t\taddingData[key] = this.state.data.metaData.goalStructure[key];\r\n\t\t}\r\n\t\taddingData[\"Goal Type\"] = category;\r\n\t\taddingData.Fields = {};\r\n\t\tfor(var i = 0; i < this.state.data.metaData.entryTypes.length; i++) {\r\n\t\t\tvar entry = this.state.data.metaData.entryTypes[i];\r\n\t\t\tif(category === entry.Category) {\r\n\t\t\t\taddingData.Fields.Type = \"\";\r\n\t\t\t}\r\n\t\t}\r\n\t\tthis.setState({adding: true, goalAdding: category, addingData: addingData});\r\n\t}\r\n\t\r\n\tcloseAddModal = () => {\r\n\t\tthis.setState({adding: false, goalAdding: \"\", addingData: {}, alertMessage: \"\", invalidFields: false});\r\n\t}\r\n\t\r\n\tonChangeEdit = (e) => {\r\n\t\tvar name = [e.target.name][0];\r\n\t\tvar value = e.target.value;\r\n\t\tvar dataCopy = JSON.parse(JSON.stringify(this.state.editingData));\r\n\t\tdataCopy.Fields[name] = value;\r\n\t\tthis.setState({editingData: dataCopy});\r\n\t}\r\n\t\r\n\tonClickRootClose = () => {\r\n\t\tif(this.state.nameMenuShow) {\r\n\t\t\tthis.setState({nameMenuShow: false});\r\n\t\t}\r\n\t\telse {\r\n\t\t\tthis.setState({nameMenuShow: true});\r\n\t\t}\r\n\t}\r\n\t\r\n\tshowNameList = (nameSearch) => {\r\n\t\tif(nameSearch.length === 0) {\r\n\t\t\tthis.setState({nameMenuShow: false});\r\n\t\t}\r\n\t\telse {\r\n\t\t\tthis.setState({nameMenuShow: true});\r\n\t\t}\r\n\t}\r\n\t\r\n\tonSelectName = (value) => {\r\n\t\tvar dataCopy = JSON.parse(JSON.stringify(this.state.addingData));\r\n\t\tdataCopy.Fields.Name = value;\r\n\t\tthis.setState({addingData: dataCopy});\r\n\t}\r\n\t\r\n\tonChangeAdd = (e) => {\r\n\t\tvar name = [e.target.name][0];\r\n\t\tvar value = e.target.value;\r\n\t\tvar dataCopy = JSON.parse(JSON.stringify(this.state.addingData));\r\n\t\tif(name === \"Type\") {\r\n\t\t\tdataCopy.Fields = {};\r\n\t\t\tdataCopy.Fields[name] = value;\r\n\t\t\tfor(var i = 0; i < this.state.data.metaData.entryTypes.length; i++) {\r\n\t\t\t\tvar entry = this.state.data.metaData.entryTypes[i];\r\n\t\t\t\tif(entry.Category === this.state.goalAdding && entry.Type === value) {\r\n\t\t\t\t\tfor(var x = 0; x < entry.displayOrder.length; x++) {\r\n\t\t\t\t\t\tvar field = entry.displayOrder[x];\r\n\t\t\t\t\t\tif(entry[field] === \"string\" && field !== \"Notes\" && field !== \"Category\") {\r\n\t\t\t\t\t\t\tdataCopy.Fields[field] = \"\";\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse if(entry[field] === \"number\") {\r\n\t\t\t\t\t\t\tdataCopy.Fields[field] = 0;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\telse if(name === \"Name\") {\r\n\t\t\tthis.showNameList(value);\r\n\t\t\tdataCopy.Fields[name] = value;\r\n\t\t}\r\n\t\telse {\r\n\t\t\tdataCopy.Fields[name] = value;\r\n\t\t}\r\n\t\tthis.setState({addingData: dataCopy});\r\n\t}\r\n\t\r\n\tdeleteGoal = async (goalIndex) => {\r\n\t\tvar dataCopy = JSON.parse(JSON.stringify(this.state.data));\r\n\t\tif(window.confirm(\"Are you sure you want to delete this goal?\")) {\r\n\t\t\tdataCopy.goals.splice(goalIndex, 1);\r\n\t\t\tthis.setState({data: dataCopy});\r\n\t\t\tawait this.props.saveData(dataCopy, \"save\", \"Goals\");\r\n\t\t}\r\n\t}\r\n\t\r\n\tshowAlert = (msg) => {\r\n\t\tthis.setState({invalidFields: true, alertMessage: msg});\r\n\t}\r\n\t\r\n\thideAlert = () => {\r\n\t\tthis.setState({invalidFields: false, alertMessage: \"\"});\r\n\t}\r\n\t\r\n\tcheckEditFields = () => {\r\n\t\tvar entryType = null;\r\n\t\tfor(var i = 0; i < this.state.data.metaData.entryTypes.length; i++) {\r\n\t\t\tvar entry = this.state.data.metaData.entryTypes[i];\r\n\t\t\tif(entry.Category === this.state.editingData[\"Goal Type\"] && Object.keys(this.state.editingData.Fields).includes(entry.Type)) {\r\n\t\t\t\tentryType = entry;\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\telse if(entry.Category === this.state.editingData[\"Goal Type\"] && this.state.editingData.Fields.Type === entry.Type) {\r\n\t\t\t\tentryType = entry;\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t\tif(entryType === null) {\r\n\t\t\talert(\"Sorry, an error occurred -- you cannot update this goal\");\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tfor(var key in this.state.editingData.Fields) {\r\n\t\t\tif(this.state.editingData.Fields[key].toString().trim().length === 0) {\r\n\t\t\t\tthis.showAlert(\"Cannot save data. You're missing some required fields!\");\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\telse if(entryType[key] === \"number\" && isNaN(this.state.editingData.Fields[key])) {\r\n\t\t\t\tthis.showAlert(\"'\" + key + \"' \" + \"must be a number!\");\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn true;\r\n\t}\r\n\t\r\n\tcheckAddFields = () => {\r\n\t\tvar entryType = null;\r\n\t\tfor(var i = 0; i < this.state.data.metaData.entryTypes.length; i++) {\r\n\t\t\tvar entry = this.state.data.metaData.entryTypes[i];\r\n\t\t\tif(entry.Category === this.state.addingData[\"Goal Type\"] && entry.Type === this.state.addingData.Fields.Type) {\r\n\t\t\t\tentryType = entry;\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t\tfor(var key in this.state.addingData.Fields) {\r\n\t\t\tif(this.state.addingData.Fields[key].toString().trim().length === 0) {\r\n\t\t\t\tthis.showAlert(\"Cannot save data. You're missing some required fields!\");\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\telse if(entryType[key] === \"number\" && isNaN(this.state.addingData.Fields[key])) {\r\n\t\t\t\tthis.showAlert(\"'\" + key + \"' \" + \"must be a number!\");\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn true;\r\n\t}\r\n\t\r\n\tonClickSaveEdit = async () => {\r\n\t\tif(this.checkEditFields()) {\r\n\t\t\tvar dataCopy = JSON.parse(JSON.stringify(this.state.data));\r\n\t\t\tfor(var key in this.state.editingData.Fields) {\r\n\t\t\t\tthis.state.editingData.Fields[key] = this.state.editingData.Fields[key].toString().trim();\r\n\t\t\t}\r\n\t\t\tthis.state.editingData.lastUpdated = new Date();\r\n\t\t\tdataCopy.goals[this.state.goalIndex] = this.state.editingData;\r\n\t\t\tthis.setState({data: dataCopy});\r\n\t\t\tawait this.props.saveData(dataCopy, \"save\", \"Goals\");\r\n\t\t\tthis.closeEditModal();\r\n\t\t}\r\n\t\telse {\r\n\t\t\treturn;\r\n\t\t}\r\n\t}\r\n\t\r\n\tonClickSaveAdd = async () => {\r\n\t\tif(this.checkAddFields()) {\r\n\t\t\tvar dataCopy = JSON.parse(JSON.stringify(this.state.data));\r\n\t\t\tfor(var key in this.state.addingData.Fields) {\r\n\t\t\t\tthis.state.addingData.Fields[key] = this.state.addingData.Fields[key].toString().trim();\r\n\t\t\t}\r\n\t\t\tthis.state.addingData.lastUpdated = new Date();\r\n\t\t\tthis.state.addingData.fieldOrder = Object.keys(this.state.addingData.Fields);\r\n\t\t\tdataCopy.goals.push(this.state.addingData);\r\n\t\t\tthis.setState({data: dataCopy});\r\n\t\t\tawait this.props.saveData(dataCopy, \"save\", \"Goals\");\r\n\t\t\tthis.closeAddModal();\r\n\t\t}\r\n\t\telse {\r\n\t\t\treturn;\r\n\t\t}\r\n\t}\r\n\t\r\n\tvalidateMacros = () => {\r\n\t\tvar percentageTotal = 0;\r\n\t\tfor(var key in this.state.editingData.Fields) {\r\n\t\t\tif(key !== \"Calories\") {\r\n\t\t\t\tpercentageTotal = percentageTotal + Number(this.state.editingData.Fields[key])\r\n\t\t\t}\r\n\t\t}\r\n\t\tif(percentageTotal !== 100) {\r\n\t\t\tthis.showAlert(\"Macronutrients must total 100%\");\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\treturn true;\r\n\t}\r\n\t\r\n\tconstructPieData = (fields) => {\r\n\t\tvar data = [];\r\n\t\tvar labels = [];\r\n\t\tfor(var key in fields) {\r\n\t\t\tif(key !== \"Calories\" && !isNaN(fields[key])) {\r\n\t\t\t\tdata.push(fields[key]);\r\n\t\t\t\tlabels.push(key);\r\n\t\t\t}\r\n\t\t}\r\n\t\tvar pieData = {\r\n\t\t\tdatasets: [{\r\n\t\t\t\tdata: data,\r\n\t\t\t\tbackgroundColor: [\r\n\t\t\t\t\t'#FF6384',\r\n\t\t\t\t\t'#36A2EB',\r\n\t\t\t\t\t'#FFCE56',\r\n\t\t\t\t\t'#484a47',\r\n\t\t\t\t\t'#a37774',\r\n\t\t\t\t\t'#e88873',\r\n\t\t\t\t\t'#e0ac9d',\r\n\t\t\t\t\t'#7ebdc2',\r\n\t\t\t\t\t'#f3dfa2',\r\n\t\t\t\t\t'#efe6dd',\r\n\t\t\t\t\t],\r\n\t\t\t\thoverBackgroundColor: [\r\n\t\t\t\t\t'#FF6384',\r\n\t\t\t\t\t'#36A2EB',\r\n\t\t\t\t\t'#FFCE56',\r\n\t\t\t\t\t'#484a47',\r\n\t\t\t\t\t'#a37774',\r\n\t\t\t\t\t'#e88873',\r\n\t\t\t\t\t'#e0ac9d',\r\n\t\t\t\t\t'#7ebdc2',\r\n\t\t\t\t\t'#f3dfa2',\r\n\t\t\t\t\t'#efe6dd',\r\n\t\t\t\t]\r\n\t\t\t}],\r\n\t\t\tlabels: labels,\r\n\t\t}\r\n\t\treturn pieData;\r\n\t}\r\n\t\r\n\trender() {\r\n\t\tif(this.state.data === null) {\r\n\t\t\treturn (\r\n\t\t\t\t<div> </div>\r\n\t\t\t);\r\n\t\t}\r\n\t\treturn (\r\n\t\t\t<Container fluid>\r\n\t\t\t\t{this.state.editing \r\n\t\t\t\t\t?\r\n\t\t\t\t\t\t<Modal size = \"lg\" show = {this.state.editing} onHide = {this.closeEditModal.bind(this)}>\r\n\t\t\t\t\t\t\t<Modal.Header closeButton>\r\n\t\t\t\t\t\t\t\t<Modal.Title> Edit {this.state.goalEditing} Goal </Modal.Title>\r\n\t\t\t\t\t\t\t</Modal.Header>\r\n\t\t\t\t\t\t\t<Modal.Body>\r\n\t\t\t\t\t\t\t{!this.state.editingData.deletable\r\n\t\t\t\t\t\t\t?\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t{this.state.editingData.fieldOrder.map((field) => {\r\n\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t<ListGroup horizontal>\r\n\t\t\t\t\t\t\t\t\t\t\t<ListGroup.Item style = {{width: \"50%\"}}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{field}\r\n\t\t\t\t\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t<ListGroup.Item style = {{width: \"50%\"}}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tas = \"input\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname = {field}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue = {this.state.editingData.Fields[field]}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange = {(e) => {this.onChangeEdit(e)}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t</ListGroup>\r\n\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t:\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t{this.state.editingData.fieldOrder.map((field) => {\r\n\t\t\t\t\t\t\t\t\tif(field === \"Type\") {\r\n\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t<ListGroup horizontal>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<ListGroup.Item style = {{width: \"50%\"}}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{field}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<ListGroup.Item style = {{width: \"50%\"}}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Control \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tas = \"select\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tname = {field}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue = {this.state.editingData.Fields[field]}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange = {(e) => {this.onChangeEdit(e)}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled = {true}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option  value = \"\" selected disabled hidden> Select </option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{this.props.data.metaData.entryTypes.map((entry) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif(this.state.goalEditing === entry.Category) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option value = {entry.Type}> {entry.Type} </option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Form.Control>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t</ListGroup>\r\n\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\telse if (field === \"Name\") {\r\n\t\t\t\t\t\t\t\t\t\tvar nameList = [];\r\n\t\t\t\t\t\t\t\t\t\tfor(var i = 0; i < this.state.data.entryNames.length ; i++) {\r\n\t\t\t\t\t\t\t\t\t\t\tvar nameData = this.state.data.entryNames[i];\r\n\t\t\t\t\t\t\t\t\t\t\tif(this.state.goalEditing === nameData.Category && this.state.editingData.Fields.Type === nameData.Type) {\r\n\t\t\t\t\t\t\t\t\t\t\t\tnameList.push(nameData.Name);\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t<ListGroup horizontal>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<ListGroup.Item style = {{width: \"50%\"}}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{field}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<ListGroup.Item style = {{width: \"50%\"}}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<InputGroup>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tas = \"input\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tautoComplete = \"off\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname = {field}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue = {this.state.editingData.Fields[field]}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange = {(e) => {this.onChangeEdit(e)}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Dropdown show = {this.state.nameMenuShow} as = {InputGroup.Prepend} onToggle = {this.onClickRootClose.bind(this)}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Dropdown.Toggle variant = \"outline-secondary\" eventKey = \"00\"> </Dropdown.Toggle>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Dropdown.Menu rootCloseEvent = \"click\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{nameList.map((name) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Dropdown.Item onSelect = {this.onSelectName.bind(this, name)} >\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{name}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Dropdown.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Dropdown.Menu>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Dropdown> \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</InputGroup> \r\n\t\t\t\t\t\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t</ListGroup>\r\n\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t<ListGroup horizontal>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<ListGroup.Item style = {{width: \"50%\"}}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{field}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<ListGroup.Item style = {{width: \"50%\"}}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tas = \"input\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tname = {field}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue = {this.state.editingData.Fields[field]}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange = {(e) => {this.onChangeEdit(e)}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t</ListGroup>\r\n\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t</Modal.Body>\r\n\t\t\t\t\t\t\t<Modal.Footer>\r\n\t\t\t\t\t\t\t\t{this.state.invalidFields \r\n\t\t\t\t\t\t\t\t\t?\r\n\t\t\t\t\t\t\t\t\t\t<Alert show = {this.state.invalidFields} variant = \"danger\" onClose = {this.hideAlert.bind(this)} dismissible>\r\n\t\t\t\t\t\t\t\t\t\t\t<p> {this.state.alertMessage} </p>\r\n\t\t\t\t\t\t\t\t\t\t</Alert>\r\n\t\t\t\t\t\t\t\t\t:\r\n\t\t\t\t\t\t\t\t\t\t<div> </div>\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t<Button variant = \"secondary\" onClick = {this.closeEditModal.bind(this)}> Close </Button>\r\n\t\t\t\t\t\t\t\t<Button variant = \"primary\" onClick = {this.onClickSaveEdit.bind(this)}> Save </Button>\r\n\t\t\t\t\t\t\t</Modal.Footer>\r\n\t\t\t\t\t\t</Modal>\r\n\t\t\t\t\t:\r\n\t\t\t\t\t<div> </div>\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t{this.state.adding \r\n\t\t\t\t\t?\r\n\t\t\t\t\t\t<Modal size = \"lg\" show = {this.state.adding} onHide = {this.closeAddModal.bind(this)}>\r\n\t\t\t\t\t\t\t<Modal.Header closeButton>\r\n\t\t\t\t\t\t\t\t<Modal.Title> Add {this.state.goalAdding} Goal </Modal.Title>\r\n\t\t\t\t\t\t\t</Modal.Header>\r\n\t\t\t\t\t\t\t<Modal.Body>\r\n\t\t\t\t\t\t\t{this.state.goalAdding !== \"Diet\" && this.state.goalAdding !== \"Body\"\r\n\t\t\t\t\t\t\t?\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t{Object.keys(this.state.addingData.Fields).map((field) => {\r\n\t\t\t\t\t\t\t\t\tif(field === \"Type\") {\r\n\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t<ListGroup horizontal>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<ListGroup.Item style = {{width: \"50%\"}}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{field} \r\n\t\t\t\t\t\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<ListGroup.Item style = {{width: \"50%\"}}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Control \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tas = \"select\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tname = {field}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue = {this.state.addingData.Fields[field]}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange = {(e) => {this.onChangeAdd(e)}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option  value = \"\" selected disabled hidden> Select </option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{this.props.data.metaData.entryTypes.map((entry) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif(this.state.goalAdding === entry.Category) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option value = {entry.Type}> {entry.Type} </option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Form.Control>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t</ListGroup>\r\n\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\telse if (field === \"Name\") {\r\n\t\t\t\t\t\t\t\t\t\tvar nameList = [];\r\n\t\t\t\t\t\t\t\t\t\tfor(var i = 0; i < this.state.data.entryNames.length ; i++) {\r\n\t\t\t\t\t\t\t\t\t\t\tvar nameData = this.state.data.entryNames[i];\r\n\t\t\t\t\t\t\t\t\t\t\tif(this.state.goalAdding === nameData.Category && this.state.addingData.Fields.Type === nameData.Type) {\r\n\t\t\t\t\t\t\t\t\t\t\t\tnameList.push(nameData.Name);\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t<ListGroup horizontal>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<ListGroup.Item style = {{width: \"50%\"}}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{field}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<ListGroup.Item style = {{width: \"50%\"}}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<InputGroup>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tas = \"input\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tautoComplete = \"off\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname = {field}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue = {this.state.addingData.Fields[field]}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange = {(e) => {this.onChangeAdd(e)}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Dropdown show = {this.state.nameMenuShow} as = {InputGroup.Prepend} onToggle = {this.onClickRootClose.bind(this)}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Dropdown.Toggle variant = \"outline-secondary\" eventKey = \"00\"> </Dropdown.Toggle>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Dropdown.Menu rootCloseEvent = \"click\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{nameList.map((name) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Dropdown.Item onSelect = {this.onSelectName.bind(this, name)} >\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{name}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Dropdown.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Dropdown.Menu>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Dropdown> \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</InputGroup> \r\n\t\t\t\t\t\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t</ListGroup>\r\n\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t<ListGroup horizontal>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<ListGroup.Item style = {{width: \"50%\"}}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{field}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<ListGroup.Item style = {{width: \"50%\"}}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tas = \"input\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tname = {field}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue = {this.state.addingData.Fields[field]}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange = {(e) => {this.onChangeAdd(e)}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t</ListGroup>\r\n\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t:\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t{Object.keys(this.state.addingData.Fields).map((field) => {\r\n\t\t\t\t\t\t\t\t\tif(field === \"Type\") {\r\n\t\t\t\t\t\t\t\t\t\tvar toolTip = <Tooltip> The default {this.state.goalAdding} fields cannot be edited, deleted, or added. If you want to add additional {this.state.goalAdding} goals, \r\n\t\t\t\t\t\t\t\t\t\t\tthen add a new Type under the Customize Data tab in your Profile page. </Tooltip>\r\n\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t<ListGroup horizontal>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<ListGroup.Item style = {{width: \"50%\"}}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{field}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<OverlayTrigger\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tplacement = \"right\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdelay = {{ show: 250, hide: 400 }}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\toverlay = {toolTip}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button variant = \"light\" size = \"sm\" style = {{marginLeft: \"1.5%\"}}>  </Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</OverlayTrigger>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<ListGroup.Item style = {{width: \"50%\"}}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Control \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tas = \"select\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tname = {field}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue = {this.state.addingData.Fields[field]}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange = {(e) => {this.onChangeAdd(e)}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option  value = \"\" selected disabled hidden> Select </option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{this.props.data.metaData.entryTypes.map((entry) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif(this.state.goalAdding === entry.Category && !this.state.data.metaData.nonDeletableGoalFields.includes(entry.Type)) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option value = {entry.Type}> {entry.Type} </option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Form.Control>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t</ListGroup>\r\n\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\telse if (field === \"Name\") {\r\n\t\t\t\t\t\t\t\t\t\tvar nameList = [];\r\n\t\t\t\t\t\t\t\t\t\tfor(var i = 0; i < this.state.data.entryNames.length ; i++) {\r\n\t\t\t\t\t\t\t\t\t\t\tvar nameData = this.state.data.entryNames[i];\r\n\t\t\t\t\t\t\t\t\t\t\tif(this.state.goalAdding === nameData.Category && this.state.addingData.Fields.Type === nameData.Type) {\r\n\t\t\t\t\t\t\t\t\t\t\t\tnameList.push(nameData.Name);\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t<ListGroup horizontal>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<ListGroup.Item style = {{width: \"50%\"}}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{field}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<ListGroup.Item style = {{width: \"50%\"}}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<InputGroup>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tas = \"input\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tautoComplete = \"off\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname = {field}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue = {this.state.addingData.Fields[field]}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange = {(e) => {this.onChangeAdd(e)}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Dropdown show = {this.state.nameMenuShow} as = {InputGroup.Prepend} onToggle = {this.onClickRootClose.bind(this)}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Dropdown.Toggle variant = \"outline-secondary\" eventKey = \"00\"> </Dropdown.Toggle>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Dropdown.Menu rootCloseEvent = \"click\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{nameList.map((name) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Dropdown.Item onSelect = {this.onSelectName.bind(this, name)} >\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{name}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Dropdown.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Dropdown.Menu>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Dropdown> \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</InputGroup> \r\n\t\t\t\t\t\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t</ListGroup>\r\n\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t<ListGroup horizontal>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<ListGroup.Item style = {{width: \"50%\"}}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{field}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<ListGroup.Item style = {{width: \"50%\"}}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tas = \"input\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tname = {field}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue = {this.state.addingData.Fields[field]}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange = {(e) => {this.onChangeAdd(e)}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t</ListGroup>\r\n\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t</Modal.Body>\r\n\t\t\t\t\t\t\t<Modal.Footer>\r\n\t\t\t\t\t\t\t\t{this.state.invalidFields \r\n\t\t\t\t\t\t\t\t\t?\r\n\t\t\t\t\t\t\t\t\t\t<Alert show = {this.state.invalidFields} variant = \"danger\" onClose = {this.hideAlert.bind(this)} dismissible>\r\n\t\t\t\t\t\t\t\t\t\t\t<p> {this.state.alertMessage} </p>\r\n\t\t\t\t\t\t\t\t\t\t</Alert>\r\n\t\t\t\t\t\t\t\t\t:\r\n\t\t\t\t\t\t\t\t\t\t<div> </div>\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t<Button variant = \"secondary\" onClick = {this.closeAddModal.bind(this)}> Close </Button>\r\n\t\t\t\t\t\t\t\t<Button variant = \"primary\" onClick = {this.onClickSaveAdd.bind(this)}> Save </Button>\r\n\t\t\t\t\t\t\t</Modal.Footer>\r\n\t\t\t\t\t\t</Modal>\r\n\t\t\t\t\t:\r\n\t\t\t\t\t\t<div> </div>\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t{this.state.data.metaData.categories.map((category) => {\r\n\t\t\t\tvar lastUpdated = \"\";\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<Card>\r\n\t\t\t\t\t\t\t<Card.Body>\r\n\t\t\t\t\t\t\t\t<Card.Title> \r\n\t\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t\t{category} Goals \r\n\t\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t\t<Button variant = \"primary\" style = {{float: \"right\"}} onClick = {this.openAddModal.bind(this, category)}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t+\r\n\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t</Card.Title>\r\n\t\t\t\t\t\t\t\t<Card.Text>\r\n\t\t\t\t\t\t\t\t{this.state.data.goals.map((goal, goalIndex) => {\r\n\t\t\t\t\t\t\t\t\tvar pieData = this.constructPieData(goal.Fields);\r\n\t\t\t\t\t\t\t\t\tif(goal[\"Goal Type\"] === category) {\r\n\t\t\t\t\t\t\t\t\t\tif(goal.lastUpdated !== \"\") {\r\n\t\t\t\t\t\t\t\t\t\t\tif(lastUpdated === \"\") {\r\n\t\t\t\t\t\t\t\t\t\t\t\tlastUpdated = new Date(goal.lastUpdated);\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\t\t\t\t\t\tif(new Date(lastUpdated).getTime() < new Date(goal.lastUpdated).getTime()) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tlastUpdated = new Date(goal.lastUpdated).toLocaleString();\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\treturn <div>\r\n\t\t\t\t\t\t\t\t\t\t<Row> \r\n\t\t\t\t\t\t\t\t\t\t\t<Col sm = {6}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{goal.fieldOrder.map((field) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ListGroup horizontal>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ListGroup.Item style = {{width: \"50%\"}} variant = \"primary\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{field}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ListGroup.Item style = {{width: \"50%\"}}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{goal.Fields[field]}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</ListGroup>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Row style = {{marginTop: \"1%\"}}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button variant = \"light\" \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle = {{float: \"left\", margin: \"1%\", backgroundColor: \"#E0E0E0\"}} \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick = {this.openEditModal.bind(this, category, goalIndex)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t> \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{goal.deletable\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t?\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button variant = \"light\" style = {{float: \"left\", margin: \"1%\", backgroundColor: \"#E0E0E0\"}} onClick = {this.deleteGoal.bind(this, goalIndex)}>  </Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t:\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div> </div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t<Col sm = {6}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Card>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Card.Body>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Card.Title> {category} Analysis </Card.Title>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Card.Text>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Pie data = {pieData} options={{ maintainAspectRatio: false }}/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Card.Text>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Card.Body>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<hr style = {{border: \"1px solid #DCDCDC\"}} />\r\n\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t</Card.Text>\r\n\t\t\t\t\t\t\t</Card.Body>\r\n\t\t\t\t\t\t\t<Card.Footer>\r\n\t\t\t\t\t\t\t\t<small className=\"text-muted\"> Last Updated: {lastUpdated.toLocaleString()}</small>\r\n\t\t\t\t\t\t\t</Card.Footer>\r\n\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t  )\r\n\t\t\t  })}\r\n\t\t\t</Container>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default Goals;","import React, { Component } from 'react';\r\nimport axios from 'axios';\r\nimport '../td-css/TrainingDiary.css';\r\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\r\nimport Loader from 'react-loader-spinner';\r\nimport Container from 'react-bootstrap/Container';\r\nimport Row from 'react-bootstrap/Row';\r\nimport Col from 'react-bootstrap/Col';\r\nimport Button from 'react-bootstrap/Button';\r\nimport ButtonGroup from 'react-bootstrap/ButtonGroup';\r\nimport ToggleButton from 'react-bootstrap/ToggleButton';\r\nimport Tabs from 'react-bootstrap/Tabs';\r\nimport TabContent from 'react-bootstrap/TabContent';\r\nimport Tab from 'react-bootstrap/Tab';\r\nimport Calendar from './Calendar.js';\r\nimport Graph from './Graph.js';\r\nimport DataList from './DataList.js';\r\nimport Goals from './Goals.js';\r\nimport { BrowserRouter as Router, Link } from 'react-router-dom';\r\n//import TrackExercises from './TrackExercises.js';\r\n//PROPS: \r\n\t//data \r\n\t//logout()\r\n\t//saveData()\r\n\t//addModalShow\r\n\t//isSaving\r\n\t//toggleSaveBar()\r\n\t//toggleAddModal()\r\nclass TrainingDiary extends Component {\r\n\t\r\n\tstate = {\r\n\t\tdata: null,\r\n\t\tactiveTab: \"calendar\",\r\n\t} \r\n\t\r\n\t/* COMPONENT MOUNTING AND UPDATING METHODS */\r\n\t\r\n\tcomponentDidMount = () => {\r\n\t\tthis.setState({data: this.props.data});\r\n\t}\r\n\t\r\n\t/* GENERAL COMPONENT METHODS */ \r\n\t\r\n\t//toggles which tab is selected and rendered\r\n\ttoggleTabs = (tab) => {\r\n\t\tthis.setState({activeTab: tab});\r\n\t}\r\n\t\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<Container fluid>\r\n\t\t\t\t{/* row 1: header, settings Button, logout Button*/}\r\n\t\t\t\t<Row>\r\n\t\t\t\t\t<Col xs = {8}>\r\n\t\t\t\t\t\t<h1> Training Diary </h1>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t\t<Col xs = {4}>\r\n\t\t\t\t\t\t<Button variant = \"primary\" onClick = {this.props.logout} className = \"td-header-button\"> Logout </Button>\r\n\t\t\t\t\t\t<Button variant = \"primary\" href = \"/profile\" className = \"td-header-button\"> Profile </Button> \r\n\t\t\t\t\t</Col>\r\n\t\t\t\t</Row>\r\n\t\t\t\t\r\n\t\t\t\t<br/>\r\n\t\t\t\t\r\n\t\t\t\t{/* row 2: Tabs */}\r\n\t\t\t\t<Row style = {{height: \"75vh\"}}>\r\n\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t<Tabs activeKey = {this.state.activeTab} onSelect = {(tab) => {this.toggleTabs(tab)}}>\r\n\t\t\t\t\t\t\t\t<Tab eventKey = \"graph\" title = \"Graph \">\r\n\t\t\t\t\t\t\t\t\t{this.state.activeTab !== \"graph\"\r\n\t\t\t\t\t\t\t\t\t?\r\n\t\t\t\t\t\t\t\t\t<div> </div>\r\n\t\t\t\t\t\t\t\t\t:\r\n\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t\t\t\t\t<Graph data = {this.props.data} />\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t</Tab>\r\n\t\t\t\t\t\t\t\t<Tab eventKey = \"calendar\" title = \"Calendar \">\r\n\t\t\t\t\t\t\t\t\t{this.state.activeTab !== \"calendar\"\r\n\t\t\t\t\t\t\t\t\t?\r\n\t\t\t\t\t\t\t\t\t<div> </div>\r\n\t\t\t\t\t\t\t\t\t:\r\n\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t\t\t\t\t<Calendar \r\n\t\t\t\t\t\t\t\t\t\t\tdata = {this.props.data} \r\n\t\t\t\t\t\t\t\t\t\t\tsaveData = {this.props.saveData}\r\n\t\t\t\t\t\t\t\t\t\t\taddModalShow = {this.props.addModalShow}\r\n\t\t\t\t\t\t\t\t\t\t\teditModalShow = {this.props.editModalShow}\r\n\t\t\t\t\t\t\t\t\t\t\tisSaving = {this.props.isSaving}\r\n\t\t\t\t\t\t\t\t\t\t\ttoggleAddModal = {this.props.toggleAddModal}\r\n\t\t\t\t\t\t\t\t\t\t\ttoggleEditModal = {this.props.toggleEditModal}\r\n\t\t\t\t\t\t\t\t\t\t\ttoggleSaveBar = {this.props.toggleSaveBar}\r\n\t\t\t\t\t\t\t\t\t\t\tdataToEdit = {this.props.dataToEdit}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t</Tab>\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<Tab eventKey = \"dataList\" title = \"Data-List \">\r\n\t\t\t\t\t\t\t\t\t{this.state.activeTab !== \"dataList\"\r\n\t\t\t\t\t\t\t\t\t?\r\n\t\t\t\t\t\t\t\t\t<div> </div>\r\n\t\t\t\t\t\t\t\t\t:\r\n\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t<br/> \r\n\t\t\t\t\t\t\t\t\t\t<DataList \r\n\t\t\t\t\t\t\t\t\t\t\tdata = {this.props.data} \r\n\t\t\t\t\t\t\t\t\t\t\tsaveData = {this.props.saveData}\r\n\t\t\t\t\t\t\t\t\t\t\taddModalShow = {this.props.addModalShow}\r\n\t\t\t\t\t\t\t\t\t\t\teditModalShow = {this.props.editModalShow}\r\n\t\t\t\t\t\t\t\t\t\t\tisSaving = {this.props.isSaving}\r\n\t\t\t\t\t\t\t\t\t\t\ttoggleAddModal = {this.props.toggleAddModal}\r\n\t\t\t\t\t\t\t\t\t\t\ttoggleEditModal = {this.props.toggleEditModal}\r\n\t\t\t\t\t\t\t\t\t\t\ttoggleSaveBar = {this.props.toggleSaveBar}\r\n\t\t\t\t\t\t\t\t\t\t\tdataToEdit = {this.props.dataToEdit}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t</Tab>\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<Tab eventKey = \"goals\" title = \"Goals \">\r\n\t\t\t\t\t\t\t\t\t{this.state.activeTab !== \"goals\"\r\n\t\t\t\t\t\t\t\t\t?\r\n\t\t\t\t\t\t\t\t\t<div> </div>\r\n\t\t\t\t\t\t\t\t\t:\r\n\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t\t\t\t\t<Goals \r\n\t\t\t\t\t\t\t\t\t\t\tdata = {this.props.data} \r\n\t\t\t\t\t\t\t\t\t\t\tsaveData = {this.props.saveData}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t</Tab>\r\n\t\t\t\t\t\t\t</Tabs>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t</Row>\r\n\t\t\t</Container>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default TrainingDiary;","import React, { Component } from 'react';\r\nimport Container from 'react-bootstrap/Container';\r\nimport Row from 'react-bootstrap/Row';\r\nimport Col from 'react-bootstrap/Col';\r\nimport Button from 'react-bootstrap/Button';\r\nimport Card from 'react-bootstrap/Card';\r\nimport ListGroup from 'react-bootstrap/ListGroup';\r\nimport Tabs from 'react-bootstrap/Tabs';\r\nimport TabContent from 'react-bootstrap/TabContent';\r\nimport Tab from 'react-bootstrap/Tab';\r\nimport Form from 'react-bootstrap/Form';\r\nimport DatePicker from \"react-datepicker\";\r\nimport subDays from \"date-fns/subDays\";\r\nimport subYears from \"date-fns/subYears\";\r\nimport \"react-datepicker/dist/react-datepicker.css\"\r\nimport Spinner from 'react-bootstrap/Spinner';\r\nimport Modal from \"react-bootstrap/Modal\";\r\nimport Dropdown from 'react-bootstrap/Dropdown';\r\nimport InputGroup from 'react-bootstrap/InputGroup';\r\nimport Alert from 'react-bootstrap/Alert';\r\n\r\nclass Profile extends Component {\r\n\t\r\n\tstate = {\r\n\t\tdata: null,\r\n\t\tvalidated: false,\r\n\t\tusername: \"\",\r\n\t\temail: \"\",\r\n\t\tbirthday: null,\r\n\t\toldPassword: \"\",\r\n\t\tnewPassword: \"\",\r\n\t\tconfirmNewPassword: \"\",\r\n\t\tsaving: false,\r\n\t\tshowModal: false,\r\n\t\tshowEditModal: false,\r\n\t\teditModalData: {},\r\n\t\taddModalData: {},\r\n\t\tfields: [],\r\n\t\tcategoryMenuShow: false,\r\n\t\tshowAlert: false,\r\n\t\talertMessage: \"\",\r\n\t\tentryTypeIndex: -1\r\n\t}\r\n\t\r\n\tcomponentDidMount = () => {\r\n\t\tthis.setState({data: this.props.data, username: this.props.data._id, email: this.props.data.email, birthday: new Date(this.props.data.birthday)});\r\n\t}\r\n\t\r\n\tonChangeAccountInfo = (e) => {\r\n\t\tvar name = [e.target.name][0];\r\n\t\tvar value = e.target.value;\r\n\t\tthis.setState({[name]: value});\r\n\t}\r\n\t\r\n\tonSelectBirthday = (date) => {\r\n\t\tthis.setState({birthday: date});\r\n\t}\r\n\t\r\n\thandleInfoSubmit = async (e) => {\r\n\t\tconst form = e.currentTarget;\r\n\t\tif(form.checkValidity() === false) {\r\n\t\t\te.preventDefault();\r\n\t\t\te.stopPropagation();\r\n\t\t}\r\n\t\tthis.setState({validated: true});\r\n\t\tvar requestBody = {};\r\n\t\tvar username = this.state.username.trim();\r\n\t\te.preventDefault();\r\n\t\tif(this.state.username.trim().length === 0 || this.state.email.trim().length === 0 || this.state.birthday === null) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif(this.state.username.trim() !== this.props.data._id) {\r\n\t\t\trequestBody._id = this.state.username.trim();\r\n\t\t\tusername = this.props.data._id;\r\n\t\t}\r\n\t\tif(this.state.email.trim() !== this.props.data.email) {\r\n\t\t\trequestBody.email = this.state.email.trim();\r\n\t\t}\r\n\t\tif(new Date(this.state.birthday).getTime() !== new Date(this.props.data.birthday).getTime()) {\r\n\t\t\trequestBody.birthday = this.state.birthday;\r\n\t\t}\r\n\t\tif(Object.keys(requestBody).length === 0) {\r\n\t\t\talert(\"You did not make any changes\");\r\n\t\t\tthis.setState({validated: false});\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tthis.props.toggleSaving();\r\n\t\t//var requestBody = {prevUsername: this.props.data._id, prevEmail: this.props.data.email, newUsername: this.state.username, newEmail: this.state.email, birthday: this.state.birthday};\r\n\t\tvar dataCopy = JSON.parse(JSON.stringify(this.props.data));\r\n\t\tdataCopy._id = this.state.username;\r\n\t\tdataCopy.email = this.state.email;\r\n\t\tdataCopy.birthday = this.state.birthday;\r\n\t\tawait this.props.changeUsernameAndEmail(requestBody, dataCopy, this.props.token, username);\r\n\t\tthis.setState({validated: false});\r\n\t}\r\n\t\r\n\thandlePasswordSubmit = async (e) => {\r\n\t\tconst form = e.currentTarget;\r\n\t\tif(form.checkValidity() === false) {\r\n\t\t\te.preventDefault();\r\n\t\t\te.stopPropagation();\r\n\t\t}\r\n\t\tthis.setState({validated: true});\r\n\t\te.preventDefault();\r\n\t\tif(this.state.oldPassword.trim().length === 0 || this.state.newPassword.trim().length === 0 || this.state.confirmNewPassword.trim().length === 0) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif(this.state.newPassword !== this.state.confirmNewPassword) {\r\n\t\t\talert(\"Cannot proceed -- New password does not match confirmation password\");\r\n\t\t\tthis.setState({validated: false});\r\n\t\t\treturn; \r\n\t\t}\r\n\t\tif(this.state.newPassword === this.state.oldPassword) {\r\n\t\t\talert(\"Cannot proceed -- New password is the same as the old password\");\r\n\t\t\tthis.setState({validated: false});\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tthis.props.toggleSaving();\r\n\t\tvar requestBody = {oldPassword: this.state.oldPassword, newPassword: this.state.newPassword}\r\n\t\tvar dataCopy = JSON.parse(JSON.stringify(this.props.data));\r\n\t\tawait this.props.changePassword(requestBody, dataCopy, this.props.token);\r\n\t\tthis.forceUpdate();\r\n\t\tthis.setState({validated: false});\r\n\t}\r\n\t\r\n\tresetFields = () => {\r\n\t\tthis.setState({validated: false, oldPassword: \"\", newPassword: \"\", confirmNewPassword: \"\", username: this.props.data._id, email: this.props.data.email, birthday: new Date(this.props.data.birthday)});\r\n\t}\r\n\t\r\n\topenEditModal = async (index) => {\r\n\t\tvar editData = {};\r\n\t\tvar fields = [];\r\n\t\tconst entryType = this.props.data.metaData.entryTypes[index];\r\n\t\teditData.Category = entryType.Category;\r\n\t\teditData.Type = entryType.Type;\r\n\t\teditData.Notes = \"string\";\r\n\t\tfor(var i = 0; i < entryType.displayOrder.length; i++) {\r\n\t\t\tvar key = entryType.displayOrder[i];\r\n\t\t\tif(key !== \"Category\" && key !== \"Type\" && key !== \"Notes\") {\r\n\t\t\t\tfields.push({fieldName: key, dataType: entryType[key]});\r\n\t\t\t}\r\n\t\t}\r\n\t\tawait this.setState({showEditModal: true, editModalData: editData, fields: fields, entryTypeIndex: index});\r\n\t}\r\n\t\r\n\tcloseEditModal = async () => {\r\n\t\tawait this.setState({showEditModal: false, editModalData: {}, fields: [], entryTypeIndex: -1});\r\n\t\tthis.hideAlert();\r\n\t}\r\n\t\r\n\tonChangeEditModal = (e) => {\r\n\t\tvar name = [e.target.name][0];\r\n\t\tvar value = e.target.value;\r\n\t\tvar copy = JSON.parse(JSON.stringify(this.state.editModalData));\r\n\t\tcopy[name] = value;\r\n\t\tthis.setState({editModalData: copy});\r\n\t}\r\n\t\r\n\topenAddModal = async () => {\r\n\t\tconst newData = {Category: \"\", Type: \"\", Notes: \"string\"};\r\n\t\tawait this.setState({showModal: true, addModalData: newData});\r\n\t}\r\n\t\r\n\tcloseAddModal = () => {\r\n\t\tthis.setState({addModalData: {}, fields: [], showModal: false});\r\n\t\tthis.hideAlert();\r\n\t}\r\n\t\r\n\tonChangeAddModal = (e) => {\r\n\t\tvar name = [e.target.name][0];\r\n\t\tvar value = e.target.value;\r\n\t\tvar copy = JSON.parse(JSON.stringify(this.state.addModalData));\r\n\t\tif(name === \"Category\") {\r\n\t\t\tthis.showCategoryList(value);\r\n\t\t}\r\n\t\tcopy[name] = value;\r\n\t\tthis.setState({addModalData: copy});\r\n\t}\r\n\t\r\n\tonSelectDropdown = (key, value) => {\r\n\t\tvar copy = JSON.parse(JSON.stringify(this.state.addModalData));\r\n\t\tcopy[key] = value;\r\n\t\tthis.setState({addModalData: copy});\r\n\t}\r\n\t\r\n\tonClickRootCloseCategory = () => {\r\n\t\tif(this.state.categoryMenuShow) {\r\n\t\t\tthis.setState({categoryMenuShow: false});\r\n\t\t}\r\n\t\telse {\r\n\t\t\tthis.setState({categoryMenuShow: true});\r\n\t\t}\r\n\t}\r\n\t\r\n\tshowCategoryList = (categorySearch) => {\r\n\t\tif(categorySearch.length === 0) {\r\n\t\t\tthis.setState({categoryMenuShow: false});\r\n\t\t}\r\n\t\telse {\r\n\t\t\tthis.setState({categoryMenuShow: true});\r\n\t\t}\r\n\t}\r\n\t\r\n\taddField = () => {\r\n\t\tvar newField = {fieldName: \"\", dataType: \"\"};\r\n\t\tvar copy = this.state.fields.slice();\r\n\t\tcopy.push(newField);\r\n\t\tthis.setState({fields: copy});\r\n\t}\r\n\t\r\n\tonChangeField = (e, index) => {\r\n\t\tvar name = [e.target.name][0];\r\n\t\tvar value = e.target.value;\r\n\t\tvar copy = this.state.fields.slice();\r\n\t\tcopy[index][name] = value;\r\n\t\tthis.setState({fields: copy});\r\n\t}\r\n\t\r\n\ttypeExists = (category, type) => {\r\n\t\tfor(var i = 0; i < this.props.data.metaData.entryTypes.length; i++) {\r\n\t\t\tvar entry = this.props.data.metaData.entryTypes[i];\r\n\t\t\tif(entry.Category === category && entry.Type === type) {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n\t\r\n\tvalidateFields = () => {\r\n\t\tvar defaultKeys = Object.keys(this.state.addModalData);\r\n\t\tvar fieldNames = [];\r\n\t\tif(Object.keys(this.state.addModalData).length === 0) {\r\n\t\t\tthis.showAlert(\"Cannot add new data, you're missing some required fields!\");\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\tfor(var key in this.state.addModalData) {\r\n\t\t\tif(this.state.addModalData[key].toString().trim().length === 0) {\r\n\t\t\t\tthis.showAlert(\"Cannot add new data, you're missing some required fields!\");\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t}\r\n\t\tfor(var i = 0; i < this.state.fields.length; i++) {\r\n\t\t\tvar newField = this.state.fields[i];\r\n\t\t\tfieldNames.push(newField.fieldName);\r\n\t\t\tfor(var key in newField) {\r\n\t\t\t\tif(newField[key].toString().trim().length === 0) {\r\n\t\t\t\t\tthis.showAlert(\"Cannot add new data, you're missing some required fields!\");\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tif(this.typeExists(this.state.addModalData.Category.trim(), this.state.addModalData.Type.trim())) {\r\n\t\t\tthis.showAlert(\"Cannot add new data -- \" + \"'\" + this.state.addModalData.Type + \"'\" +\r\n\t\t\t\" already exists under \" + \"'\" + this.state.addModalData.Category + \"'\" + \"!\");\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\tfor(var i = 0; i < this.state.fields.length; i++) {\r\n\t\t\tvar newField = this.state.fields[i];\r\n\t\t\tfor(var key in newField) {\r\n\t\t\t\tif(defaultKeys.includes(newField[key].toString().trim())) {\r\n\t\t\t\t\tthis.showAlert(\"Cannot add new data -- \" + \"the name \" + \"'\" + newField[key].toString().trim() + \"' already exists\");\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tvar count = 0;\r\n\t\t\t\t\tfor(var x = 0; x < fieldNames.length; x++) {\r\n\t\t\t\t\t\tif(newField[key].toString().trim() === fieldNames[x].toString().trim()) {\r\n\t\t\t\t\t\t\tcount++;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(count > 1) {\r\n\t\t\t\t\t\tthis.showAlert(\"Cannot add new data -- \" + \"the name \" + \"'\" + newField[key].toString().trim() + \"' is a duplicate\");\r\n\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn true;\r\n\t}\r\n\t\r\n\tvalidateEditFields = () => {\r\n\t\tvar defaultKeys = Object.keys(this.state.editModalData);\r\n\t\tvar fieldNames = [];\r\n\t\tvar prev = this.props.data.metaData.entryTypes[this.state.entryTypeIndex];\r\n\t\tif(Object.keys(this.state.editModalData).length === 0) {\r\n\t\t\tthis.showAlert(\"Cannot edit data, you're missing some required fields!\");\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\tfor(var key in this.state.editModalData) {\r\n\t\t\tif(this.state.editModalData[key].toString().trim().length === 0) {\r\n\t\t\t\tthis.showAlert(\"Cannot edit data, you're missing some required fields!\");\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t}\r\n\t\tfor(var i = 0; i < this.state.fields.length; i++) {\r\n\t\t\tvar newField = this.state.fields[i];\r\n\t\t\tfieldNames.push(newField.fieldName);\r\n\t\t\tfor(var key in newField) {\r\n\t\t\t\tif(newField[key].toString().trim().length === 0) {\r\n\t\t\t\t\tthis.showAlert(\"Cannot edit data, you're missing some required fields!\");\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tif(this.typeExists(this.state.editModalData.Category.trim(), this.state.editModalData.Type.trim()) && prev.Type !== this.state.editModalData.Type.trim()) {\r\n\t\t\tthis.showAlert(\"Cannot edit data -- \" + \"'\" + this.state.editModalData.Type + \"'\" +\r\n\t\t\t\" already exists under \" + \"'\" + this.state.editModalData.Category + \"'\" + \"!\");\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\tfor(var i = 0; i < this.state.fields.length; i++) {\r\n\t\t\tvar newField = this.state.fields[i];\r\n\t\t\tfor(var key in newField) {\r\n\t\t\t\tif(defaultKeys.includes(newField[key].toString().trim())) {\r\n\t\t\t\t\tthis.showAlert(\"Cannot edit data -- \" + \"the name \" + \"'\" + newField[key] + \"' already exists\");\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tvar count = 0;\r\n\t\t\t\t\tfor(var x = 0; x < fieldNames.length; x++) {\r\n\t\t\t\t\t\tif(newField[key].toString().trim() === fieldNames[x].toString().trim()) {\r\n\t\t\t\t\t\t\tcount++;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(count > 1) {\r\n\t\t\t\t\t\tthis.showAlert(\"Cannot edit data -- \" + \"the name \" + \"'\" + newField[key].toString().trim() + \"' is a duplicate\");\r\n\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn true;\r\n\t}\r\n\t\r\n\tonClickSaveEdit = async () => {\r\n\t\tif(this.validateEditFields()) {\r\n\t\t\tvar dataCopy = JSON.parse(JSON.stringify(this.props.data));\r\n\t\t\tvar newData = {};\r\n\t\t\tvar displayOrder = [];\r\n\t\t\tnewData.Category = this.state.editModalData.Category.toString().trim();\r\n\t\t\tnewData.Type = this.state.editModalData.Type.toString().trim();\r\n\t\t\tfor(var i = 0; i < this.state.fields.length; i++) {\r\n\t\t\t\tvar newField = this.state.fields[i];\r\n\t\t\t\tvar fieldName = newField.fieldName.toString().trim();\r\n\t\t\t\tvar dataType = newField.dataType;\r\n\t\t\t\tnewData[fieldName] = dataType;\r\n\t\t\t}\r\n\t\t\tnewData.Notes = this.state.editModalData.Notes;\r\n\t\t\tdisplayOrder = Object.keys(newData);\r\n\t\t\tnewData.displayOrder = displayOrder;\r\n\t\t\tnewData.Date = \"string\";\r\n\t\t\tnewData.calculationType = \"none\";\r\n\t\t\tnewData.deletable = true;\r\n\t\t\tdataCopy.metaData.entryTypes[this.state.entryTypeIndex] = newData;\r\n\t\t\tawait this.props.saveData(dataCopy);\r\n\t\t\tthis.closeEditModal();\r\n\t\t\tthis.forceUpdate();\r\n\t\t}\r\n\t}\r\n\t\r\n\tonClickSave = async () => {\r\n\t\tif(this.validateFields()) {\r\n\t\t\tvar dataCopy = JSON.parse(JSON.stringify(this.props.data));\r\n\t\t\tvar newData = {};\r\n\t\t\tvar displayOrder = [];\r\n\t\t\tnewData.Category = this.state.addModalData.Category.toString().trim();\r\n\t\t\tnewData.Type = this.state.addModalData.Type.toString().trim();\r\n\t\t\tfor(var i = 0; i < this.state.fields.length; i++) {\r\n\t\t\t\tvar newField = this.state.fields[i];\r\n\t\t\t\tvar fieldName = newField.fieldName.toString().trim();\r\n\t\t\t\tvar dataType = newField.dataType;\r\n\t\t\t\tnewData[fieldName] = dataType;\r\n\t\t\t}\r\n\t\t\tnewData.Notes = this.state.addModalData.Notes;\r\n\t\t\tdisplayOrder = Object.keys(newData);\r\n\t\t\tnewData.displayOrder = displayOrder;\r\n\t\t\tnewData.Date = \"string\";\r\n\t\t\tnewData.calculationType = \"none\";\r\n\t\t\tnewData.deletable = true;\r\n\t\t\tdataCopy.metaData.entryTypes.push(newData);\r\n\t\t\tif(!dataCopy.metaData.categories.includes(newData.Category)) {\r\n\t\t\t\tdataCopy.metaData.categories.push(newData.Category);\r\n\t\t\t}\r\n\t\t\tawait this.props.saveData(dataCopy);\r\n\t\t\tthis.closeAddModal();\r\n\t\t\tthis.forceUpdate();\r\n\t\t}\r\n\t\telse {\r\n\t\t\treturn;\r\n\t\t}\r\n\t}\r\n\t\r\n\tdeleteData = async (index) => {\r\n\t\tvar approveDelete = window.confirm(\"Are you sure you want to delete this entry?\");\r\n\t\tif(approveDelete) {\r\n\t\t\tvar dataCopy = JSON.parse(JSON.stringify(this.props.data));\r\n\t\t\tdataCopy.metaData.entryTypes.splice(index, 1);\r\n\t\t\tawait this.props.saveData(dataCopy);\r\n\t\t\tthis.forceUpdate();\r\n\t\t}\r\n\t\telse {\r\n\t\t\treturn;\r\n\t\t}\r\n\t}\r\n\t\r\n\tdeleteCategory = async (category) => {\r\n\t\tvar approveDelete = window.confirm(\"All data linked to this category will be removed -- Are you sure you want to delete it? \");\r\n\t\tif(approveDelete) {\r\n\t\t\tvar dataCopy = JSON.parse(JSON.stringify(this.props.data));\r\n\t\t\tdataCopy.metaData.categories.splice(dataCopy.metaData.categories.indexOf(category), 1);\t\r\n\t\t\tvar newEntryTypes = [];\r\n\t\t\tvar newUserData = [];\r\n\t\t\tfor(var i = 0; i < dataCopy.metaData.entryTypes.length; i++) {\r\n\t\t\t\tvar entry = dataCopy.metaData.entryTypes[i];\r\n\t\t\t\tif(entry.Category !== category) {\r\n\t\t\t\t\tnewEntryTypes.push(entry);\r\n\t\t\t\t\t//dataCopy.metaData.entryTypes.splice(i, 1);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tfor(i = 0; i < dataCopy.userData.length; i++) {\r\n\t\t\t\tentry = dataCopy.userData[i];\r\n\t\t\t\tif(entry.Category !== category) {\r\n\t\t\t\t\tnewUserData.push(entry);\r\n\t\t\t\t\t//dataCopy.userData.splice(i, 1);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tdataCopy.metaData.entryTypes = newEntryTypes;\r\n\t\t\tdataCopy.userData = newUserData;\r\n\t\t\tawait this.props.saveData(dataCopy);\r\n\t\t\tthis.forceUpdate();\r\n\t\t}\r\n\t\telse {\r\n\t\t\treturn;\r\n\t\t}\r\n\t}\r\n\t\r\n\tshowAlert = (msg) => {\r\n\t\tthis.setState({showAlert: true, alertMessage: msg});\r\n\t}\r\n\t\r\n\thideAlert = () => {\r\n\t\tthis.setState({showAlert: false, alertMessage: \"\"});\r\n\t}\r\n\t\r\n\tremoveField = (index) => {\r\n\t\tvar copy = this.state.fields.slice();\r\n\t\tcopy.splice(index, 1);\r\n\t\tthis.setState({fields: copy});\r\n\t}\r\n\t\r\n\trender() {\r\n\t\tconst datePicker = <Form.Control\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\ttype = \"input\"\r\n\t\t\t\t\t\t\tvalue = {this.state.birthday}\r\n\t\t\t\t\t\t\tautoComplete = \"off\"\r\n\t\t\t\t\t\t\t/>\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t{this.state.showModal\r\n\t\t\t\t?\r\n\t\t\t\t\t<Modal show = {this.state.showModal} backdrop = \"static\" onHide = {this.closeAddModal.bind(this)} size = \"lg\">\r\n\t\t\t\t\t\t<Modal.Header closeButton>\r\n\t\t\t\t\t\t\t<Modal.Title>\r\n\t\t\t\t\t\t\t\tAdd Custom Training Data\r\n\t\t\t\t\t\t\t</Modal.Title>\r\n\t\t\t\t\t\t</Modal.Header>\r\n\t\t\t\t\t\t<Modal.Body>\r\n\t\t\t\t\t\t\t<h5> Category & Type </h5>\r\n\t\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t\t{Object.keys(this.state.addModalData).map((key) => {\r\n\t\t\t\t\t\t\t\tif(key === \"Category\") {\r\n\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Label> Category </Form.Label>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<InputGroup>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tas = \"input\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tautoComplete = \"off\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tname = {key}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue = {this.state.addModalData[key]}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange = {(e) => {this.onChangeAddModal(e)}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Dropdown show = {this.state.categoryMenuShow} as = {InputGroup.Prepend} onToggle = {this.onClickRootCloseCategory.bind(this)}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Dropdown.Toggle variant = \"outline-secondary\" eventKey = \"00\"> </Dropdown.Toggle>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Dropdown.Menu rootCloseEvent = \"click\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{this.props.data.metaData.categories.map((category) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Dropdown.Item onSelect = {this.onSelectDropdown.bind(this, key, category)} >\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{category}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Dropdown.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Dropdown.Menu>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Dropdown> \r\n\t\t\t\t\t\t\t\t\t\t\t\t</InputGroup> \r\n\t\t\t\t\t\t\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\telse if(key === \"Type\") {\r\n\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Form.Label> Type </Form.Label>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tas = \"input\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tautoComplete = \"off\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname = {key}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue = {this.state.addModalData[key]}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange = {(e) => {this.onChangeAddModal(e)}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<hr style = {{border: \"1px solid lightGray\"}} />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<h5> Fields  <Button variant = \"primary\" size = \"sm\" style = {{float: \"right\"}} onClick = {this.addField.bind(this)}> Add Field + </Button> </h5>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\telse if(this.state.fields.length !== 0) {\r\n\t\t\t\t\t\t\t\t\treturn this.state.fields.map((newField, index) => {\r\n\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Button variant = \"danger\" size = \"sm\" style = {{float:\"right\"}} onClick = {this.removeField.bind(this, index)}> X </Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Col sm = {6}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Label> Field Name </Form.Label>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tas = \"input\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tname = \"fieldName\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue = {newField.fieldName}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange = {(e) => {this.onChangeField(e, index)}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Col sm = {6}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Label> Data Type </Form.Label>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tas = \"select\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tname = \"dataType\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange = {(e) => {this.onChangeField(e, index)}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option selected disabled hidden> Select </option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option value = \"string\"> String </option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option value = \"number\"> Number </option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Form.Control>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t<Col sm = {6}>\r\n\t\t\t\t\t\t\t\t\t<Form.Label> Field Name </Form.Label>\r\n\t\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\t\tas = \"input\"\r\n\t\t\t\t\t\t\t\t\t\tname = \"Notes\"\r\n\t\t\t\t\t\t\t\t\t\tvalue = \"Notes\"\r\n\t\t\t\t\t\t\t\t\t\tdisabled = {true}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t<Col sm = {6}>\r\n\t\t\t\t\t\t\t\t\t<Form.Label> Data Type </Form.Label>\r\n\t\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\t\tas = \"select\"\r\n\t\t\t\t\t\t\t\t\t\tdisabled = {true}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<option value = \"string\"> String </option>\r\n\t\t\t\t\t\t\t\t\t</Form.Control>\r\n\t\t\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t</Modal.Body>\r\n\t\t\t\t\t\t{this.state.showAlert\r\n\t\t\t\t\t\t?\r\n\t\t\t\t\t\t<Modal.Footer>\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<Alert variant = \"danger\" onClose = {this.hideAlert.bind(this)} dismissible>\r\n\t\t\t\t\t\t\t\t\t<p> {this.state.alertMessage} </p>\r\n\t\t\t\t\t\t\t\t</Alert>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<Button variant = \"secondary\" onClick = {this.closeAddModal.bind(this)}> Close </Button>\r\n\t\t\t\t\t\t\t<Button variant = \"primary\" onClick = {this.onClickSave.bind(this)}> Save </Button>\r\n\t\t\t\t\t\t</Modal.Footer>\r\n\t\t\t\t\t\t:\r\n\t\t\t\t\t\t<Modal.Footer>\r\n\t\t\t\t\t\t\t<Button variant = \"secondary\" onClick = {this.closeAddModal.bind(this)}> Close </Button>\r\n\t\t\t\t\t\t\t<Button variant = \"primary\" onClick = {this.onClickSave.bind(this)}> Save </Button>\r\n\t\t\t\t\t\t</Modal.Footer>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t</Modal>\r\n\t\t\t\t: \r\n\t\t\t\t<div> </div>\r\n\t\t\t\t}\r\n\t\t\t\t{this.state.showEditModal\r\n\t\t\t\t?\r\n\t\t\t\t\t<Modal show = {this.state.showEditModal} backdrop = \"static\" onHide = {this.closeEditModal.bind(this)} size = \"lg\">\r\n\t\t\t\t\t\t<Modal.Header closeButton>\r\n\t\t\t\t\t\t\t<Modal.Title>\r\n\t\t\t\t\t\t\t\tEdit Custom Training Data\r\n\t\t\t\t\t\t\t</Modal.Title>\r\n\t\t\t\t\t\t</Modal.Header>\r\n\t\t\t\t\t\t<Modal.Body>\r\n\t\t\t\t\t\t\t<h5> Category & Type </h5>\r\n\t\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t\t{Object.keys(this.state.editModalData).map((key, index) => {\r\n\t\t\t\t\t\t\t\tif(key === \"Category\") {\r\n\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Label> Category </Form.Label>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tas = \"input\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tautoComplete = \"off\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname = {key}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue = {this.state.editModalData[key]}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange = {(e) => {this.onChangeEditModal(e)}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled = {true}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\telse if(key === \"Type\") {\r\n\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Form.Label> Type </Form.Label>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tas = \"input\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tautoComplete = \"off\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname = {key}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue = {this.state.editModalData[key]}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange = {(e) => {this.onChangeEditModal(e)}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<hr style = {{border: \"1px solid lightGray\"}} />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<h5> Fields  <Button variant = \"primary\" size = \"sm\" style = {{float: \"right\"}} onClick = {this.addField.bind(this)}> Add Field + </Button> </h5>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\telse if(this.state.fields.length !== 0) {\r\n\t\t\t\t\t\t\t\t\treturn this.state.fields.map((newField, index) => {\r\n\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Button variant = \"danger\" size = \"sm\" style = {{float:\"right\"}} onClick = {this.removeField.bind(this, index)}> X </Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Col sm = {6}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Label> Field Name </Form.Label>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tas = \"input\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tname = \"fieldName\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue = {newField.fieldName}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange = {(e) => {this.onChangeField(e, index)}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Col sm = {6}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{newField.fieldName.length === 0\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t?\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Label> Data Type </Form.Label>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tas = \"select\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname = \"dataType\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange = {(e) => {this.onChangeField(e, index)}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option selected disabled hidden> Select </option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option value = \"string\"> String </option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option value = \"number\"> Number </option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Form.Control>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t:\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Label> Data Type </Form.Label>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tas = \"select\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname = \"dataType\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange = {(e) => {this.onChangeField(e, index)}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option selected hidden> {newField.dataType.charAt(0).toUpperCase() + newField.dataType.slice(1)} </option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option value = \"string\"> String </option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option value = \"number\"> Number </option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Form.Control>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t<Col sm = {6}>\r\n\t\t\t\t\t\t\t\t\t<Form.Label> Field Name </Form.Label>\r\n\t\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\t\tas = \"input\"\r\n\t\t\t\t\t\t\t\t\t\tname = \"Notes\"\r\n\t\t\t\t\t\t\t\t\t\tvalue = \"Notes\"\r\n\t\t\t\t\t\t\t\t\t\tdisabled = {true}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t<Col sm = {6}>\r\n\t\t\t\t\t\t\t\t\t<Form.Label> Data Type </Form.Label>\r\n\t\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\t\tas = \"select\"\r\n\t\t\t\t\t\t\t\t\t\tdisabled = {true}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<option value = \"string\"> String </option>\r\n\t\t\t\t\t\t\t\t\t</Form.Control>\r\n\t\t\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t</Modal.Body>\r\n\t\t\t\t\t\t{this.state.showAlert\r\n\t\t\t\t\t\t?\r\n\t\t\t\t\t\t<Modal.Footer>\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<Alert variant = \"danger\" onClose = {this.hideAlert.bind(this)} dismissible>\r\n\t\t\t\t\t\t\t\t\t<p> {this.state.alertMessage} </p>\r\n\t\t\t\t\t\t\t\t</Alert>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<Button variant = \"secondary\" onClick = {this.closeEditModal.bind(this)}> Close </Button>\r\n\t\t\t\t\t\t\t<Button variant = \"primary\" onClick = {this.onClickSaveEdit.bind(this)}> Save </Button>\r\n\t\t\t\t\t\t</Modal.Footer>\r\n\t\t\t\t\t\t:\r\n\t\t\t\t\t\t<Modal.Footer>\r\n\t\t\t\t\t\t\t<Button variant = \"secondary\" onClick = {this.closeEditModal.bind(this)}> Close </Button>\r\n\t\t\t\t\t\t\t<Button variant = \"primary\" onClick = {this.onClickSaveEdit.bind(this)}> Save </Button>\r\n\t\t\t\t\t\t</Modal.Footer>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t</Modal>\r\n\t\t\t\t:\r\n\t\t\t\t<div> </div>\r\n\t\t\t\t}\r\n\t\t\t\t<Row>\r\n\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t<h1 style = {{margin: \"1%\"}}> Training Diary </h1>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t\t<Col style = {{textAlign: \"right\"}}>\r\n\t\t\t\t\t\t<Button variant = \"success\" href = \"/\" style = {{margin: \"1%\"}}> Back to Home </Button>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t</Row>\r\n\t\t\t\t<Container>\r\n\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t<h3 style = {{margin: \"1%\"}}> Profile </h3>\r\n\t\t\t\t\t</Row>\r\n\t\t\t\t</Container>\r\n\t\t\t\t<Container style = {{border: \"1px solid lightGray\"}}>\r\n\t\t\t\t\t<Tabs variant = \"pills\" defaultActiveKey = \"editProfile\" onSelect = {this.resetFields.bind(this)}>\r\n\t\t\t\t\t\t<Tab eventKey = \"editProfile\" title = \"Edit Profile \">\r\n\t\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t\t<Form noValidate validated = {this.state.validated} onSubmit = {this.handleInfoSubmit}>\r\n\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t<Form.Label> Username </Form.Label>\r\n\t\t\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\t\t\t\ttype = \"input\"\r\n\t\t\t\t\t\t\t\t\t\t\tname = \"username\"\r\n\t\t\t\t\t\t\t\t\t\t\tvalue = {this.state.username}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange = {(e) => {this.onChangeAccountInfo(e)}}\r\n\t\t\t\t\t\t\t\t\t\t\tautoComplete = \"off\"\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t<Form.Label> Email </Form.Label>\r\n\t\t\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\t\t\t\ttype = \"input\"\r\n\t\t\t\t\t\t\t\t\t\t\tname = \"email\"\r\n\t\t\t\t\t\t\t\t\t\t\tvalue = {this.state.email}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange = {(e) => {this.onChangeAccountInfo(e)}}\r\n\t\t\t\t\t\t\t\t\t\t\tautoComplete = \"off\"\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t<Form.Label> Birthday </Form.Label>\r\n\t\t\t\t\t\t\t\t\t\t<DatePicker\r\n\t\t\t\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\t\t\t\tselected = {this.state.birthday}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange = {this.onSelectBirthday}\r\n\t\t\t\t\t\t\t\t\t\t\tminDate = {subYears(new Date(), 120)}\r\n\t\t\t\t\t\t\t\t\t\t\tmaxDate = {subDays(new Date(), 0)}\r\n\t\t\t\t\t\t\t\t\t\t\tshowYearDropdown\r\n\t\t\t\t\t\t\t\t\t\t\tscrollableYearDropdown\r\n\t\t\t\t\t\t\t\t\t\t\tshowMonthDropdown\r\n\t\t\t\t\t\t\t\t\t\t\tdropdownMode=\"select\"\r\n\t\t\t\t\t\t\t\t\t\t\tplaceholderText = \"Birthday\"\r\n\t\t\t\t\t\t\t\t\t\t\tcustomInput = {datePicker}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t{this.props.saving\r\n\t\t\t\t\t\t\t\t\t?\r\n\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t<Spinner animation = \"border\" variant = \"primary\" />\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t:\r\n\t\t\t\t\t\t\t\t\t<div> </div>\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t<Button type = \"submit\" style = {{float: \"right\"}}> Save </Button>\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t\t</Form>\r\n\t\t\t\t\t\t</Tab>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<Tab eventKey = \"changePassword\" title = \"Change Password \">\r\n\t\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t\t<Form noValidate validated = {this.state.validated} onSubmit = {this.handlePasswordSubmit}>\r\n\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t<Form.Label> Old Password </Form.Label> \r\n\t\t\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\t\t\trequired \r\n\t\t\t\t\t\t\t\t\t\t\ttype = \"password\"\r\n\t\t\t\t\t\t\t\t\t\t\tname = \"oldPassword\"\r\n\t\t\t\t\t\t\t\t\t\t\tvalue = {this.state.oldPassword}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange = {(e) => {this.onChangeAccountInfo(e)}}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t<br/> \r\n\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t<Form.Label> New Password </Form.Label> \r\n\t\t\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\t\t\trequired \r\n\t\t\t\t\t\t\t\t\t\t\ttype = \"password\"\r\n\t\t\t\t\t\t\t\t\t\t\tname = \"newPassword\"\r\n\t\t\t\t\t\t\t\t\t\t\tvalue = {this.state.newPassword}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange = {(e) => {this.onChangeAccountInfo(e)}}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t<br/> \t\r\n\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t<Form.Label> Confirm New Password </Form.Label> \r\n\t\t\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\t\t\trequired \r\n\t\t\t\t\t\t\t\t\t\t\ttype = \"password\"\r\n\t\t\t\t\t\t\t\t\t\t\tname = \"confirmNewPassword\"\r\n\t\t\t\t\t\t\t\t\t\t\tvalue = {this.state.confirmNewPassword}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange = {(e) => {this.onChangeAccountInfo(e)}}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t{this.props.saving\r\n\t\t\t\t\t\t\t\t\t?\r\n\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t<Spinner animation = \"border\" variant = \"primary\" />\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t:\r\n\t\t\t\t\t\t\t\t\t<div> </div>\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t<Button type = \"submit\" style = {{float: \"right\"}}> Save </Button>\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t\t</Form>\r\n\t\t\t\t\t\t</Tab>\r\n\t\t\t\t\t\t<Tab eventKey = \"accountStats\" title = \"Account Stats \">\r\n\t\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t<Card>\r\n\t\t\t\t\t\t\t\t\t\t<Card.Body>\r\n\t\t\t\t\t\t\t\t\t\t\t<Card.Title>\r\n\t\t\t\t\t\t\t\t\t\t\t\tGoal Statistics \r\n\t\t\t\t\t\t\t\t\t\t\t\t<hr style = {{border: \"1px solid lightGray\"}} />\r\n\t\t\t\t\t\t\t\t\t\t\t</Card.Title>\r\n\t\t\t\t\t\t\t\t\t\t\t<Card.Text>\r\n\t\t\t\t\t\t\t\t\t\t\t{this.props.data.metaData.categories.map((category) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\tvar numGoals = 0;\r\n\t\t\t\t\t\t\t\t\t\t\t\tthis.props.data.goals.map((goal) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tif(goal[\"Goal Type\"] === category) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tnumGoals++;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<li> Number of {category} Goals: {numGoals} </li>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t\t\t</Card.Text>\r\n\t\t\t\t\t\t\t\t\t\t</Card.Body>\r\n\t\t\t\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t<Card>\r\n\t\t\t\t\t\t\t\t\t\t<Card.Body>\r\n\t\t\t\t\t\t\t\t\t\t\t<Card.Title>\r\n\t\t\t\t\t\t\t\t\t\t\t\tTraining Statistics \r\n\t\t\t\t\t\t\t\t\t\t\t\t<hr style = {{border: \"1px solid lightGray\"}} />\r\n\t\t\t\t\t\t\t\t\t\t\t</Card.Title>\r\n\t\t\t\t\t\t\t\t\t\t\t<Card.Text>\r\n\t\t\t\t\t\t\t\t\t\t\t{this.props.data.metaData.categories.map((category) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\tvar numEntries = 0;\r\n\t\t\t\t\t\t\t\t\t\t\t\tthis.props.data.userData.map((entry) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tif(entry.Category === category) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tnumEntries++;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<li> Number of {category} Entries: {numEntries} </li>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t\t\t</Card.Text>\r\n\t\t\t\t\t\t\t\t\t\t</Card.Body>\r\n\t\t\t\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t</Tab>\r\n\t\t\t\t\t\t<Tab eventKey = \"customize\" title = \"Customize Data \">\r\n\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t<h3>\r\n\t\t\t\t\t\t\t\t\tTraining Data Options\r\n\t\t\t\t\t\t\t\t\t<Button variant = \"primary\" style = {{float: \"right\"}} onClick = {this.openAddModal.bind(this)}> + </Button>\r\n\t\t\t\t\t\t\t\t</h3>\r\n\t\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t\tCustomize your data by editing, deleting, and adding to the options below.\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t{this.props.data.metaData.categories.map((category) => {\r\n\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t<Col sm = {12}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Card>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Card.Body>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Card.Title>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{category !== \"Diet\" && category !== \"Body\" && category !== \"Exercise\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t?\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{category}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button size = \"sm\" variant = \"light\" style = {{margin: \"1%\"}} onClick = {this.deleteCategory.bind(this, category)}>  </Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t:\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{category}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Card.Title>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Card.Text>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{this.props.data.metaData.entryTypes.map((entry, entryIndex) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif(entry.Category === category) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif(entry.deletable) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Col sm = {4}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Card style = {{height: \"100%\"}}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Card.Title>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button size = \"sm\" variant = \"light\" style = {{float: \"right\"}} onClick = {this.deleteData.bind(this, entryIndex)}>  </Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button size = \"sm\" variant = \"light\" style = {{float: \"right\"}} onClick = {this.openEditModal.bind(this, entryIndex)}>  </Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Card.Title>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Card.Body>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Card.Text> \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ListGroup horizontal>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ListGroup.Item style = {{width: \"100%\"}}> <strong> Category </strong> : {entry.Category} </ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</ListGroup>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ListGroup horizontal>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ListGroup.Item style = {{width: \"100%\"}}> <strong> Type </strong> : {entry.Type} </ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</ListGroup>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ListGroup horizontal>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ListGroup.Item style = {{width: \"100%\"}}> \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<strong> Fields </strong>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{entry.displayOrder.map((key) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif(key !== \"Category\" && key !== \"Type\") {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<li> {key} </li>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</ListGroup>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Card.Text>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Card.Body>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Col sm = {4} style = {{marginBottom: \"3%\"}}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Card style = {{height: \"100%\"}}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Card.Body>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Card.Text> \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ListGroup horizontal>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ListGroup.Item style = {{width: \"100%\"}}> <strong> Category </strong> : {entry.Category} </ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</ListGroup>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ListGroup horizontal>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ListGroup.Item style = {{width: \"100%\"}}> <strong> Type </strong> : {entry.Type} </ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</ListGroup>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ListGroup horizontal>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ListGroup.Item style = {{width: \"100%\"}}> \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<strong> Fields </strong>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{entry.displayOrder.map((key) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif(key !== \"Category\" && key !== \"Type\") {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<li> {key} </li>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</ListGroup>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Card.Text>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Card.Body>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Card.Text>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Card.Body>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t</Tab>\r\n\t\t\t\t\t</Tabs>\r\n\t\t\t\t</Container>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport default Profile;","import React, { Component } from 'react';\r\nimport Container from 'react-bootstrap/Container';\r\nimport Row from 'react-bootstrap/Row';\r\nimport Col from 'react-bootstrap/Col';\r\nimport Button from 'react-bootstrap/Button';\r\nimport Card from 'react-bootstrap/Card';\r\nimport ListGroup from 'react-bootstrap/ListGroup';\r\nimport Tabs from 'react-bootstrap/Tabs';\r\nimport TabContent from 'react-bootstrap/TabContent';\r\nimport Tab from 'react-bootstrap/Tab';\r\nimport Nav from 'react-bootstrap/Nav';\r\nimport Form from 'react-bootstrap/Form';\r\nimport Spinner from 'react-bootstrap/Spinner';\r\n\r\n\r\nclass ForgotCredentials extends Component {\r\n\t\r\n\tstate = {\r\n\t\tvalidated: false,\r\n\t\tpasswordValidated: false,\r\n\t\temail: \"\",\r\n\t\tusername: \"\",\r\n\t\ttempPassword: \"\",\r\n\t\tnewPassword: \"\",\r\n\t\tconfirmPassword: \"\",\r\n\t\tsaving: false\r\n\t}\r\n\t\r\n\thandleEmailSubmit = async (e) => {\r\n\t\tconst form = e.currentTarget;\r\n\t\tif(form.checkValidity() === false) {\r\n\t\t\te.preventDefault();\r\n\t\t\te.stopPropagation();\r\n\t\t}\r\n\t\tthis.setState({validated: true});\r\n\t\te.preventDefault();\r\n\t\tif(this.state.email.toString().trim().length === 0) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tawait this.props.toggleSaving();\r\n\t\tvar requestBody = {email: this.state.email.trim()}\r\n\t\tawait this.props.getTempCredentials(requestBody, this.state.email);\r\n\t\tthis.forceUpdate();\r\n\t\tthis.setState({validated: false});\r\n\t}\r\n\t\r\n\thandleTempSubmit = async (e) => {\r\n\t\tconst form = e.currentTarget;\r\n\t\tif(form.checkValidity() === false) {\r\n\t\t\te.preventDefault();\r\n\t\t\te.stopPropagation();\r\n\t\t}\r\n\t\tthis.setState({validated: true});\r\n\t\te.preventDefault();\r\n\t\tif(this.state.username.toString().trim().length === 0 || this.state.tempPassword.length === 0) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tthis.props.toggleSaving();\r\n\t\tvar requestBody = {username: this.state.username.trim(), tempPassword: this.state.tempPassword};\r\n\t\tawait this.props.validateTempCredentials(requestBody);\r\n\t\tthis.forceUpdate();\r\n\t\tthis.setState({validated: false});\r\n\t}\r\n\t\r\n\thandleNewPasswordSubmit = async (e) => {\r\n\t\tconst form = e.currentTarget;\r\n\t\tif(form.checkValidity() === false) {\r\n\t\t\te.preventDefault();\r\n\t\t\te.stopPropagation();\r\n\t\t}\r\n\t\tthis.setState({passwordValidated: true});\r\n\t\te.preventDefault();\r\n\t\tif(this.state.newPassword.length === 0 || this.state.confirmPassword.length === 0) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif(this.state.newPassword !== this.state.confirmPassword) {\r\n\t\t\talert(\"Passwords don't match\");\r\n\t\t\tthis.setState({passwordValidated: false});\r\n\t\t}\r\n\t\tvar requestBody = {password: this.state.newPassword};\r\n\t\tif(this.props.username.toString().length !== 0 && this.props.username !== undefined && this.props.token !== null && this.props.token !== undefined) {\r\n\t\t\tthis.props.toggleSaving();\r\n\t\t\tawait this.props.recoverPassword(this.props.username, this.props.token, requestBody);\r\n\t\t\tthis.setState({validated: false});\r\n\t\t}\r\n\t}\r\n\t\r\n\tonChangeField = (e) => {\r\n\t\tvar name = [e.target.name][0];\r\n\t\tvar value = e.target.value;\r\n\t\tthis.setState({[name]: value});\r\n\t}\r\n\t\r\n\t\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<Row>\r\n\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t<h1 style = {{margin: \"1%\"}}> Training Diary </h1>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t\t<Col style = {{textAlign: \"right\"}}>\r\n\t\t\t\t\t\t<Button variant = \"success\" href = \"/\" style = {{margin: \"1%\"}}> Back to Home </Button>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t</Row>\r\n\t\t\t\t<Container>\r\n\t\t\t\t\t<br/>\r\n\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t{this.props.recoveryDisabled\r\n\t\t\t\t\t\t?\r\n\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t<Card style = {{marginTop: \"5%\"}}>\r\n\t\t\t\t\t\t\t\t\t<Card.Header as = \"h4\"> Enter a New Password </Card.Header>\r\n\t\t\t\t\t\t\t\t\t<Card.Body>\r\n\t\t\t\t\t\t\t\t\t\t<Card.Text>\r\n\t\t\t\t\t\t\t\t\t\t\t<Form noValidate validated = {this.state.passwordValidated} onSubmit = {this.handleNewPasswordSubmit}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Form.Label> New Password </Form.Label>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype = \"password\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname = \"newPassword\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue = {this.state.newPassword}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange = {(e) => {this.onChangeField(e)}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tautoComplete = \"off\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Form.Label> Confirm New Password </Form.Label>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype = \"password\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname = \"confirmPassword\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue = {this.state.confirmPassword}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange = {(e) => {this.onChangeField(e)}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tautoComplete = \"off\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Row  style = {{textAlign: \"left\"}}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button type = \"submit\"> Submit </Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{this.props.saving \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t?\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Spinner animation = \"border\" variant = \"primary\" />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div> </div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t\t\t\t</Form>\t\t\r\n\t\t\t\t\t\t\t\t\t\t</Card.Text>\r\n\t\t\t\t\t\t\t\t\t</Card.Body>\r\n\t\t\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t:\r\n\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t<Card>\r\n\t\t\t\t\t\t\t\t<Card.Header as = \"h4\"> Recover Credentials </Card.Header>\r\n\t\t\t\t\t\t\t\t<Card.Body>\r\n\t\t\t\t\t\t\t\t\t{this.props.tempSuccess\r\n\t\t\t\t\t\t\t\t\t?\r\n\t\t\t\t\t\t\t\t\t\t<Card.Title>\r\n\t\t\t\t\t\t\t\t\t\t\tEmail sent! \r\n\t\t\t\t\t\t\t\t\t\t</Card.Title>\r\n\t\t\t\t\t\t\t\t\t:\r\n\t\t\t\t\t\t\t\t\t\t<Card.Title>\r\n\t\t\t\t\t\t\t\t\t\t\tEnter your email \r\n\t\t\t\t\t\t\t\t\t\t</Card.Title>\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t<Card.Text>\r\n\t\t\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t\t\t{this.props.tempSuccess\r\n\t\t\t\t\t\t\t\t\t\t\t?\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tEnter the <u>username</u> and <u>temporary password</u> sent to <strong> {this.props.email} </strong>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t:\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tWe'll send your username and a temporary password.\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t\t\t{this.props.tempSuccess\r\n\t\t\t\t\t\t\t\t\t\t\t?\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Form noValidate validated = {this.state.validated} onSubmit = {this.handleTempSubmit}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Label> Username </Form.Label>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype = \"input\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname = \"username\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue = {this.state.username}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange = {(e) => {this.onChangeField(e)}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tautoComplete = \"off\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled = {this.props.recoveryDisabled}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Label> Temporary Password (expires in 5 min.) </Form.Label>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype = \"password\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname = \"tempPassword\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue = {this.state.tempPassword}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange = {(e) => {this.onChangeField(e)}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tautoComplete = \"off\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled = {this.props.recoveryDisabled}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Row  style = {{textAlign: \"left\"}}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button type = \"submit\" disabled = {this.props.recoveryDisabled}> Submit </Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{this.props.saving \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t?\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Spinner animation = \"border\" variant = \"primary\" />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div> </div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Form>\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t:\r\n\t\t\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Form noValidate validated = {this.state.validated} onSubmit = {this.handleEmailSubmit}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Label> Email </Form.Label>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype = \"input\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tname = \"email\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue = {this.state.email}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange = {(e) => {this.onChangeField(e)}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tautoComplete = \"off\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Row  style = {{textAlign: \"left\"}}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button type = \"submit\" disabled = {this.props.recoveryDisabled}> Submit </Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{this.props.saving \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t?\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Spinner animation = \"border\" variant = \"primary\" />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div> </div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Form>\r\n\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t\t</Card.Text>\r\n\t\t\t\t\t\t\t\t</Card.Body>\r\n\t\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t</Row>\r\n\t\t\t\t</Container>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default ForgotCredentials;\r\n","import 'bootstrap/dist/css/bootstrap.min.css';\r\nimport React, { Component } from 'react';\r\nimport axios from 'axios';\r\nimport Button from 'react-bootstrap/Button';\r\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\r\nimport Loader from 'react-loader-spinner';\r\nimport Login from './login-components/Login.js';\r\nimport TrainingDiary from './td-components/TrainingDiary.js';\r\nimport Profile from './pages/Profile.js';\r\nimport ForgotCredentials from './pages/ForgotCredentials.js';\r\nimport { BrowserRouter as Router, Route, Switch } from 'react-router-dom';\r\n\r\nclass App extends Component {\r\n\tstate = {\r\n\t\tdata: null, //user data from database\r\n\t\tusername: \"\", //username\r\n\t\ttoken: null, //api token \r\n\t\twaitingForPage: false, //flag to render loader while page is initially loading\r\n\t\tisLoggedIn: false, //flag determining if user is logged in \r\n\t\tonLogin: true, //flag determining if user is on the login page \r\n\t\tonRegistration: false, //flag determining if user is on registration page ,\r\n\t\taddModalShow: false,\r\n\t\teditModalShow: false,\r\n\t\tisSaving: false,\r\n\t\tdataToEdit: null,\r\n\t\tauthLoading: false,\r\n\t\tdisabled: false,\r\n\t\ttempSuccess: false,\r\n\t\trecoveryEmail: \"\",\r\n\t\trecoveryDisabled: false,\r\n\t\tprofileAndCredSaving: false\r\n\t\t\r\n\t}\r\n\t\r\n\t/* COMPONENT MOUNT + UPDATE METHODS */\r\n\t\r\n\tcomponentDidMount = () => {\r\n\t\tthis.setState({waitingForPage: true});\r\n\t\tconst token = localStorage.getItem(\"token\");\r\n\t\tconst username = localStorage.getItem(\"username\");\r\n\t\taxios.post(`/verifyLogin/${username}`, {}, {headers: {\"token\": token}})\r\n\t\t\t.catch(function(error) {\r\n\t\t\t\treturn;\r\n\t\t\t})\r\n\t\t\t.then(res => this.handleVerificationResponse(res, username));\r\n\t}\r\n\t\r\n\t/* GENERAL COMPONENT METHODS */ \r\n\t\r\n\ttoggleSaveBar = () => {\r\n\t\tthis.setState({isSaving: !this.state.isSaving});\r\n\t}\r\n\t\r\n\t/* MODAL METHODS */\r\n\t\r\n\ttoggleAddModal = () => {\r\n\t\tthis.setState({addModalShow: !this.state.addModalShow});\r\n\t}\r\n\t\r\n\ttoggleEditModal = (dataToEdit) => {\r\n\t\tthis.setState({editModalShow: !this.state.editModalShow, dataToEdit: dataToEdit});\r\n\t}\r\n\t\r\n\ttoggleProfAndCredLoader = () => {\r\n\t\tthis.setState({profileAndCredSaving: !this.state.profileAndCredSaving});\r\n\t}\r\n\t\r\n\t\r\n\t/* SERVER API METHODS */ \r\n\t\r\n\thandleGetResponse = (response, username) => {\r\n\t\ttry {\r\n\t\t\tvar status = Number(response.status);\r\n\t\t\tif(status === 200) {\r\n\t\t\t\tthis.toggleAuthLoader();\r\n\t\t\t\tthis.setState({token: response.headers.token, username: username, data: response.data, isLoggedIn: true, waitingForPage: false});\r\n\t\t\t\tlocalStorage.setItem(\"username\", username);\r\n\t\t\t\tlocalStorage.setItem(\"token\", response.headers.token);\r\n\t\t\t}\r\n\t\t}\r\n\t\tcatch(error) {\r\n\t\t\t//this.logout();\r\n\t\t}\r\n\t}\r\n\t\r\n\t//handles the response from server that verifies if user is still logged in\r\n\t//if successful, sends a request to get all user data\r\n\thandleVerificationResponse = (response, username) => {\r\n\t\tvar that = this;\r\n\t\ttry {\r\n\t\t\tif(localStorage.getItem(\"token\") === null || localStorage.getItem(\"username\") === null) {\r\n\t\t\t\tthis.setState({isLoggedIn: false, waitingForPage: false});\r\n\t\t\t\tlocalStorage.clear();  \r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tvar status = Number(response.status);\r\n\t\t\t\tif(status === 200) {\r\n\t\t\t\t\tlocalStorage.setItem(\"username\", username);\r\n\t\t\t\t\tlocalStorage.setItem(\"token\", response.headers.token);\r\n\t\t\t\t\taxios.get(`/getAllData/${username}`, {headers: {\"token\": response.headers.token}})\r\n\t\t\t\t\t\t.catch(function(error) {\r\n\t\t\t\t\t\t\talert(\"Internal Error -- could not get data -- redirecting to login page\");\r\n\t\t\t\t\t\t\tthat.logout();\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.then(res => this.handleGetResponse(res, username));\r\n\t\t\t\t}\r\n\t\t\t\telse if(status === 204) {\r\n\t\t\t\t\talert(\"Session expired. Logging you out\");\r\n\t\t\t\t\tthis.logout();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tcatch(error) {\r\n\t\t\tthis.logout();\r\n\t\t\treturn;\r\n\t\t}\r\n\t}\r\n\r\n\t//saves data by calling post api \r\n\tsaveData = (newData) => {\r\n\t\tconst username = this.state.data._id;\r\n\t\taxios.post(`/postData/${username}`, newData, {headers: {\"token\": this.state.token}})\r\n\t\t\t.catch(function(error) {\r\n\t\t\t\talert(\"Internal Error -- could not save data -- redirecting to login page\");\r\n\t\t\t})\r\n\t\t\t.then(res => this.handlePostResponse(res, newData));\r\n\t}\r\n\t\r\n\t//handles response from post request \r\n\thandlePostResponse = (response, newData) => {\r\n\t\ttry {\r\n\t\t\tvar status = Number(response.status);\r\n\t\t\tif(status === 200) {\r\n\t\t\t\tlocalStorage.setItem(\"token\", response.headers.token);\r\n\t\t\t\tthis.setState({token: response.headers.token});\r\n\t\t\t\tthis.setState({data: newData});\r\n\t\t\t}\r\n\t\t}\r\n\t\tcatch(error) {\r\n\t\t\tthis.logout();\r\n\t\t}\r\n\t}\r\n\t\r\n\t/* AUTH METHODS */ \r\n\t\r\n\tchangeUsernameAndEmail = (reqBody, newData, token, prevUsername) => {\r\n\t\tvar that = this;\r\n\t\taxios.post(`/postAccountInfo/${prevUsername}`, reqBody, {headers: {\"token\": token}})\r\n\t\t\t.catch(function(error) {\r\n\t\t\t\tif(error.response.status === 409) {\r\n\t\t\t\t\talert(\"Username or email already exists. Please choose another one\");\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\telse if(error.response.status === 401) {\r\n\t\t\t\t\talert(\"Session expired. Logging you out \");\r\n\t\t\t\t\tthat.logout();\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\talert(\"Internal Error -- could not update username & email\");\r\n\t\t\t})\r\n\t\t\t.then(res => this.handleChangeInfoResponse(res, newData));\r\n\t}\r\n\t\r\n\thandleChangeInfoResponse = (response, newData) => {\r\n\t\ttry {\r\n\t\t\tvar status = Number(response.status);\r\n\t\t\tif(status === 200) {\r\n\t\t\t\talert(\"Changed successfully\");\r\n\t\t\t\tthis.toggleProfAndCredLoader();\r\n\t\t\t\tlocalStorage.setItem(\"token\", response.headers.token);\r\n\t\t\t\tlocalStorage.setItem(\"username\", newData._id);\r\n\t\t\t\tthis.setState({token: response.headers.token});\r\n\t\t\t\tthis.setState({data: newData});\r\n\t\t\t}\r\n\t\t}\r\n\t\tcatch(error) {\r\n\t\t\tthis.toggleProfAndCredLoader();\r\n\t\t\treturn;\r\n\t\t}\r\n\t}\r\n\t\r\n\tchangePassword = (reqBody, newData, token) => {\r\n\t\tvar that = this;\r\n\t\tvar username = newData._id;\r\n\t\taxios.post(`/postCredentials/${username}`, reqBody, {headers: {\"token\": token}})\r\n\t\t\t.catch(function(error) {\r\n\t\t\t\tif(error.response.status === 409) {\r\n\t\t\t\t\talert(\"Old password is invalid\");\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\telse if(error.response.status === 401) {\r\n\t\t\t\t\talert(\"Session expired. Logging you out\");\r\n\t\t\t\t\tthat.logout();\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\talert(\"Internal Error -- could not change password\");\r\n\t\t\t})\r\n\t\t\t.then(res => this.handleChangePasswordResponse(res, newData));\r\n\t}\r\n\t\r\n\thandleChangePasswordResponse = (response, newData) => {\r\n\t\ttry {\r\n\t\t\tvar status = Number(response.status);\r\n\t\t\tif(status === 200) {\r\n\t\t\t\talert(\"Changed successfully\");\r\n\t\t\t\tthis.toggleProfAndCredLoader();\r\n\t\t\t\tlocalStorage.setItem(\"token\", response.headers.token);\r\n\t\t\t\tthis.setState({token: response.headers.token});\r\n\t\t\t\tthis.setState({data: newData});\r\n\t\t\t}\r\n\t\t}\r\n\t\tcatch(error) {\r\n\t\t\tthis.toggleProfAndCredLoader();\r\n\t\t\treturn;\r\n\t\t}\r\n\t}\r\n\t\r\n\tgetTempCredentials = (reqBody, email) => {\r\n\t\tvar that = this;\r\n\t\taxios.post(\"/getTempPassword\", reqBody)\r\n\t\t\t.catch(function(error) {\r\n\t\t\t\tif(error.response.status === 401) {\r\n\t\t\t\t\talert(\"The email you gave is not linked to any user\");\t\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\talert(\"Internal error -- could not get temporary credentials\");\r\n\t\t\t})\r\n\t\t\t.then(res => this.handleTempResponse(res, email));\r\n\t}\r\n\t\r\n\thandleTempResponse = (response, email) => {\r\n\t\ttry {\r\n\t\t\tvar status = Number(response.status);\r\n\t\t\tif(status === 200) {\r\n\t\t\t\tthis.toggleProfAndCredLoader();\r\n\t\t\t\tthis.setState({tempSuccess: true, recoveryEmail: email});\r\n\t\t\t}\r\n\t\t}\r\n\t\tcatch(error) {\r\n\t\t\tthis.toggleProfAndCredLoader();\r\n\t\t\treturn;\r\n\t\t}\r\n\t}\r\n\t\r\n\tvalidateTempCredentials = (reqBody) => {\r\n\t\tvar that = this;\r\n\t\taxios.post(\"/postTempPassword\", reqBody)\r\n\t\t\t.catch(function(error) {\r\n\t\t\t\tif(error.response.status === 401) {\r\n\t\t\t\t\talert(\"The username or temporary password you entered is invalid or expired\");\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\talert(\"Internal error -- could not process temporary credentials\");\r\n\t\t\t})\r\n\t\t\t.then(res => this.handleValidateTempResponse(res, reqBody.username));\r\n\t}\r\n\t\r\n\thandleValidateTempResponse = (response, username) => {\r\n\t\ttry {\r\n\t\t\tvar status = Number(response.status);\r\n\t\t\tif(status === 200) {\r\n\t\t\t\tthis.toggleProfAndCredLoader();\r\n\t\t\t\tthis.setState({recoveryDisabled: true, token: response.headers.token, username: username});\r\n\t\t\t}\r\n\t\t}\r\n\t\tcatch(error) {\r\n\t\t\tthis.toggleProfAndCredLoader();\r\n\t\t\treturn;\r\n\t\t}\r\n\t}\r\n\t\r\n\trecoverPassword = (username, token, reqBody) => {\r\n\t\tvar that = this;\r\n\t\taxios.post(`/postRecoveryPassword/${username}`, reqBody, {headers: {\"token\": token}})\r\n\t\t\t.catch(function(error) {\r\n\t\t\t\tif(error.response.status === 401) {\r\n\t\t\t\t\talert(\"Sorry -- You are unauthorized to perform this action\");\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\talert(\"Internal error -- could not change your password\");\r\n\t\t\t})\r\n\t\t\t.then(res => this.handleRecoveryResponse(res));\r\n\t}\r\n\t\r\n\thandleRecoveryResponse = (response) => {\r\n\t\ttry {\r\n\t\t\tvar status = Number(response.status);\r\n\t\t\tif(status === 200) {\r\n\t\t\t\talert(\"Password changed successfully. Redirecting to login page\");\r\n\t\t\t\tthis.toggleProfAndCredLoader();\r\n\t\t\t\tthis.setState({onLogin: true});\r\n\t\t\t\twindow.location.pathname = \"/\";\r\n\t\t\t}\r\n\t\t}\r\n\t\tcatch(error) {\r\n\t\t\tthis.toggleProfAndCredLoader();\r\n\t\t\treturn;\r\n\t\t}\r\n\t}\r\n\t\r\n\t\r\n\t\r\n\t//method passed in as props to Login.js\r\n\t//grants access to apis by setting App.js state and redirecting to TrainingDiary.js\r\n\t//only occurs if login was successful\r\n\tgrantAccess = (username, token) => {\r\n\t\tvar that = this;\r\n\t\taxios.get(`/getAllData/${username}`, {headers: {\"token\": token}})\r\n\t\t\t.catch(function(error) {\r\n\t\t\t\tif(error.response.status === 500) {\r\n\t\t\t\t\talert(\"Internal Error -- could not get data -- redirecting to login page\");\r\n\t\t\t\t\tthat.logout();\r\n\t\t\t\t}\r\n\t\t\t\telse if(error.response.status === 401) {\r\n\t\t\t\t\talert(\"Session expired, logging you out\");\r\n\t\t\t\t\tthat.logout();\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then(res => this.handleGetResponse(res, username));\r\n\t}\r\n\t\r\n\t//method passed in as props to Register.js\r\n\t//redirects to Login.js by setting App.js state \r\n\ttoLogin = () => {\r\n\t\tthis.setState({onLogin:true});\r\n\t}\r\n\t\r\n\t//method passed in as props to TrainingDiary.js\r\n\t//logs the user out, clears localStorage, and resets to original state\r\n\tlogout = async () => {\r\n\t\tawait localStorage.clear();\r\n\t\twindow.location.pathname = \"/\";\r\n\t}\r\n\t\r\n\ttoggleAuthLoader = () => {\r\n\t\tthis.setState({authLoading: !this.state.authLoading, disabled: !this.state.disabled});\r\n\t}\r\n\t\r\n\trender() {\r\n\t\tif(this.state.waitingForPage) {\r\n\t\t\treturn (\r\n\t\t\t\t<div style = {{textAlign: \"center\", marginTop: \"5%\"}}>\r\n\t\t\t\t\t<Loader type=\"TailSpin\" \r\n\t\t\t\t\t\tcolor=\"#00BFFF\" \r\n\t\t\t\t\t\theight={80} \r\n\t\t\t\t\t\twidth={80} \r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\t\t}\r\n\t\telse if(this.state.isLoggedIn) {\r\n\t\t\treturn (\r\n\t\t\t\t<Router>\r\n\t\t\t\t\t<Switch>\r\n\t\t\t\t\t\t<Route exact path = \"/\">\r\n\t\t\t\t\t\t\t<TrainingDiary \r\n\t\t\t\t\t\t\t\tdata = {this.state.data}\r\n\t\t\t\t\t\t\t\tlogout = {this.logout}\r\n\t\t\t\t\t\t\t\tsaveData = {this.saveData}\r\n\t\t\t\t\t\t\t\taddModalShow = {this.state.addModalShow}\r\n\t\t\t\t\t\t\t\teditModalShow = {this.state.editModalShow}\r\n\t\t\t\t\t\t\t\tisSaving = {this.state.isSaving}\r\n\t\t\t\t\t\t\t\ttoggleAddModal = {this.toggleAddModal}\r\n\t\t\t\t\t\t\t\ttoggleEditModal = {this.toggleEditModal}\r\n\t\t\t\t\t\t\t\ttoggleSaveBar = {this.toggleSaveBar}\r\n\t\t\t\t\t\t\t\tdataToEdit = {this.state.dataToEdit}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Route>\r\n\t\t\t\t\t\t<Route exact path = \"/profile\">\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<Profile \r\n\t\t\t\t\t\t\t\t\tdata = {this.state.data} \r\n\t\t\t\t\t\t\t\t\ttoken = {this.state.token} \r\n\t\t\t\t\t\t\t\t\tchangeUsernameAndEmail = {this.changeUsernameAndEmail}\r\n\t\t\t\t\t\t\t\t\tchangePassword = {this.changePassword}\r\n\t\t\t\t\t\t\t\t\tsaving = {this.state.profileAndCredSaving}\r\n\t\t\t\t\t\t\t\t\ttoggleSaving = {this.toggleProfAndCredLoader}\r\n\t\t\t\t\t\t\t\t\tsaveData = {this.saveData}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</Route>\r\n\t\t\t\t\t\t<Route>\r\n\t\t\t\t\t\t\t<div style = {{textAlign: \"center\"}}>\r\n\t\t\t\t\t\t\t\t<h1> This page does not exist :( </h1>\r\n\t\t\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t\t\t<Button href = \"/\"> Back to main page  </Button> \r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</Route>\r\n\t\t\t\t\t</Switch>\r\n\t\t\t\t</Router>\r\n\t\t\t);\r\n\t\t}\r\n\t\telse if(this.state.onLogin) {\r\n\t\t\treturn (\r\n\t\t\t\t<Router>\r\n\t\t\t\t\t<Switch>\r\n\t\t\t\t\t\t<Route exact path = \"/\">\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<Login \r\n\t\t\t\t\t\t\t\t\tgrantAccess = {this.grantAccess} \r\n\t\t\t\t\t\t\t\t\tauthLoading = {this.state.authLoading}\r\n\t\t\t\t\t\t\t\t\tdisabled = {this.state.disabled}\r\n\t\t\t\t\t\t\t\t\ttoggleAuthLoader = {this.toggleAuthLoader}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</Route>\r\n\t\t\t\t\t\t<Route exact path = \"/reset\">\r\n\t\t\t\t\t\t\t<ForgotCredentials \r\n\t\t\t\t\t\t\t\tgetTempCredentials = {this.getTempCredentials} \r\n\t\t\t\t\t\t\t\tvalidateTempCredentials = {this.validateTempCredentials} \r\n\t\t\t\t\t\t\t\ttempSuccess = {this.state.tempSuccess}\r\n\t\t\t\t\t\t\t\temail = {this.state.recoveryEmail}\r\n\t\t\t\t\t\t\t\trecoveryDisabled = {this.state.recoveryDisabled}\r\n\t\t\t\t\t\t\t\ttoken = {this.state.token}\r\n\t\t\t\t\t\t\t\tusername = {this.state.username}\r\n\t\t\t\t\t\t\t\trecoverPassword = {this.recoverPassword}\r\n\t\t\t\t\t\t\t\tsaving = {this.state.profileAndCredSaving}\r\n\t\t\t\t\t\t\t\ttoggleSaving = {this.toggleProfAndCredLoader}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Route>\r\n\t\t\t\t\t\t<Route>\r\n\t\t\t\t\t\t\t<div style = {{textAlign: \"center\"}}>\r\n\t\t\t\t\t\t\t\t<h1> This page does not exist :( </h1>\r\n\t\t\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t\t\t<Button href = \"/\"> Back to main page  </Button> \r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</Route>\r\n\t\t\t\t\t</Switch>\r\n\t\t\t\t</Router>\r\n\t\t\t);\r\n\t\t}\r\n\t\treturn (\r\n\t\t<div> hi </div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default App;","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}