{"version":3,"sources":["login-components/Login.js","td-components/AddModal.js","td-components/EditModal.js","td-components/Calendar.js","td-components/Graph.js","td-components/DataList.js","td-components/Goals.js","td-components/TrainingDiary.js","pages/Profile.js","pages/ForgotCredentials.js","App.js","serviceWorker.js","index.js"],"names":["Login","state","validated","onLogin","loginUsername","loginPassword","registerUsername","registerPassword","email","birthday","handleLoginResponse","response","Number","status","props","grantAccess","headers","token","localStorage","setItem","error","toggleAuthLoader","login","toString","trim","length","axios","post","username","password","catch","alert","then","res","handleRegistrationResponse","register","handleSubmit","e","currentTarget","checkValidity","preventDefault","stopPropagation","setState","onChangeLogin","name","target","value","onSelectBirthday","date","toggleTab","tabToRender","datePicker","Form","Control","required","type","this","autoComplete","Jumbotron","Container","fluid","Row","Col","lg","Figure","Image","src","width","height","Tabs","defaultActiveKey","onSelect","bind","Tab","eventKey","title","noValidate","onSubmit","Label","placeholder","onChange","Button","disabled","authLoading","style","float","marginTop","color","to","sm","selected","minDate","subYears","Date","maxDate","subDays","showYearDropdown","scrollableYearDropdown","showMonthDropdown","dropdownMode","placeholderText","customInput","Component","AddModal","data","newData","entryType","showAlert","alertMessage","nameMenuShow","componentDidMount","componentDidUpdate","onSelectName","dataCopy","JSON","parse","stringify","Name","showNameList","nameSearch","onClickRootClose","msg","hideAlert","validateFields","Object","keys","key","isNaN","hasTypeBeenEntered","i","userData","entry","getTime","selectedDate","Category","Type","calculateNewAmount","dataIndex","calculationKey","calculationType","newValue","Math","floor","toFixed","push","saveNewData","a","nameExists","undefined","currentName","entryNames","newName","saveData","reloadCalendar","closeModal","toggleAddModal","resetModal","onChangeNewData","newDataCopy","metaData","entryTypes","x","displayOrder","entryKey","createForm","inputs","window","innerWidth","newDataKeys","marginBottom","FormControl","as","hidden","categories","map","category","uuid","field","nameList","nameData","InputGroup","Dropdown","show","Prepend","onToggle","Toggle","variant","eventkey","Menu","rootCloseEvent","Item","ListGroup","horizontal","formInputs","dateString","toDateString","Modal","addModalShow","centered","scrollable","size","onExited","onHide","backdrop","Header","className","Body","Footer","Alert","onClose","dismissible","visible","isSaving","onClick","EditModal","dataToEdit","hasLoaded","toggleEditModal","onChangeEdit","copy","saveEdit","editIndex","createEditFields","editFields","editModalShow","Calendar","selectedDateString","isDataOnDate","displayData","formatNewDate","isSelectedDateInDateList","formatDate","onClickEdit","index","dateList","createDateList","getFullYear","getMonth","getDate","require","formattedDate","selectDay","deleteEntry","confirm","splice","sortByDisplayName","orderedJson","calculateTotals","totalList","total","numOfEntries","numKey","results","result","charAt","toUpperCase","slice","goalAchieved","goals","goal","deletable","isAchieved","Fields","enteredCategories","entries","includes","totals","cards","catIndex","id","Card","Accordion","Collapse","popover","Popover","Title","Content","OverlayTrigger","trigger","placement","overlay","rootClose","border","today","markedCalendar","activeStartDate","view","find","toggleSaveBar","showNeighboringMonth","onClickDay","tileContent","marginLeft","Graph","testData","graphOption","startDate","endDate","graphData","lineColors","usedColors","colorIndex","graphFilters","rangeValue","onSelectOption","option","onSelectStartDate","onSelectEndDate","onChangeSlider","onSelectFilter","filterName","filtersCopy","indexOf","createOptionDropdown","createDateDropdown","dateOption","filterGraphData","filteredGraphData","numericFilters","filter","filteredEntry","finalFilteredGraphData","getGraphData","entryDate","graphEntry","toLocaleDateString","min","temp","createLines","dataKeys","dataKey","stroke","getLegendData","legendData","createStringFilters","filters","filterData","graphFilterConstants","Check","label","createNumFilters","rangeSliders","sliderLabels","Group","controlId","getMaxValue","max","lines","maxValue","startPicker","endPicker","dropdownOption","stringFilters","domain","strokeDasharray","DataList","listOption","listFilters","allChecked","reload","forceUpdate","margin","checked","Amount","getListData","listData","dateStrings","optionDropdown","Text","Goals","editing","adding","goalEditing","goalAdding","editingData","addingData","goalIndex","invalidFields","colors","openEditModal","closeEditModal","openAddModal","goalStructure","closeAddModal","onChangeAdd","deleteGoal","checkEditFields","checkAddFields","onClickSaveEdit","lastUpdated","onClickSaveAdd","fieldOrder","validateMacros","percentageTotal","constructPieData","fields","labels","datasets","backgroundColor","hoverBackgroundColor","closeButton","toolTip","Tooltip","delay","hide","nonDeletableGoalFields","pieData","toLocaleString","options","maintainAspectRatio","TrainingDiary","activeTab","toggleTabs","tab","Navbar","collapseOnSelect","expand","bg","Brand","href","aria-controls","Nav","logout","activeKey","Profile","oldPassword","newPassword","confirmNewPassword","saving","showModal","showEditModal","editModalData","addModalData","categoryMenuShow","entryTypeIndex","_id","onChangeAccountInfo","handleInfoSubmit","requestBody","toggleSaving","changeUsernameAndEmail","handlePasswordSubmit","changePassword","resetFields","editData","Notes","fieldName","dataType","onChangeEditModal","onChangeAddModal","showCategoryList","onSelectDropdown","onClickRootCloseCategory","categorySearch","addField","onChangeField","typeExists","defaultKeys","fieldNames","newField","count","validateEditFields","prev","onClickSave","deleteData","deleteCategory","newEntryTypes","newUserData","removeField","tdHeaderButton","Spinner","animation","numGoals","numEntries","entryIndex","ForgotCredentials","passwordValidated","tempPassword","confirmPassword","handleEmailSubmit","getTempCredentials","handleTempSubmit","validateTempCredentials","handleNewPasswordSubmit","recoverPassword","recoveryDisabled","textAlign","tempSuccess","App","waitingForPage","isLoggedIn","onRegistration","recoveryEmail","profileAndCredSaving","getItem","handleVerificationResponse","toggleProfAndCredLoader","handleGetResponse","that","clear","get","handlePostResponse","reqBody","prevUsername","handleChangeInfoResponse","handleChangePasswordResponse","handleTempResponse","handleValidateTempResponse","handleRecoveryResponse","location","pathname","toLogin","exact","path","Boolean","hostname","match","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister","console","message"],"mappings":"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","file":"static/js/main.cb47ed04.chunk.js","sourcesContent":["import React, { Component } from 'react';\r\nimport axios from 'axios';\r\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\r\nimport Loader from 'react-loader-spinner';\r\nimport Container from 'react-bootstrap/Container';\r\nimport Row from 'react-bootstrap/Row';\r\nimport Col from 'react-bootstrap/Col';\r\nimport Button from 'react-bootstrap/Button';\r\nimport ButtonGroup from 'react-bootstrap/ButtonGroup';\r\nimport Tabs from 'react-bootstrap/Tabs';\r\nimport Tab from 'react-bootstrap/Tab';\r\nimport Jumbotron from 'react-bootstrap/Jumbotron';\r\nimport Form from 'react-bootstrap/Form';\r\nimport Figure from 'react-bootstrap/Figure';\r\nimport DatePicker from \"react-datepicker\";\r\nimport subDays from \"date-fns/subDays\";\r\nimport subYears from \"date-fns/subYears\";\r\nimport \"react-datepicker/dist/react-datepicker.css\";\r\nimport { BrowserRouter as Router, Link } from 'react-router-dom';\r\n\r\nclass Login extends Component {\r\n\t\r\n\tstate = {\r\n\t\tvalidated: false,\r\n\t\t\r\n\t\tonLogin: true,\r\n\t\t\r\n\t\tloginUsername: \"\",\r\n\t\tloginPassword: \"\",\r\n\t\r\n\t\tregisterUsername: \"\",\r\n\t\tregisterPassword: \"\",\r\n\t\temail: \"\",\r\n\t\tbirthday: null,\r\n\t}\r\n\t\r\n\thandleLoginResponse = (response) => {\r\n\t\ttry {\r\n\t\t\tvar status = Number(response.status);\r\n\t\t\tif(status === 200) {\r\n\t\t\t\tthis.props.grantAccess(this.state.loginUsername, response.headers.token);\r\n\t\t\t\t//saves token and username to browser's local storage \r\n\t\t\t\tlocalStorage.setItem(\"token\", response.headers.token);\r\n\t\t\t\tlocalStorage.setItem(\"username\", this.state.loginUsername);\r\n\t\t\t}\r\n\t\t}\r\n\t\tcatch(error) {\r\n\t\t\tthis.props.toggleAuthLoader();\r\n\t\t}\r\n\t}\r\n\t\r\n\t//login onClick event handler\r\n\tlogin = () => {\r\n\t\t//checks to make sure username and password fields have values \r\n\t\tif(this.state.loginUsername.toString().trim().length === 0 || this.state.loginPassword.toString().length === 0) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\telse {\r\n\t\t\tthis.props.toggleAuthLoader();\r\n\t\t\taxios.post(\"/login\", {username: this.state.loginUsername.toString().trim(), password: this.state.loginPassword})\r\n\t\t\t\t.catch(function(error) {\r\n\t\t\t\t\tif(error.response.status === 401) {\r\n\t\t\t\t\t\talert(\"Invalid credentials\");\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t.then(res => this.handleLoginResponse(res))\r\n\r\n\t\t}\r\n\t}\r\n\r\n\thandleRegistrationResponse = (response) => {\r\n\t\ttry {\r\n\t\t\tvar status = Number(response.status);\r\n\t\t\tif(status === 200) {\r\n\t\t\t\tthis.props.grantAccess(this.state.registerUsername, response.headers.token);\r\n\t\t\t\tlocalStorage.setItem(\"token\", response.headers.token);\r\n\t\t\t\tlocalStorage.setItem(\"username\", this.state.loginUsername);\r\n\t\t\t}\r\n\t\t}\r\n\t\tcatch(error) {\r\n\t\t\tthis.props.toggleAuthLoader();\r\n\t\t}\r\n\t}\r\n\t\r\n\t//registration onClick event handler\r\n\tregister = () => {\r\n\t\t//checks to make sure username and password fields have values \r\n\t\tif(this.state.registerUsername.toString().trim().length === 0 || this.state.registerPassword.toString().trim().length == 0 || this.state.email.toString().trim().length === 0 || this.state.birthday === null) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\telse {\r\n\t\t\tthis.props.toggleAuthLoader();\r\n\t\t\taxios.post(\"/register\", {username: this.state.registerUsername.toString().trim(), password: this.state.registerPassword, email: this.state.email.toString().trim(), birthday: this.state.birthday})\r\n\t\t\t\t.catch(function(error) {\r\n\t\t\t\t\tif(error.response.status === 409) {\r\n\t\t\t\t\t\talert(\"Username or email already exists\");\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t.then(res => this.handleRegistrationResponse(res))\r\n\t\t}\r\n\t}\r\n\t\r\n\thandleSubmit = (e) => {\r\n\t\tconst form = e.currentTarget;\r\n\t\tif(form.checkValidity() === false) {\r\n\t\t\te.preventDefault();\r\n\t\t\te.stopPropagation();\r\n\t\t}\r\n\t\tthis.setState({validated: true});\r\n\t\te.preventDefault();\r\n\t\tif(this.state.onLogin) {\r\n\t\t\tthis.login();\r\n\t\t}\r\n\t\telse {\r\n\t\t\tthis.register();\r\n\t\t}\r\n\t}\r\n\t\r\n\tonChangeLogin = (e) => {\r\n\t\tvar name = [e.target.name][0];\r\n\t\tvar value = e.target.value;\r\n\t\tthis.setState({[name]: value});\r\n\t}\r\n\t\r\n\tonSelectBirthday = (date) => {\r\n\t\tthis.setState({birthday: date});\r\n\t}\r\n\t\r\n\ttoggleTab = (tabToRender) => {\r\n\t\tif(tabToRender === \"login\" && this.state.onLogin) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif(tabToRender === \"register\" && !this.state.onLogin) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tthis.setState({onLogin: !this.state.onLogin, validated: false, loginUsername: \"\", loginPassword: \"\", registerUsername: \"\", registerPassword: \"\", email: \"\", birthday: null});\r\n\t}\r\n\t\r\n\trender() {\r\n\t\tconst datePicker = <Form.Control\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\ttype = \"input\"\r\n\t\t\t\t\t\t\tvalue = {this.state.birthday}\r\n\t\t\t\t\t\t\tautoComplete = \"off\"\r\n\t\t\t\t\t\t\t/>\r\n\t\treturn (\r\n\t\t\t<Jumbotron>\r\n\t\t\t\t<Container fluid>\r\n\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t<Col lg = {6}>\r\n\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t<h1> Training Diary </h1>\r\n\t\t\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t\t\tA simple application to track and analyze your workout data.\r\n\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t<Figure>\r\n\t\t\t\t\t\t\t\t\t\t<Figure.Image\r\n\t\t\t\t\t\t\t\t\t\t\tsrc = \"https://cdn.emojidex.com/emoji/seal/weight_lifter.png\"\r\n\t\t\t\t\t\t\t\t\t\t\twidth = {200}\r\n\t\t\t\t\t\t\t\t\t\t\theight = {300}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</Figure>\r\n\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t<Figure>\r\n\t\t\t\t\t\t\t\t\t\t<Figure.Image\r\n\t\t\t\t\t\t\t\t\t\t src = \"https://cdn.emojidex.com/emoji/seal/chart_with_upwards_trend.png\"\r\n\t\t\t\t\t\t\t\t\t\t width = {200}\r\n\t\t\t\t\t\t\t\t\t\t height = {300}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</Figure>\r\n\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t<Col lg = {6}>\r\n\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t<Tabs defaultActiveKey = \"login\" onSelect = {this.toggleTab.bind(this)}>\r\n\t\t\t\t\t\t\t\t\t\t<Tab eventKey = \"login\" title = \"Login\">\r\n\t\t\t\t\t\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t\t\t\t\t\t{this.state.onLogin \r\n\t\t\t\t\t\t\t\t\t\t\t?\r\n\t\t\t\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Form noValidate validated = {this.state.validated} onSubmit = {this.handleSubmit}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Label> Username </Form.Label>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype = \"input\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholder = \"Username\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname = \"loginUsername\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue = {this.state.loginUsername}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange = {(e) => {this.onChangeLogin(e)}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tautoComplete = \"off\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Label> Password </Form.Label>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype = \"password\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholder = \"Password\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname = \"loginPassword\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue = {this.state.loginPassword}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange = {(e) => {this.onChangeLogin(e)}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button type = \"submit\" disabled = {this.props.disabled}> Login </Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{this.props.authLoading\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t?\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div style = {{float: \"left\", marginTop: \"5%\"}}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Loader type=\"TailSpin\" \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor=\"#00BFFF\" \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\theight={80} \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\twidth={80} \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t:\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div> </div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Link to = \"/reset\"> Forgot Password? </Link>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Form> \r\n\t\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t\t\t\t:\r\n\t\t\t\t\t\t\t\t\t\t\t<div> </div>\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t</Tab>\r\n\t\t\t\t\t\t\t\t\t\t<Tab eventKey = \"register\" title = \"Register\">\r\n\t\t\t\t\t\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t\t\t\t\t\t{!this.state.onLogin\r\n\t\t\t\t\t\t\t\t\t\t\t?\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Form noValidate validated = {this.state.validated} onSubmit = {this.handleSubmit}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Col sm = {6}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Label> Username </Form.Label>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype = \"input\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholder = \"Username\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname = \"registerUsername\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue = {this.state.registerUsername}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange = {(e) => {this.onChangeLogin(e)}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tautoComplete = \"off\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Col sm = {6}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Label> Password </Form.Label>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype = \"password\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholder = \"Password\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname = \"registerPassword\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue = {this.state.registerPassword}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange = {(e) => {this.onChangeLogin(e)}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Col sm = {6}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Label> Email </Form.Label>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype = \"input\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholder = \"Email\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname = \"email\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue = {this.state.email}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange = {(e) => {this.onChangeLogin(e)}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tautoComplete = \"off\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Col sm = {6}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Label> Birthday </Form.Label>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<DatePicker \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tselected = {this.state.birthday}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange = {this.onSelectBirthday}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tminDate = {subYears(new Date(), 120)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmaxDate = {subDays(new Date(), 0)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tshowYearDropdown\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tscrollableYearDropdown\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tshowMonthDropdown\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdropdownMode=\"select\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholderText = \"Birthday\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcustomInput = {datePicker}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button type = \"submit\" disabled = {this.props.disabled}> Register </Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{this.props.authLoading\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t?\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div style = {{float: \"left\", marginTop: \"5%\"}}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Loader type=\"TailSpin\" \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor=\"#00BFFF\" \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\theight={80} \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\twidth={80} \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t:\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div> </div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Form> \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t\t\t\t:\r\n\t\t\t\t\t\t\t\t\t\t\t<div> </div>\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t</Tab>\r\n\t\t\t\t\t\t\t\t\t</Tabs>\r\n\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t</Row>\r\n\t\t\t\t</Container>\r\n\t\t\t</Jumbotron>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default Login;","import React, { Component } from 'react';\r\nimport Modal from \"react-bootstrap/Modal\";\r\nimport \"bootstrap/dist/css/bootstrap.min.css\";\r\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\r\nimport Loader from 'react-loader-spinner';\r\nimport Row from 'react-bootstrap/Row';\r\nimport Col from 'react-bootstrap/Col';\r\nimport Button from 'react-bootstrap/Button';\r\nimport '../td-css/AddModal.css';\r\nimport Form from 'react-bootstrap/Form';\r\nimport FormControl from 'react-bootstrap/FormControl';\r\nimport InputGroup from 'react-bootstrap/InputGroup';\r\nimport uuid from 'react-uuid';\r\nimport Alert from 'react-bootstrap/Alert';\r\nimport Dropdown from 'react-bootstrap/Dropdown';\r\nimport ListGroup from 'react-bootstrap/ListGroup';\r\n//PROPS\r\n\t//data\r\n\t//saveData()\r\n\t//updateShow()\r\n\t//toDateString()\r\n\t//selectedDate\r\n\t//addModalShow\r\n\t//isSaving\r\n\t//toggleSaveBar()\r\n\t//toggleAddModal()\r\n\t//createDateList()\r\n\t//reloadCalendar()\r\nclass AddModal extends Component {\r\n\t\r\n\tstate = {\r\n\t\tdata: null,\r\n\t\tnewData: {},\r\n\t\tentryType: null,\r\n\t\tshowAlert: false,\r\n\t\talertMessage: \"\",\r\n\t\tnameMenuShow: false\r\n\t}\r\n\t\r\n\t/* COMPONENT MOUNTING AND UPDATING METHODS */ \r\n\t\r\n\tcomponentDidMount = () => {\r\n\t\tthis.setState({data: this.props.data});\r\n\t}\r\n\t\r\n\tcomponentDidUpdate = () => {\r\n\t\tif(this.state.data !== this.props.data) {\r\n\t\t\tthis.setState({data: this.props.data});\r\n\t\t}\r\n\t}\r\n\t\r\n\tonSelectName = (value) => {\r\n\t\tvar dataCopy = JSON.parse(JSON.stringify(this.state.newData));\r\n\t\tdataCopy.Name = value;\r\n\t\tthis.setState({newData: dataCopy});\r\n\t}\r\n\t\r\n\tshowNameList = (nameSearch) => {\r\n\t\tif(nameSearch.length === 0) {\r\n\t\t\tthis.setState({nameMenuShow: false});\r\n\t\t}\r\n\t\telse {\r\n\t\t\tthis.setState({nameMenuShow: true});\r\n\t\t}\r\n\t}\t\r\n\r\n\tonClickRootClose = () => {\r\n\t\tif(this.state.nameMenuShow) {\r\n\t\t\tthis.setState({nameMenuShow: false});\r\n\t\t}\r\n\t\telse {\r\n\t\t\tthis.setState({nameMenuShow: true});\r\n\t\t}\r\n\t}\r\n\t\r\n\tshowAlert = (msg) => {\r\n\t\tthis.setState({showAlert: true, alertMessage: msg});\r\n\t}\r\n\t\r\n\thideAlert = () => {\r\n\t\tthis.setState({showAlert: false, alertMessage: \"\"});\r\n\t}\r\n\t\r\n\t/* SAVING METHODS */ \r\n\t\r\n\tvalidateFields = () => {\r\n\t\tif(this.state.entryType === null || Object.keys(this.state.newData).length === 0) {\r\n\t\t\tthis.showAlert(\"Cannot save data, you're missing some required fields!\");\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\tfor(var key in this.state.newData) {\r\n\t\t\tif(key === \"Notes\" || key === \"displayOrder\") {\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\t\t\telse if(this.state.newData[key].toString().trim().length === 0) {\r\n\t\t\t\tthis.showAlert(\"Cannot save data, you're missing some required fields!\");\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\telse if(this.state.entryType[key] === \"number\" && isNaN(Number(this.state.newData[key]))) {\r\n\t\t\t\tthis.showAlert(\"'\" + key + \"'\" + \" must be a number!\"); \r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\telse if(this.state.entryType[key] === \"string\" && !isNaN(Number(this.state.newData[key]))) {\r\n\t\t\t\tthis.showAlert(\"'\" + key + \"'\" + \" cannot be a number!\"); \r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tthis.state.newData[key] = this.state.newData[key].toString().trim();\r\n\t\t\t}\r\n\t\t}\r\n\t\tthis.hideAlert();\r\n\t\treturn true;\r\n\t}\r\n\t\r\n\thasTypeBeenEntered = () => {\r\n\t\tfor(var i = 0; i < this.state.data.userData.length; i++) {\r\n\t\t\tconst entry = this.state.data.userData[i];\r\n\t\t\tif(new Date(entry.Date).getTime() === this.props.selectedDate.getTime() && entry.Category === this.state.newData.Category && entry.Type === this.state.newData.Type) {\r\n\t\t\t\treturn i; //return index of entry\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn -1;\r\n\t}\r\n\t\r\n\tcalculateNewAmount = (dataIndex) => {\r\n\t\tif(dataIndex === -1) {\r\n\t\t\tthis.state.data.userData.push(this.state.newData);\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tvar calculationKey = null;\r\n\t\tfor(var key in this.state.entryType) {\r\n\t\t\tif(this.state.entryType[key] === \"number\") {\r\n\t\t\t\tcalculationKey = key;\r\n\t\t\t}\r\n\t\t}\r\n\t\tif(calculationKey === null) {\r\n\t\t\talert(\"Error: Could not calculate new amount -- null\");\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif(this.state.entryType.calculationType === \"add\") {\r\n\t\t\tvar newValue = (Number(this.state.data.userData[dataIndex][calculationKey]) + Number(this.state.newData[calculationKey]));\r\n\t\t\tif(Math.floor(newValue) !== newValue) {\r\n\t\t\t\tnewValue = newValue.toFixed(2);\r\n\t\t\t}\r\n\t\t\tthis.state.data.userData[dataIndex][calculationKey] = newValue.toString();\r\n\t\t}\r\n\t\telse if(this.state.entryType.calculationType === \"subtract\") {\r\n\t\t\tvar newValue = (Number(this.state.data.userData[dataIndex][calculationKey]) - Number(this.state.newData[calculationKey]));\r\n\t\t\tif(Math.floor(newValue) !== newValue) {\r\n\t\t\t\tnewValue = newValue.toFixed(2);\r\n\t\t\t}\r\n\t\t\tthis.state.data.userData[dataIndex][calculationKey] = newValue.toString();\r\n\t\t}\r\n\t\telse if(this.state.entryType.calculationType === \"multiply\") {\r\n\t\t\tvar newValue = (Number(this.state.data.userData[dataIndex][calculationKey]) * Number(this.state.newData[calculationKey]));\r\n\t\t\tif(Math.floor(newValue) !== newValue) {\r\n\t\t\t\tnewValue = newValue.toFixed(2);\r\n\t\t\t}\r\n\t\t\tthis.state.data.userData[dataIndex][calculationKey] = newValue.toString();\r\n\t\t}\r\n\t\telse if(this.state.entryType.calculationType === \"divide\") {\r\n\t\t\tvar newValue = (Number(this.state.data.userData[dataIndex][calculationKey]) / Number(this.state.newData[calculationKey]));\r\n\t\t\tif(Math.floor(newValue) !== newValue) {\r\n\t\t\t\tnewValue = newValue.toFixed(2);\r\n\t\t\t}\r\n\t\t\tthis.state.data.userData[dataIndex][calculationKey] = newValue.toString();\r\n\t\t}\r\n\t\telse if(this.state.entryType.calculationType === \"average\") {\r\n\t\t\tvar newValue = (Number(this.state.data.userData[dataIndex][calculationKey]) + Number(this.state.newData[calculationKey]));\r\n\t\t\tnewValue = newValue / 2;\r\n\t\t\tif(Math.floor(newValue) !== newValue) {\r\n\t\t\t\tnewValue = newValue.toFixed(2);\r\n\t\t\t}\r\n\t\t\tthis.state.data.userData[dataIndex][calculationKey] = newValue.toString();\r\n\t\t}\r\n\t\telse if(this.state.entryType.calculationType === \"none\") {\r\n\t\t\tthis.state.data.userData.push(this.state.newData);\r\n\t\t}\r\n\t}\r\n\t\r\n\t//calls post api to save data to database\r\n\tsaveNewData = async () => {\r\n\t\tif(!this.validateFields()) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\t//this.props.toggleSaveBar();\r\n\t\tvar nameExists = false;\r\n\t\tif(this.state.newData.Name !== undefined && this.state.newData.Name !== null) {\r\n\t\t\tvar currentName = this.state.newData.Name;\r\n\t\t\tfor(var i = 0; i < this.state.data.entryNames.length; i++) {\r\n\t\t\t\tif(currentName === this.state.data.entryNames[i].Name) {\r\n\t\t\t\t\tnameExists = true;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif(!nameExists) {\r\n\t\t\t\tvar newName = {};\r\n\t\t\t\tnewName.Name = currentName;\r\n\t\t\t\tnewName.Category = this.state.newData.Category;\r\n\t\t\t\tnewName.Type = this.state.newData.Type;\r\n\t\t\t\tthis.state.data.entryNames.push(newName);\r\n\t\t\t}\r\n\t\t}\r\n\t\tthis.state.data.userData.push(this.state.newData);\r\n\t\tawait this.props.saveData(this.state.data, \"save\", \"AddModal\"); //need to make this saveData() function more dynamic \r\n\t\tthis.props.reloadCalendar(); //reloads calendar component so changes are seen immediately without waiting for response from server\r\n\t\tthis.closeModal();\r\n\t}\r\n\t\r\n\t/* MODAL RENDERING METHODS */\r\n\t\r\n\tcloseModal = () => {\r\n\t\tthis.props.toggleAddModal();\r\n\t\tthis.setState({newData: {}, showAlert: false, alertMessage: \"\"});\r\n\t}\r\n\t\r\n\tresetModal = () => {\r\n\t\tthis.setState({newData: {}});\r\n\t}\r\n\t\r\n\t//onChange event handler for when user enters something in new data field \r\n\tonChangeNewData = (e) => {\r\n\t\tvar newDataCopy;\r\n\t\tvar entry = null;\r\n\t\tconst key = [e.target.name][0];\r\n\t\tconst value = e.target.value;\r\n\t\tnewDataCopy = this.state.newData;\r\n\t\tif(newDataCopy === null || newDataCopy === undefined) {\r\n\t\t\tnewDataCopy = {};\r\n\t\t}\r\n\t\tif(key === \"Category\") {\r\n\t\t\tnewDataCopy = {[key]: value, \"Type\": \"\"};\r\n\t\t}\r\n\t\telse if(key === \"Type\") {\r\n\t\t\tnewDataCopy = {\"Category\": this.state.newData.Category, [key]: value};\r\n\t\t\tfor(var i = 0; i < this.props.data.metaData.entryTypes.length; i++) {\r\n\t\t\t\tconst entryType = this.props.data.metaData.entryTypes[i];\r\n\t\t\t\tif(entryType.Category === this.state.newData.Category && entryType.Type === value) {\r\n\t\t\t\t\tfor(var x = 0; x < entryType.displayOrder.length; x++) {\r\n\t\t\t\t\t\tconst entryKey = entryType.displayOrder[x];\r\n\t\t\t\t\t\tif(entryKey !== \"Category\" && entryKey !== \"Type\") {\r\n\t\t\t\t\t\t\tnewDataCopy[entryKey] = \"\";\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tnewDataCopy.displayOrder = entryType.displayOrder;\r\n\t\t\t\t\tnewDataCopy.Date = this.props.selectedDate.toString();\r\n\t\t\t\t\tnewDataCopy.calculationType = entryType.calculationType;\r\n\t\t\t\t\tentry = entryType;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\telse if(key === \"Name\") {\r\n\t\t\tthis.showNameList(value);\r\n\t\t\tnewDataCopy[key] = value;\r\n\t\t\tentry = this.state.entryType;\r\n\t\t}\r\n\t\telse {\r\n\t\t\tnewDataCopy[key] = value;\r\n\t\t\tentry = this.state.entryType;\r\n\t\t}\r\n\t\tthis.setState({newData: newDataCopy, entryType: entry});\r\n\t}\r\n\r\n\t//creates input fields from metaData \r\n\tcreateForm = () => {\r\n\t\tif(this.props.data === null) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\tconst breakpoint = 500;\r\n\t\tconst width = window.innerWidth;\r\n\t\tvar inputs;\r\n\t\tconst newDataKeys = Object.keys(this.state.newData);\r\n\t\t//const newDataKeys = this.state.newData.displayOrder;\r\n\t\tif(width < breakpoint) {\r\n\t\t\tif(newDataKeys.length === 0) {\r\n\t\t\t\tinputs = <div style = {{marginBottom: \"5%\"}}>\r\n\t\t\t\t\t\t\t<Form.Label> Category </Form.Label>\r\n\t\t\t\t\t\t\t\t<FormControl as = \"select\" name = \"Category\" onChange = {(e) => {this.onChangeNewData(e)}}>\r\n\t\t\t\t\t\t\t\t\t<option  value = \"\" selected disabled hidden> Select </option>\r\n\t\t\t\t\t\t\t\t\t{this.props.data.metaData.categories.map((category) => {\r\n\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t<option key = {uuid()} value = {category}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{category}\r\n\t\t\t\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t</FormControl>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\treturn inputs;\r\n\t\t\t}\r\n\t\t\tinputs = newDataKeys.map((field) => {\r\n\t\t\t\tif(field === \"Category\") {\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\t<div style = {{marginBottom: \"5%\"}}>\r\n\t\t\t\t\t\t\t<Form.Label> {field} </Form.Label>\r\n\t\t\t\t\t\t\t\t\t<FormControl as = \"select\" value = {this.state.newData[field]} name = {field} onChange = {(e) => {this.onChangeNewData(e)}}>\r\n\t\t\t\t\t\t\t\t\t\t<option  value = \"\" selected disabled hidden> Select </option>\r\n\t\t\t\t\t\t\t\t\t\t{this.props.data.metaData.categories.map((category) => {\r\n\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<option value = {category} key = {uuid()}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{category}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t</FormControl>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t);\r\n\t\t\t\t}\r\n\t\t\t\telse if(field === \"Type\") {\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\t<div style = {{marginBottom: \"5%\"}}>\r\n\t\t\t\t\t\t\t<Form.Label> {field} </Form.Label>\r\n\t\t\t\t\t\t\t\t<FormControl as = \"select\" value = {this.state.newData[field]} name = {field} onChange = {(e) => {this.onChangeNewData(e)}}>\r\n\t\t\t\t\t\t\t\t\t<option  value = \"\" selected disabled hidden> Select </option>\r\n\t\t\t\t\t\t\t\t\t{this.props.data.metaData.entryTypes.map((entry) => {\r\n\t\t\t\t\t\t\t\t\t\tif(entry.Category === this.state.newData.Category) {\r\n\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<option value = {entry.Type} key = {uuid()}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{entry.Type}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t</FormControl>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t);\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tif(field !== \"displayOrder\" && field !== \"Date\" && field !== \"calculationType\") {\r\n\t\t\t\t\t\tif(field === \"Name\") {\r\n\t\t\t\t\t\t\tvar nameList = [];\r\n\t\t\t\t\t\t\tfor(var i = 0; i < this.state.data.entryNames.length ; i++) {\r\n\t\t\t\t\t\t\t\tvar nameData = this.state.data.entryNames[i];\r\n\t\t\t\t\t\t\t\tif(this.state.newData.Category === nameData.Category && this.state.newData.Type === nameData.Type) {\r\n\t\t\t\t\t\t\t\t\tnameList.push(nameData.Name);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t<div style = {{marginBottom: \"5%\"}}>\r\n\t\t\t\t\t\t\t\t\t<Form.Label> {field} </Form.Label>\r\n\t\t\t\t\t\t\t\t\t\t<InputGroup>\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\t\t\t\tas = \"input\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tautoComplete = \"off\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tname = {field}\r\n\t\t\t\t\t\t\t\t\t\t\t\tvalue = {this.state.newData[field]}\r\n\t\t\t\t\t\t\t\t\t\t\t\tonChange = {(e) => {this.onChangeNewData(e)}}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t<Dropdown show = {this.state.nameMenuShow} as = {InputGroup.Prepend} onToggle = {this.onClickRootClose.bind(this)}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Dropdown.Toggle variant = \"outline-secondary\" eventkey = \"00\"> </Dropdown.Toggle>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Dropdown.Menu rootCloseEvent = \"click\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{nameList.map((name) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Dropdown.Item onSelect = {this.onSelectName.bind(this, name)} >\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{name}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Dropdown.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Dropdown.Menu>\r\n\t\t\t\t\t\t\t\t\t\t\t</Dropdown> \r\n\t\t\t\t\t\t\t\t\t\t</InputGroup> \r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t<div style = {{marginBottom: \"5%\"}}>\r\n\t\t\t\t\t\t\t\t\t\t<Form.Label> {field} </Form.Label>\r\n\t\t\t\t\t\t\t\t\t\t<FormControl as = \"input\" value = {this.state.newData[field]} name = {field} onChange = {(e) => {this.onChangeNewData(e)}} />\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t\telse {\r\n\t\t\tif(newDataKeys.length === 0) {\r\n\t\t\t\tinputs = <ListGroup horizontal>\r\n\t\t\t\t\t\t\t<ListGroup.Item style = {{width: \"50%\"}}>\r\n\t\t\t\t\t\t\t\tCategory\r\n\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t<ListGroup.Item style = {{width: \"50%\"}}>\r\n\t\t\t\t\t\t\t\t<FormControl as = \"select\" name = \"Category\" onChange = {(e) => {this.onChangeNewData(e)}}>\r\n\t\t\t\t\t\t\t\t\t<option  value = \"\" selected disabled hidden> Select </option>\r\n\t\t\t\t\t\t\t\t\t{this.props.data.metaData.categories.map((category) => {\r\n\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t<option key = {uuid()} value = {category}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{category}\r\n\t\t\t\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t</FormControl>\r\n\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t</ListGroup>\r\n\t\t\t\treturn inputs;\r\n\t\t\t}\r\n\t\t\tinputs = newDataKeys.map((field) => {\r\n\t\t\t\tif(field === \"Category\") {\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\t<ListGroup horizontal> \r\n\t\t\t\t\t\t\t<ListGroup.Item style = {{width: \"50%\"}}>\r\n\t\t\t\t\t\t\t\t{field}\r\n\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t<ListGroup.Item style = {{width: \"50%\"}}>\r\n\t\t\t\t\t\t\t\t<FormControl as = \"select\" value = {this.state.newData[field]} name = {field} onChange = {(e) => {this.onChangeNewData(e)}}>\r\n\t\t\t\t\t\t\t\t\t<option  value = \"\" selected disabled hidden> Select </option>\r\n\t\t\t\t\t\t\t\t\t{this.props.data.metaData.categories.map((category) => {\r\n\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t<option value = {category} key = {uuid()}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{category}\r\n\t\t\t\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t</FormControl>\r\n\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t</ListGroup>\r\n\t\t\t\t\t);\r\n\t\t\t\t}\r\n\t\t\t\telse if(field === \"Type\") {\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\t<ListGroup horizontal>\r\n\t\t\t\t\t\t\t<ListGroup.Item style = {{width: \"50%\"}}>\r\n\t\t\t\t\t\t\t\t{field}\r\n\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t<ListGroup.Item style = {{width: \"50%\"}}>\r\n\t\t\t\t\t\t\t\t<FormControl as = \"select\" value = {this.state.newData[field]} name = {field} onChange = {(e) => {this.onChangeNewData(e)}}>\r\n\t\t\t\t\t\t\t\t\t<option  value = \"\" selected disabled hidden> Select </option>\r\n\t\t\t\t\t\t\t\t\t{this.props.data.metaData.entryTypes.map((entry) => {\r\n\t\t\t\t\t\t\t\t\t\tif(entry.Category === this.state.newData.Category) {\r\n\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<option value = {entry.Type} key = {uuid()}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{entry.Type}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t</FormControl>\r\n\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t</ListGroup>\r\n\t\t\t\t\t);\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tif(field !== \"displayOrder\" && field !== \"Date\" && field !== \"calculationType\") {\r\n\t\t\t\t\t\tif(field === \"Name\") {\r\n\t\t\t\t\t\t\tvar nameList = [];\r\n\t\t\t\t\t\t\tfor(var i = 0; i < this.state.data.entryNames.length ; i++) {\r\n\t\t\t\t\t\t\t\tvar nameData = this.state.data.entryNames[i];\r\n\t\t\t\t\t\t\t\tif(this.state.newData.Category === nameData.Category && this.state.newData.Type === nameData.Type) {\r\n\t\t\t\t\t\t\t\t\tnameList.push(nameData.Name);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t<ListGroup horizontal>\r\n\t\t\t\t\t\t\t\t\t<ListGroup.Item style = {{width: \"50%\"}}>\r\n\t\t\t\t\t\t\t\t\t\t{field}\r\n\t\t\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t<ListGroup.Item style = {{width: \"50%\"}}>\r\n\t\t\t\t\t\t\t\t\t\t<InputGroup>\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\t\t\t\tas = \"input\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tautoComplete = \"off\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tname = {field}\r\n\t\t\t\t\t\t\t\t\t\t\t\tvalue = {this.state.newData[field]}\r\n\t\t\t\t\t\t\t\t\t\t\t\tonChange = {(e) => {this.onChangeNewData(e)}}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t<Dropdown show = {this.state.nameMenuShow} as = {InputGroup.Prepend} onToggle = {this.onClickRootClose.bind(this)}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Dropdown.Toggle variant = \"outline-secondary\" eventkey = \"00\"> </Dropdown.Toggle>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Dropdown.Menu rootCloseEvent = \"click\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{nameList.map((name) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Dropdown.Item onSelect = {this.onSelectName.bind(this, name)} >\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{name}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Dropdown.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Dropdown.Menu>\r\n\t\t\t\t\t\t\t\t\t\t\t</Dropdown> \r\n\t\t\t\t\t\t\t\t\t\t</InputGroup> \r\n\t\t\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t\t</ListGroup>\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t<ListGroup horizontal>\r\n\t\t\t\t\t\t\t\t\t<ListGroup.Item style = {{width: \"50%\"}}>\r\n\t\t\t\t\t\t\t\t\t\t{field}\r\n\t\t\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t<ListGroup.Item style = {{width: \"50%\"}}>\r\n\t\t\t\t\t\t\t\t\t\t<FormControl as = \"input\" value = {this.state.newData[field]} name = {field} onChange = {(e) => {this.onChangeNewData(e)}} />\r\n\t\t\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t\t</ListGroup>\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t\treturn <div> {inputs} </div>\r\n\t}\r\n\t\r\n\trender () {\r\n\t\tconst formInputs = this.createForm()\r\n\t\tconst dateString = this.props.toDateString(this.props.selectedDate)\r\n\t\treturn (\r\n\t\t\t<Modal \r\n\t\t\t\tshow={this.props.addModalShow}\r\n\t\t\t\tcentered = {true}\r\n\t\t\t\tscrollable = {true}\r\n\t\t\t\tsize = \"lg\"\r\n\t\t\t\tonExited = {this.resetModal}\r\n\t\t\t\tonHide = {this.closeModal}\r\n\t\t\t\tbackdrop = \"static\"\r\n\t\t\t>\r\n\t\t\t  <Modal.Header>\r\n\t\t\t\t<h5 className = \"modal-header-tag\"> Add Training Data </h5>\r\n\t\t\t\t<h5 className = \"modal-header-tag\"> {dateString} </h5>\r\n\t\t\t\t{/*<Button variant = \"primary\"> Add </Button>*/}\r\n\t\t\t  </Modal.Header>\r\n\t\t\t  \r\n\t\t\t  <Modal.Body>\r\n\t\t\t\t{formInputs}\r\n\t\t\t  </Modal.Body>\r\n\t\t\t\t\r\n\t\t\t  \r\n\t\t\t\t{!this.state.showAlert\r\n\t\t\t\t?\r\n\t\t\t\t\t<Modal.Footer>\r\n\t\t\t\t\t\t<div className = \"loader-container\">\r\n\t\t\t\t\t\t\t<Loader type=\"ThreeDots\" \r\n\t\t\t\t\t\t\t\tcolor=\"#00BFFF\" \r\n\t\t\t\t\t\t\t\theight={80} \r\n\t\t\t\t\t\t\t\twidth={80} \r\n\t\t\t\t\t\t\t\tvisible = {this.props.isSaving}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<Button variant = \"primary\" disabled = {this.props.isSaving} onClick = {this.closeModal}> Close </Button>\r\n\t\t\t\t\t\t<Button variant = \"primary\" disabled = {this.props.isSaving} onClick = {this.saveNewData}> Save </Button>\r\n\t\t\t\t\t</Modal.Footer>\r\n\t\t\t\t\r\n\t\t\t\t:\r\n\t\t\t\t\t<Modal.Footer>\r\n\t\t\t\t\t\t<div className = \"alert-container\">\r\n\t\t\t\t\t\t\t<Alert className = \"error-alert\" variant = \"danger\" onClose = {this.hideAlert.bind(this)} dismissible>\r\n\t\t\t\t\t\t\t\t<p> {this.state.alertMessage} </p>\r\n\t\t\t\t\t\t\t</Alert>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className = \"loader-container\">\r\n\t\t\t\t\t\t\t<Loader type=\"ThreeDots\" \r\n\t\t\t\t\t\t\t\tcolor=\"#00BFFF\" \r\n\t\t\t\t\t\t\t\theight={80} \r\n\t\t\t\t\t\t\t\twidth={80} \r\n\t\t\t\t\t\t\t\tvisible = {this.props.isSaving}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<Button variant = \"primary\" disabled = {this.props.isSaving} onClick = {this.closeModal}> Close </Button>\r\n\t\t\t\t\t\t<Button variant = \"primary\" disabled = {this.props.isSaving} onClick = {this.saveNewData}> Save </Button>\r\n\t\t\t\t\t</Modal.Footer>\r\n\t\t\t\t}\r\n\t\t\t</Modal>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default AddModal;","import React, { Component } from 'react';\r\nimport Modal from \"react-bootstrap/Modal\";\r\nimport \"bootstrap/dist/css/bootstrap.min.css\";\r\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\r\nimport Loader from 'react-loader-spinner';\r\nimport Row from 'react-bootstrap/Row';\r\nimport Col from 'react-bootstrap/Col';\r\nimport Button from 'react-bootstrap/Button';\r\nimport Form from 'react-bootstrap/Form';\r\nimport FormControl from 'react-bootstrap/FormControl';\r\nimport InputGroup from 'react-bootstrap/InputGroup';\r\nimport '../td-css/EditModal.css';\r\nimport Alert from 'react-bootstrap/Alert';\r\nimport Dropdown from 'react-bootstrap/Dropdown';\r\nimport ListGroup from 'react-bootstrap/ListGroup';\r\nimport uuid from 'react-uuid';\r\n\r\n//PROPS\r\n\t//data\r\n\t//editModalShow\r\n\t//selectedDate\r\n\t//toDateString()\r\n\t//isSaving\r\n\t//dataToEdit\r\n\t//editIndex\r\n\t//toggleEditModal()\r\n\t//toggleSaveBar()\r\n\t//reloadCalendar()\r\n\t//saveData()\r\nclass EditModal extends Component {\r\n\t\r\n\tstate = {\r\n\t\tdataToEdit: null,\r\n\t\thasLoaded: false,\r\n\t\tentryType: null,\r\n\t\tshowAlert: false,\r\n\t\talertMessage: \"\",\r\n\t\tnameMenuShow: false\r\n\t}\r\n\r\n\tcomponentDidMount = () => {\r\n\t\tthis.setState({dataToEdit: this.props.dataToEdit});\r\n\t}\r\n\tcomponentDidUpdate = () => {\r\n\t\tif(this.state.dataToEdit === null && this.props.dataToEdit !== null) {\r\n\t\t\tthis.setState({dataToEdit: this.props.dataToEdit});\r\n\t\t\tfor(var i = 0; i < this.props.data.metaData.entryTypes.length; i++) {\r\n\t\t\t\tif(this.props.dataToEdit.Category === this.props.data.metaData.entryTypes[i].Category && this.props.dataToEdit.Type === this.props.data.metaData.entryTypes[i].Type) {\r\n\t\t\t\t\tthis.setState({entryType: this.props.data.metaData.entryTypes[i]});\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\tonSelectName = (value) => {\r\n\t\tvar dataCopy = JSON.parse(JSON.stringify(this.state.dataToEdit));\r\n\t\tdataCopy.Name = value;\r\n\t\tthis.setState({dataToEdit: dataCopy});\r\n\t}\r\n\t\r\n\tshowNameList = (nameSearch) => {\r\n\t\tif(nameSearch.length === 0) {\r\n\t\t\tthis.setState({nameMenuShow: false});\r\n\t\t}\r\n\t\telse {\r\n\t\t\tthis.setState({nameMenuShow: true});\r\n\t\t}\r\n\t}\t\r\n\t\r\n\tonClickRootClose = () => {\r\n\t\tif(this.state.nameMenuShow) {\r\n\t\t\tthis.setState({nameMenuShow: false});\r\n\t\t}\r\n\t\telse {\r\n\t\t\tthis.setState({nameMenuShow: true});\r\n\t\t}\r\n\t}\r\n\t\r\n\tshowAlert = (msg) => {\r\n\t\tthis.setState({showAlert: true, alertMessage: msg});\r\n\t}\r\n\t\r\n\thideAlert = () => {\r\n\t\tthis.setState({showAlert: false});\r\n\t}\r\n\t\r\n\tcloseModal = () => {\r\n\t\tthis.props.toggleEditModal(null);\r\n\t\tthis.setState({dataToEdit: null, hasLoaded: false});\r\n\t\tthis.setState({newData: {}, showAlert: false, alertMessage: \"\"});\r\n\t}\r\n\t\r\n\tresetModal = () => {\r\n\t\tthis.setState({dataToEdit: null, hasLoaded: false});\r\n\t\tthis.setState({newData: {}, showAlert: false, alertMessage: \"\"});\r\n\t}\r\n\t\r\n\tvalidateFields = () => {\r\n\t\tif(this.state.entryType === null) {\r\n\t\t\tthis.showAlert(\"Cannot save data, you're missing some required fields!\");\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\tfor(var key in this.state.dataToEdit) {\r\n\t\t\tif(key === \"Notes\" || key === \"displayOrder\") {\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\t\t\telse if(this.state.dataToEdit[key].toString().trim().length === 0) {\r\n\t\t\t\tthis.showAlert(\"Cannot save data, you're missing some required fields!\");\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\telse if(this.state.entryType[key] === \"number\" && isNaN(Number(this.state.dataToEdit[key]))) {\r\n\t\t\t\tthis.showAlert(\"'\" + key + \"'\" + \" must be a number!\"); \r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\telse if(this.state.entryType[key] === \"string\" && !isNaN(Number(this.state.dataToEdit[key]))) {\r\n\t\t\t\tthis.showAlert(\"'\" + key + \"'\" + \" cannot be a number!\"); \r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tthis.state.dataToEdit[key] = this.state.dataToEdit[key].toString().trim();\r\n\t\t\t}\r\n\t\t}\r\n\t\tthis.hideAlert();\r\n\t\treturn true;\r\n\t}\r\n\t\r\n\tonChangeEdit = (e) => {\r\n\t\tvar copy = JSON.parse(JSON.stringify(this.state.dataToEdit));\r\n\t\tconst key = [e.target.name][0];\r\n\t\tconst value = e.target.value;\r\n\t\tif(key === \"Name\") {\r\n\t\t\tthis.showNameList(value);\r\n\t\t\tcopy[key] = value;\r\n\t\t}\r\n\t\telse {\r\n\t\t\tcopy[key] = value;\r\n\t\t}\r\n\t\tthis.setState({dataToEdit: copy});\r\n\t}\r\n\t\r\n\tonSelectName = (value) => {\r\n\t\tvar dataCopy = JSON.parse(JSON.stringify(this.state.dataToEdit));\r\n\t\tdataCopy.Name = value;\r\n\t\tthis.setState({dataToEdit: dataCopy});\r\n\t}\r\n\t\r\n\tsaveEdit = async () => {\r\n\t\tvar data = JSON.parse(JSON.stringify(this.props.data));\r\n\t\tvar nameExists = false;\r\n\t\tif(this.validateFields()) {\r\n\t\t\tif(this.state.dataToEdit.Name !== undefined && this.state.dataToEdit.Name !== null) {\r\n\t\t\t\tfor(var i = 0; i < data.entryNames.length; i++) {\r\n\t\t\t\t\tif(this.state.dataToEdit.Name === data.entryNames[i].Name) {\r\n\t\t\t\t\t\tnameExists = true;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tif(!nameExists) {\r\n\t\t\t\t\tvar newName = {};\r\n\t\t\t\t\tnewName.Name = this.state.dataToEdit.Name\r\n\t\t\t\t\tnewName.Category = this.state.dataToEdit.Category;\r\n\t\t\t\t\tnewName.Type = this.state.dataToEdit.Type;\r\n\t\t\t\t\tdata.entryNames.push(newName);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tdata.userData[this.props.editIndex] = this.state.dataToEdit;\r\n\t\t\tawait this.props.saveData(data, \"save\", \"EditModal\");\r\n\t\t\tthis.props.reloadCalendar();\r\n\t\t\tthis.closeModal();\r\n\t\t}\r\n\t\telse {\r\n\t\t\treturn;\r\n\t\t}\r\n\t}\r\n\t\r\n\tcreateEditFields = () => {\r\n\t\tif(this.state.dataToEdit === null || this.state.dataToEdit == undefined) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\tconst breakpoint = 500;\r\n\t\tconst width = window.innerWidth;\r\n\t\tconst editFields = this.state.dataToEdit.displayOrder.map((key) => {\r\n\t\t\tif(key === \"Category\" || key === \"Type\") {\r\n\t\t\t\tif(width < breakpoint) {\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\t<div> \r\n\t\t\t\t\t\t\t\t\t<Form.Label> {key} </Form.Label> \r\n\t\t\t\t\t\t\t\t\t<FormControl\r\n\t\t\t\t\t\t\t\t\t\tas = \"input\"\r\n\t\t\t\t\t\t\t\t\t\tname = {key}\r\n\t\t\t\t\t\t\t\t\t\tvalue = {this.state.dataToEdit[key]}\r\n\t\t\t\t\t\t\t\t\t\tdisabled = {true}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t);\r\n\t\t\t\t}\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<ListGroup horizontal>\r\n\t\t\t\t\t\t<ListGroup.Item style = {{width: \"50%\"}}>\r\n\t\t\t\t\t\t\t{key}\r\n\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t<ListGroup.Item style = {{width: \"50%\"}}>\r\n\t\t\t\t\t\t\t\t<FormControl\r\n\t\t\t\t\t\t\t\t\tas = \"input\"\r\n\t\t\t\t\t\t\t\t\tname = {key}\r\n\t\t\t\t\t\t\t\t\tvalue = {this.state.dataToEdit[key]}\r\n\t\t\t\t\t\t\t\t\tdisabled = {true}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t</ListGroup>\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t\telse if(key === \"Name\") {\r\n\t\t\t\tvar nameList = [];\r\n\t\t\t\tfor(var i = 0; i < this.props.data.entryNames.length ; i++) {\r\n\t\t\t\t\tvar nameData = this.props.data.entryNames[i];\r\n\t\t\t\t\tif(this.state.dataToEdit.Category === nameData.Category && this.state.dataToEdit.Type === nameData.Type) {\r\n\t\t\t\t\t\tnameList.push(nameData.Name);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tif(width < breakpoint) {\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<Form.Label> {key} </Form.Label>\r\n\t\t\t\t\t\t\t\t<InputGroup>\r\n\t\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\t\tas = \"input\"\r\n\t\t\t\t\t\t\t\t\t\tautoComplete = \"off\"\r\n\t\t\t\t\t\t\t\t\t\tname = {key}\r\n\t\t\t\t\t\t\t\t\t\tvalue = {this.state.dataToEdit[key]}\r\n\t\t\t\t\t\t\t\t\t\tonChange = {(e) => {this.onChangeEdit(e)}}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t<Dropdown show = {this.state.nameMenuShow} as = {InputGroup.Prepend} onToggle = {this.onClickRootClose.bind(this)}>\r\n\t\t\t\t\t\t\t\t\t\t<Dropdown.Toggle variant = \"outline-secondary\" eventkey = \"00\"> </Dropdown.Toggle>\r\n\t\t\t\t\t\t\t\t\t\t<Dropdown.Menu rootCloseEvent = \"click\">\r\n\t\t\t\t\t\t\t\t\t\t\t{nameList.map((name) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Dropdown.Item key = {uuid()} onSelect = {this.onSelectName.bind(this, name)} >\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{name}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Dropdown.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t\t</Dropdown.Menu>\r\n\t\t\t\t\t\t\t\t\t</Dropdown> \r\n\t\t\t\t\t\t\t\t</InputGroup> \r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t);\r\n\t\t\t\t}\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<ListGroup horizontal>\r\n\t\t\t\t\t\t<ListGroup.Item style = {{width: \"50%\"}}>\r\n\t\t\t\t\t\t\t{key}\r\n\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t<ListGroup.Item style = {{width: \"50%\"}}>\r\n\t\t\t\t\t\t\t<InputGroup>\r\n\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\tas = \"input\"\r\n\t\t\t\t\t\t\t\t\tautoComplete = \"off\"\r\n\t\t\t\t\t\t\t\t\tname = {key}\r\n\t\t\t\t\t\t\t\t\tvalue = {this.state.dataToEdit[key]}\r\n\t\t\t\t\t\t\t\t\tonChange = {(e) => {this.onChangeEdit(e)}}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<Dropdown show = {this.state.nameMenuShow} as = {InputGroup.Prepend} onToggle = {this.onClickRootClose.bind(this)}>\r\n\t\t\t\t\t\t\t\t\t<Dropdown.Toggle variant = \"outline-secondary\" eventkey = \"00\"> </Dropdown.Toggle>\r\n\t\t\t\t\t\t\t\t\t<Dropdown.Menu rootCloseEvent = \"click\">\r\n\t\t\t\t\t\t\t\t\t\t{nameList.map((name) => {\r\n\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Dropdown.Item key = {uuid()} onSelect = {this.onSelectName.bind(this, name)} >\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{name}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Dropdown.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t</Dropdown.Menu>\r\n\t\t\t\t\t\t\t\t</Dropdown> \r\n\t\t\t\t\t\t\t</InputGroup> \r\n\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t</ListGroup>\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tif(width < breakpoint) {\r\n\t\t\t\t\treturn (\t\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<Form.Label> {key} </Form.Label>\r\n\t\t\t\t\t\t\t\t<FormControl\r\n\t\t\t\t\t\t\t\t\tas = \"input\"\r\n\t\t\t\t\t\t\t\t\tname = {key}\r\n\t\t\t\t\t\t\t\t\tvalue = {this.state.dataToEdit[key]}\r\n\t\t\t\t\t\t\t\t\tonChange = {(e) => {this.onChangeEdit(e)}}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t);\r\n\t\t\t\t}\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<ListGroup horizontal>\r\n\t\t\t\t\t\t<ListGroup.Item style = {{width: \"50%\"}}>\r\n\t\t\t\t\t\t\t{key}\r\n\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t<ListGroup.Item style = {{width: \"50%\"}}>\r\n\t\t\t\t\t\t\t<FormControl\r\n\t\t\t\t\t\t\t\tas = \"input\"\r\n\t\t\t\t\t\t\t\tname = {key}\r\n\t\t\t\t\t\t\t\tvalue = {this.state.dataToEdit[key]}\r\n\t\t\t\t\t\t\t\tonChange = {(e) => {this.onChangeEdit(e)}}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t</ListGroup>\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t});\r\n\t\treturn <div> {editFields} </div>\r\n\t}\r\n\t\r\n\trender() {\r\n\t\tconst inputs = this.createEditFields();\r\n\t\tconst dateString = this.props.toDateString(this.props.selectedDate);\r\n\t\treturn (\r\n\t\t\t<Modal \r\n\t\t\t\tshow={this.props.editModalShow}\r\n\t\t\t\tcentered = {true}\r\n\t\t\t\tscrollable = {true}\r\n\t\t\t\tsize = \"lg\"\r\n\t\t\t\tonExited = {this.resetModal}\r\n\t\t\t\tonHide = {this.closeModal}\r\n\t\t\t\tbackdrop = \"static\"\r\n\t\t\t>\r\n\t\t\t  <Modal.Header>\r\n\t\t\t\t<h5 className = \"modal-header-tag\"> Edit Training Data </h5>\r\n\t\t\t\t<h5 className = \"modal-header-tag\"> {dateString} </h5>\r\n\t\t\t  </Modal.Header>\r\n\t\t\t  \r\n\t\t\t  <Modal.Body>\r\n\t\t\t\t{inputs}\r\n\t\t\t  </Modal.Body>\r\n\t\t\t  \r\n\t\t\t\t{!this.state.showAlert\r\n\t\t\t\t\r\n\t\t\t\t?\r\n\t\t\t\t\t<Modal.Footer>\r\n\t\t\t\t\t\t<div className = \"loader-container\">\r\n\t\t\t\t\t\t\t<Loader type=\"ThreeDots\" \r\n\t\t\t\t\t\t\t\tcolor=\"#00BFFF\" \r\n\t\t\t\t\t\t\t\theight={80} \r\n\t\t\t\t\t\t\t\twidth={80} \r\n\t\t\t\t\t\t\t\tvisible = {this.props.isSaving}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<Button variant = \"primary\" disabled = {this.props.isSaving} onClick = {this.closeModal}> Close </Button>\r\n\t\t\t\t\t\t<Button variant = \"primary\" disabled = {this.props.isSaving} onClick = {(e) => {this.saveEdit(e)}}> Save </Button>\r\n\t\t\t\t\t</Modal.Footer>\r\n\t\t\t\t\r\n\t\t\t\t:\r\n\t\t\t\t\r\n\t\t\t\t\t<Modal.Footer>\r\n\t\t\t\t\t\t<Alert className = \"error-alert\" variant = \"danger\" onClose = {this.hideAlert.bind(this)} dismissible>\r\n\t\t\t\t\t\t\t<p> {this.state.alertMessage} </p>\r\n\t\t\t\t\t\t</Alert>\r\n\t\t\t\t\t\t<div className = \"loader-container\">\r\n\t\t\t\t\t\t\t<Loader type=\"ThreeDots\" \r\n\t\t\t\t\t\t\t\tcolor=\"#00BFFF\" \r\n\t\t\t\t\t\t\t\theight={80} \r\n\t\t\t\t\t\t\t\twidth={80} \r\n\t\t\t\t\t\t\t\tvisible = {this.props.isSaving}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<Button variant = \"primary\" disabled = {this.props.isSaving} onClick = {this.closeModal}> Close </Button>\r\n\t\t\t\t\t\t<Button variant = \"primary\" disabled = {this.props.isSaving} onClick = {(e) => {this.saveEdit(e)}}> Save </Button>\r\n\t\t\t\t\t</Modal.Footer>\r\n\t\t\t\t}\r\n\t\t\t</Modal>\t\t\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default EditModal; ","import React, { Component } from 'react';\r\nimport Container from 'react-bootstrap/Container';\r\nimport Row from 'react-bootstrap/Row';\r\nimport Col from 'react-bootstrap/Col';\r\nimport Button from 'react-bootstrap/Button';\r\nimport {Calendar as ReactCalendar} from 'react-calendar';\r\nimport '../td-css/Calendar.css';\r\nimport AddModal from './AddModal.js';\r\nimport EditModal from './EditModal.js';\r\nimport Accordion from 'react-bootstrap/Accordion';\r\nimport Card from 'react-bootstrap/Card';\r\nimport ListGroup from 'react-bootstrap/ListGroup';\r\nimport OverlayTrigger from 'react-bootstrap/OverlayTrigger';\r\nimport Popover from 'react-bootstrap/Popover';\r\nimport uuid from 'react-uuid';\r\n//import 'react-calendar/dist/Calendar.css';\r\n\r\n//PROPS\r\n\t//data \r\n\t//onClickAdd()\r\n\t//addModalShow\r\n\t//isSaving\r\n\t//toggleSaveBar()\r\n\t//toggleAddModal()\r\n\t//saveData()\r\nclass Calendar extends Component {\r\n\t\r\n\tstate = {\r\n\t\tselectedDate: null,\r\n\t\tselectedDateString: null,\r\n\t\tminDate: null,\r\n\t\tisDataOnDate: null,\r\n\t\thasLoaded: false, //flag to determine if data has loaded, mainly using it for initially determining if selected date has data \r\n\t\tdisplayData: null,\r\n\t\teventKey: 0,\r\n\t\tdataToEdit: null,\r\n\t\teditIndex: -1,\r\n\t\teventKey: -1\r\n\t}\r\n\t\r\n\t/* COMPONENT MOUNTING AND UPDATING METHODS */ \r\n\r\n\tcomponentDidMount = () => {\r\n\t\tthis.setState({selectedDate: this.formatNewDate(), selectedDateString: this.toDateString(this.formatNewDate())});\r\n\t}\r\n\r\n\tcomponentDidUpdate = () => {\r\n\t\tif(this.state.selectedDateString !== this.toDateString(this.state.selectedDate)){\r\n\t\t\tthis.setState({selectedDateString: this.toDateString(this.state.selectedDate), isDataOnDate: this.isSelectedDateInDateList()});\r\n\t\t}\r\n\t\tif(!this.state.hasLoaded && this.props.data !== null) {\r\n\t\t\tthis.setState({hasLoaded: true, minDate: this.formatDate(this.props.data.birthday), isDataOnDate: this.isSelectedDateInDateList()});\r\n\t\t}\r\n\t\tif(this.props.dataToEdit !== this.props.dataToEdit) {\r\n\t\t\tthis.setState({dataToEdit: this.props.dataToEdit});\r\n\t\t}\r\n\t\tif(this.state.eventKey > 1000) {\r\n\t\t\tthis.setState({eventKey: -1});\r\n\t\t}\r\n\t}\r\n\t\r\n\t//onclick event to handle edit button click\r\n\tonClickEdit = (index) => {\r\n\t\tthis.setState({editIndex: index});\r\n\t\tthis.props.toggleEditModal(this.props.data.userData[index]);\r\n\t}\r\n\t\r\n\t/* CALENDAR METHODS */\r\n\t\r\n\t//reloads after save from Add Modal\r\n\treloadCalendar = () => {\r\n\t\tthis.setState({hasLoaded: false});\r\n\t}\r\n\t\r\n\t//returns true if selected date is in dateList, false if not\r\n\tisSelectedDateInDateList = () => {\r\n\t\tif(this.props.data === null || this.props.data === undefined || this.state.selectedDate === null || this.state.selectedDate === undefined) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\tconst dateList = this.createDateList();\r\n\t\tfor(var i = 0; i < dateList.length; i++) {\r\n\t\t\tconst date = dateList[i];\r\n\t\t\tif(date.getTime() === this.state.selectedDate.getTime()) {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n\t\r\n\t//creates dateList to mark calendar \r\n\tcreateDateList = () => {\r\n\t\tif(this.props.data === null || this.props.data === undefined) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\tconst dateList = [];\r\n\t\tfor(var i = 0; i < this.props.data.userData.length; i++) {\r\n\t\t\tconst data = this.props.data.userData[i];\r\n\t\t\tconst dateString = data.Date;\r\n\t\t\tconst date = this.formatDate(dateString);\r\n\t\t\tdateList.push(date);\r\n\t\t}\r\n\t\treturn dateList;\r\n\t}\r\n\t\r\n\t//used to set today's date to zero hours, minutes, and seconds\r\n\tformatNewDate () {\r\n\t\tvar today = new Date();\r\n\t\tvar formatToday = new Date(today.getFullYear(), today.getMonth(), today.getDate(), 0, 0, 0);\r\n\t\treturn formatToday;\r\n\t}\r\n\t\r\n\t//used to format a new date based on date string\r\n\tformatDate = (dateString) => {\r\n\t\tvar date = new Date(dateString);\r\n\t\tvar formattedDate = new Date(date.getFullYear(), date.getMonth(), date.getDate(), 0, 0, 0);\r\n\t\treturn formattedDate;\r\n\t}\r\n\t\r\n\t//converts date into a string\r\n\ttoDateString = (date) => {\r\n\t\tif(date === null || date === undefined) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\tvar formattedDate = require('dateformat');\r\n\t\treturn formattedDate(date.toString(), \"fullDate\");\r\n\t}\r\n\t\r\n\t//onclick event handler when a day on the calendar is selected\r\n\tselectDay = (value) => {\r\n\t\tthis.setState({selectedDate: value});\r\n\t}\r\n\t\r\n\t//onclick event handler to delete an entry\r\n\tdeleteEntry = (index) => {\r\n\t\tvar approveDelete = window.confirm(\"Are you sure you want to delete this entry?\");\r\n\t\tif(approveDelete) {\r\n\t\t\tthis.props.data.userData.splice(index, 1);\r\n\t\t\tthis.props.saveData(this.props.data, \"delete\", \"Calendar\");\r\n\t\t}\r\n\t\telse {\r\n\t\t\treturn;\r\n\t\t}\r\n\t}\r\n\t\r\n\t/* DATA DISPLAY METHODS */ \r\n\t\r\n\tsortByDisplayName = (entry) => {\r\n\t\tconst displayOrder = entry.displayOrder;\r\n\t\tconst orderedJson = {};\r\n\t\tfor(var i = 0; i < displayOrder.length; i++) {\r\n\t\t\torderedJson[displayOrder[i]] = entry[displayOrder[i]];\r\n\t\t}\r\n\t\treturn orderedJson;\r\n\t}\r\n\t\r\n\tcalculateTotals = (data) => {\r\n\t\tvar totalList = [];\r\n\t\tfor(var i = 0; i < this.props.data.metaData.entryTypes.length; i++) {\r\n\t\t\tvar entryType = this.props.data.metaData.entryTypes[i];\r\n\t\t\tvar total = {Category: \"\", Type: \"\", calculationType: \"\", numOfEntries: 0, total: 0};\r\n\t\t\tfor(var x = 0; x < data.length; x++) {\r\n\t\t\t\tvar entry = data[x];\r\n\t\t\t\tvar numKey = \"\";\r\n\t\t\t\tfor(var key in entry) {\r\n\t\t\t\t\tif(!isNaN(entry[key]) && entry[key].length !== 0) {\r\n\t\t\t\t\t\tnumKey = key;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tif(entryType.Category === entry.Category && entryType.Type === entry.Type && entryType.calculationType !== \"none\" && numKey !== \"\") {\r\n\t\t\t\t\ttotal.Category = entry.Category;\r\n\t\t\t\t\ttotal.Type = entry.Type;\r\n\t\t\t\t\ttotal.calculationType = entryType.calculationType;\r\n\t\t\t\t\ttotal.numOfEntries = total.numOfEntries + 1;\r\n\t\t\t\t\ttotal.total = total.total + Number(entry[numKey]);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif(total.Category !== \"\" && total.Type !== \"\" && total.calculationType !== \"none\" && total.total !== 0) {\r\n\t\t\t\ttotalList.push(total);\r\n\t\t\t}\r\n\t\t}\r\n\t\tif(totalList.length === 0) {\r\n\t\t\treturn totalList;\r\n\t\t}\r\n\t\tvar results = [];\r\n\t\tfor(i = 0; i < totalList.length; i++) {\r\n\t\t\tvar total = totalList[i];\r\n\t\t\tvar result = {};\r\n\t\t\tif(total.numOfEntries === 1) {\r\n\t\t\t\tresult.Category = total.Category;\r\n\t\t\t\tresult.Type = total.Type;\r\n\t\t\t\tresult[total.Type] = total.total;\r\n\t\t\t\tresult.calculationType = total.calculationType.charAt(0).toUpperCase() + total.calculationType.slice(1);\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\t//only going to support add and average for now, since subtract, multiply, and divide don't really make sense for the given categories and types\r\n\t\t\t\tif(total.calculationType === \"add\") {\r\n\t\t\t\t\tresult.Category = total.Category;\r\n\t\t\t\t\tresult.Type = total.Type;\r\n\t\t\t\t\tresult[total.Type] = total.total;\r\n\t\t\t\t\tresult.calculationType = total.calculationType.charAt(0).toUpperCase() + total.calculationType.slice(1);\r\n\t\t\t\t}\r\n\t\t\t\telse if(total.calculationType === \"average\") {\r\n\t\t\t\t\tresult.Category = total.Category;\r\n\t\t\t\t\tresult.Type = total.Type;\r\n\t\t\t\t\tresult[total.Type] = (total.total / total.numOfEntries).toFixed(2);\r\n\t\t\t\t\tresult.calculationType = total.calculationType.charAt(0).toUpperCase() + total.calculationType.slice(1);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tresults.push(result);\r\n\t\t}\r\n\t\treturn results;\r\n\t}\r\n\t\r\n\tgoalAchieved = (entry) => {\r\n\t\tvar numKey = \"Amount\";\r\n\t\tfor(var key in entry) {\r\n\t\t\tif(!isNaN(entry[key]) && entry[key].toString().trim().length !== 0) {\r\n\t\t\t\tnumKey = key;\r\n\t\t\t}\r\n\t\t}\r\n\t\tfor(var i = 0; i < this.props.data.goals.length; i++) {\r\n\t\t\tvar goal = this.props.data.goals[i];\r\n\t\t\tif(goal[\"Goal Type\"] === entry.Category) {\r\n\t\t\t\tif(!goal.deletable) {\r\n\t\t\t\t\tif(Number(goal.Fields[entry.Type]) === Number(entry[numKey])) {\r\n\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tvar isAchieved = false;\r\n\t\t\t\t\tfor(var key in goal.Fields) {\r\n\t\t\t\t\t\tif(goal.Fields[key] === entry[key]) {\r\n\t\t\t\t\t\t\tisAchieved = true;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\tisAchieved = false;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(isAchieved) {\r\n\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n\t\r\n\tdisplayData = () => {\r\n\t\tif(this.state.selectedDate === null || this.state.selectedDate === undefined || this.props.data === null || this.props.data === undefined) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\tconst enteredCategories = [];\r\n\t\tconst entries = [];\r\n\t\tfor(var i = 0; i < this.props.data.userData.length; i++) {\r\n\t\t\tif(new Date(this.props.data.userData[i].Date).getTime() === this.state.selectedDate.getTime()) {\r\n\t\t\t\tentries.push(this.props.data.userData[i]);\r\n\t\t\t\tif(!enteredCategories.includes(this.props.data.userData[i].Category)) {\r\n\t\t\t\t\tenteredCategories.push(this.props.data.userData[i].Category);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tconst totals = this.calculateTotals(entries);\r\n\t\t\r\n\t\tconst cards = enteredCategories.map((category, catIndex) => {\r\n\t\t\tvar id = uuid();\r\n\t\t\treturn (\r\n\t\t\t\t<Card key = {uuid}>\r\n\t\t\t\t\t<Card.Header>\r\n\t\t\t\t\t\t<Accordion.Toggle as = {Button} variant = \"link\" eventKey = {id}>\r\n\t\t\t\t\t\t\t{category}\r\n\t\t\t\t\t\t</Accordion.Toggle>\r\n\t\t\t\t\t</Card.Header>\r\n\t\t\t\t\t<Accordion.Collapse eventKey = {id}>\r\n\t\t\t\t\t\t<Card.Body>\r\n\t\t\t\t\t\t\t{this.props.data.userData.map((entry, index) => {\r\n\t\t\t\t\t\t\t\tif(new Date(entry.Date).getTime() === this.state.selectedDate.getTime() && category === entry.Category) {\r\n\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t<div key = {uuid()}>\r\n\t\t\t\t\t\t\t\t\t\t\t{this.goalAchieved(entry) && entry.calculationType === \"none\"\r\n\t\t\t\t\t\t\t\t\t\t\t?\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div> Goal Achieved 🏆 </div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{entry.displayOrder.map((key) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tif(key !== \"Notes\") {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ListGroup horizontal key = {uuid()}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ListGroup.Item style = {{width: \"40%\"}}> <strong> {key} </strong> </ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ListGroup.Item style = {{width: \"60%\"}}> {entry[key]} </ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</ListGroup>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tconst popover = (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Popover>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Popover.Title as = \"h3\"> {key} </Popover.Title>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Popover.Content> {entry[key]} </Popover.Content>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Popover>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div key = {uuid()}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<OverlayTrigger trigger = \"click\" placement = \"right\" overlay = {popover} rootClose = {true}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button variant = \"success\"> {key} </Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</OverlayTrigger>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button variant = \"light\" className = \"deleteEditButtons\" onClick = {this.deleteEntry.bind(this, index)}> 🗑️ </Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button variant = \"light\" className = \"deleteEditButtons\" onClick = {this.onClickEdit.bind(this, index)}> ✏️ </Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<hr style = {{border: \"1px solid black\"}} />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t:\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{entry.displayOrder.map((key) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tif(key !== \"Notes\") {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ListGroup horizontal key = {uuid()}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ListGroup.Item style = {{width: \"40%\"}}> <strong> {key} </strong> </ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ListGroup.Item style = {{width: \"60%\"}}> {entry[key]} </ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</ListGroup>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tconst popover = (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Popover>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Popover.Title as = \"h3\"> {key} </Popover.Title>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Popover.Content> {entry[key]} </Popover.Content>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Popover>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div key = {uuid()}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<OverlayTrigger trigger = \"click\" placement = \"right\" overlay = {popover} rootClose = {true}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button variant = \"success\"> {key} </Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</OverlayTrigger>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button variant = \"light\" className = \"deleteEditButtons\" onClick = {this.deleteEntry.bind(this, index)}> 🗑️ </Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button variant = \"light\" className = \"deleteEditButtons\" onClick = {this.onClickEdit.bind(this, index)}> ✏️ </Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<hr style = {{border: \"1px solid black\"}} />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\treturn null;\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t</Card.Body>\r\n\t\t\t\t\t</Accordion.Collapse>\r\n\t\t\t\t</Card>\r\n\t\t\t)\r\n\t\t});\r\n\t\treturn (\r\n\t\t\t<Accordion> \r\n\t\t\t\t{cards} \r\n\t\t\t\t{totals.length !== 0\r\n\t\t\t\t?\r\n\t\t\t\t<Card key = {uuid()}>\r\n\t\t\t\t\t<Card.Header>\r\n\t\t\t\t\t\t<Accordion.Toggle as = {Button} variant = \"link\" eventKey = \"total\">\r\n\t\t\t\t\t\t\tData Totals \r\n\t\t\t\t\t\t</Accordion.Toggle>\r\n\t\t\t\t\t</Card.Header>\r\n\t\t\t\t\t<Accordion.Collapse eventKey = \"total\">\r\n\t\t\t\t\t\t<Card.Body>\r\n\t\t\t\t\t\t{totals.map((total) => {\r\n\t\t\t\t\t\t\tif(this.goalAchieved(total)) {\r\n\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t<div> Goal Achieved 🏆 </div>\r\n\t\t\t\t\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t\t\t\t\t<ListGroup horizontal key = {uuid()}>\r\n\t\t\t\t\t\t\t\t\t\t\t<ListGroup.Item style = {{width: \"50%\"}}> <strong> {total.Type} </strong> </ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t<ListGroup.Item style = {{width: \"50%\"}}> {total[total.Type]} </ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t</ListGroup>\r\n\t\t\t\t\t\t\t\t\t\t<hr style = {{border: \"1px solid black\"}} />\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t<ListGroup horizontal key = {uuid()}>\r\n\t\t\t\t\t\t\t\t\t\t<ListGroup.Item style = {{width: \"50%\"}}> <strong> {total.Type} </strong> </ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t<ListGroup.Item style = {{width: \"50%\"}}> {total[total.Type]} </ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t</ListGroup>\r\n\t\t\t\t\t\t\t\t\t<hr style = {{border: \"1px solid black\"}} />\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t</Card.Body>\r\n\t\t\t\t\t</Accordion.Collapse>\r\n\t\t\t\t</Card>\r\n\t\t\t\t:\r\n\t\t\t\t<div> </div>\r\n\t\t\t\t}\r\n\t\t\t</Accordion>\r\n\t\t)\r\n\t}\r\n\t\r\n\trender() {\r\n\t\tconst markedCalendar = ({activeStartDate, date, view}) => {\r\n\t\t\tif(this.props.data === null || this.props.data == undefined) {\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t\tif(view === \"month\" && this.createDateList().find(x => x.getTime() === date.getTime())) {\r\n\t\t\t\treturn <div> 💪 </div>\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tconst breakpoint = 500;\r\n\t\tconst width = window.innerWidth;\r\n\r\n\t\tconst displayData = this.displayData();\r\n\t\treturn (\r\n\t\t\t<Container fluid>\r\n\t\t\t\t<Row>\r\n\t\t\t\t\t<AddModal \r\n\t\t\t\t\t\tdata = {this.props.data} \r\n\t\t\t\t\t\tselectedDate = {this.state.selectedDate}\r\n\t\t\t\t\t\tsaveData = {this.props.saveData}\r\n\t\t\t\t\t\ttoDateString = {this.toDateString}\r\n\t\t\t\t\t\taddModalShow = {this.props.addModalShow}\r\n\t\t\t\t\t\tisSaving = {this.props.isSaving}\r\n\t\t\t\t\t\ttoggleAddModal = {this.props.toggleAddModal}\r\n\t\t\t\t\t\ttoggleSaveBar = {this.props.toggleSaveBar}\r\n\t\t\t\t\t\treloadCalendar = {this.reloadCalendar}\r\n\t\t\t\t\t\tcreateDateList = {this.createDateList}\r\n\t\t\t\t\t/> \r\n\t\t\t\t</Row>\r\n\t\t\t\t<Row>\r\n\t\t\t\t\t<EditModal \r\n\t\t\t\t\t\tdata = {this.props.data}\r\n\t\t\t\t\t\teditModalShow = {this.props.editModalShow}\r\n\t\t\t\t\t\tselectedDate = {this.state.selectedDate}\r\n\t\t\t\t\t\ttoDateString = {this.toDateString}\r\n\t\t\t\t\t\tisSaving = {this.props.isSaving}\r\n\t\t\t\t\t\ttoggleEditModal = {this.props.toggleEditModal}\r\n\t\t\t\t\t\ttoggleSaveBar = {this.props.toggleSaveBar}\r\n\t\t\t\t\t\treloadCalendar = {this.reloadCalendar}\r\n\t\t\t\t\t\tsaveData = {this.props.saveData}\r\n\t\t\t\t\t\tdataToEdit = {this.props.dataToEdit}\r\n\t\t\t\t\t\teditIndex = {this.state.editIndex}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Row>\r\n\t\t\t\t{width < breakpoint\r\n\t\t\t\t?\r\n\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t<div className = \"mobile-calendar-container\">\r\n\t\t\t\t\t\t\t\t\t<Row style = {{marginBottom: \"5%\"}}>\r\n\t\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t\t<ReactCalendar \r\n\t\t\t\t\t\t\t\t\t\t\t\tminDate = {this.state.minDate}\r\n\t\t\t\t\t\t\t\t\t\t\t\tshowNeighboringMonth = {false}\r\n\t\t\t\t\t\t\t\t\t\t\t\tonClickDay = {this.selectDay}\r\n\t\t\t\t\t\t\t\t\t\t\t\ttileContent = {markedCalendar}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t\t<Col sm = {10}>\r\n\t\t\t\t\t\t\t\t\t\t\t<h6 className = \"date-string\"> \r\n\t\t\t\t\t\t\t\t\t\t\t\t{this.state.selectedDateString} \r\n\t\t\t\t\t\t\t\t\t\t\t</h6>\r\n\t\t\t\t\t\t\t\t\t\t\t<Button variant = \"primary\" className = \"add-data-button\" onClick = {this.props.toggleAddModal}> + </Button>\r\n\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t\t{this.state.isDataOnDate\r\n\t\t\t\t\t\t\t\t\t\t\t?\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{displayData}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t:\r\n\t\t\t\t\t\t\t\t\t\t\t\t<p style = {{marginLeft: \"1%\"}}> Nothing to see here... </p>\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t{/*\r\n\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t{this.state.isDataOnDate \r\n\t\t\t\t\t\t\t\t\t?\r\n\t\t\t\t\t\t\t\t\t\t<div className = \"box-container\">\r\n\t\t\t\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<h4 className = \"date-string\"> \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{this.state.selectedDateString} \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</h4>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Button variant = \"primary\" className = \"add-data-button\" onClick = {this.props.toggleAddModal}> + </Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{displayData}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t:\r\n\t\t\t\t\t\t\t\t\t\t<div className = \"box-container\">\r\n\t\t\t\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<h4 className = \"date-string\"> \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{this.state.selectedDateString} \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</h4>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Button variant = \"primary\" className = \"add-data-button\" onClick = {this.props.toggleAddModal}> + </Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Col sm = {6}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<p style = {{marginLeft: \"1%\"}}> Nothing to see here... </p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t*/}\r\n\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t</Row>\t\t\t\t\r\n\t\t\t\t:\r\n\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t<Col sm = {5}>\r\n\t\t\t\t\t\t\t{this.state.isDataOnDate \r\n\t\t\t\t\t\t\t?\r\n\t\t\t\t\t\t\t<div className = \"box-container\">\r\n\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t<h4 className = \"date-string\"> \r\n\t\t\t\t\t\t\t\t\t\t\t{this.state.selectedDateString} \r\n\t\t\t\t\t\t\t\t\t\t</h4>\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t<Button variant = \"primary\" className = \"add-data-button\" onClick = {this.props.toggleAddModal}> + </Button>\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t{displayData}\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t:\r\n\t\t\t\t\t\t\t<div className = \"box-container\">\r\n\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t<h4 className = \"date-string\"> \r\n\t\t\t\t\t\t\t\t\t\t\t{this.state.selectedDateString} \r\n\t\t\t\t\t\t\t\t\t\t</h4>\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t<Button variant = \"primary\" className = \"add-data-button\" onClick = {this.props.toggleAddModal}> + </Button>\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t<Col sm = {6}>\r\n\t\t\t\t\t\t\t\t\t\t<p style = {{marginLeft: \"1%\"}}> Nothing to see here... </p>\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<Col sm = {7}>\r\n\t\t\t\t\t\t\t<div className = \"calendar-container\">\r\n\t\t\t\t\t\t\t\t<ReactCalendar \r\n\t\t\t\t\t\t\t\t\tminDate = {this.state.minDate}\r\n\t\t\t\t\t\t\t\t\tshowNeighboringMonth = {false}\r\n\t\t\t\t\t\t\t\t\tonClickDay = {this.selectDay}\r\n\t\t\t\t\t\t\t\t\ttileContent = {markedCalendar}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t</Row>\r\n\t\t\t\t}\r\n\t\t\t</Container>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default Calendar;","import React, { Component } from 'react';\r\nimport Container from 'react-bootstrap/Container';\r\nimport Row from 'react-bootstrap/Row';\r\nimport Col from 'react-bootstrap/Col';\r\nimport Button from 'react-bootstrap/Button';\r\nimport Dropdown from 'react-bootstrap/Dropdown';\r\nimport FormControl from 'react-bootstrap/FormControl';\r\nimport Form from 'react-bootstrap/Form';\r\nimport { LineChart, Line, XAxis, YAxis, CartesianGrid, Tooltip, Legend, ResponsiveContainer } from 'recharts';\r\nimport '../td-css/Graph.css';\r\n//import DatePicker from 'react-date-picker';\r\nimport DatePicker from 'react-datepicker';\r\nimport Accordion from 'react-bootstrap/Accordion';\r\nimport Card from 'react-bootstrap/Card';\r\n//import DatePicker from 'react-date-picker/dist/entry.nostyle';\r\n//PROPS\r\n\t//data\r\nclass Graph extends Component {\r\n\t\r\n\tstate = {\r\n\t\ttestData: [\r\n\t\t\t{name: \"test1\", data: 1},\r\n\t\t\t{name: \"test2\", data: 2},\r\n\t\t\t{name: \"test3\", data: 3},\r\n\t\t\t{name: \"test4\", data: 4},\r\n\t\t],\r\n\t\tgraphOption: \"Graph Options\",\r\n\t\tstartDate: null,\r\n\t\tendDate: null,\r\n\t\tgraphData: [],\r\n\t\tlineColors: [\"Aqua\", \"Black\", \"Blue\", \"BlueViolet\", \"Brown\", \"Chocolate\", \"Crimson\", \"DarkGreen\", \"DeepPink\", \"LightSeaGreen\", \"Maroon\",\r\n\t\t\t\t\t\"Navy\", \"Olive\", \"MidnightBlue\", \"Tomato\"],\r\n\t\tusedColors: [],\r\n\t\tcolorIndex: -1,\r\n\t\tgraphFilters: [],\r\n\t\trangeValue: null\r\n\t}\r\n\t\r\n\tcomponentDidUpdate = () => {\r\n\t\tif(this.state.colorIndex > this.state.lineColors.length) {\r\n\t\t\tthis.setState({colorIndex: -1});\r\n\t\t}\r\n\t}\r\n\t\r\n\tonSelectOption = (option) => {\r\n\t\tthis.setState({graphOption: option, graphFilters: []});\r\n\t}\r\n\t\r\n\tonSelectStartDate = (date) => {\r\n\t\tthis.setState({startDate: date});\r\n\t}\r\n\t\r\n\tonSelectEndDate = (date) => {\r\n\t\tthis.setState({endDate: date});\r\n\t}\r\n\t\r\n\tonChangeSlider = (e) => {\r\n\t\tthis.setState({rangeValue: e.target.value});\r\n\t}\r\n\t\r\n\tonSelectFilter = (filterName) => {\r\n\t\tvar filtersCopy = this.state.graphFilters.slice();\r\n\t\tif(!filtersCopy.includes(filterName)) {\r\n\t\t\tfiltersCopy.push(filterName);\r\n\t\t\tthis.setState({graphFilters: filtersCopy});\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tfiltersCopy.splice(filtersCopy.indexOf(filterName), 1);\r\n\t\tthis.setState({graphFilters: filtersCopy});\r\n\t}\r\n\t\r\n\tcreateOptionDropdown = () => {\r\n\t\tif(this.props.data === null || this.props.data === undefined) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\treturn (\r\n\t\t\t<Dropdown className = \"options-button\">\r\n\t\t\t\t<Dropdown.Toggle variant = \"primary\">\r\n\t\t\t\t\t{this.state.graphOption}\r\n\t\t\t\t</Dropdown.Toggle>\r\n\t\t\t\t<Dropdown.Menu>\r\n\t\t\t\t\t{this.props.data.metaData.categories.map((category, index) => {\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<Dropdown.Header>\r\n\t\t\t\t\t\t\t\t\t<strong> {category} </strong>\r\n\t\t\t\t\t\t\t\t</Dropdown.Header>\r\n\t\t\t\t\t\t\t\t{this.props.data.metaData.entryTypes.map((entry) => {\r\n\t\t\t\t\t\t\t\t\tif(category === entry.Category) {\r\n\t\t\t\t\t\t\t\t\t\tfor(var key in entry) {\r\n\t\t\t\t\t\t\t\t\t\t\tif(entry[key] === \"number\") {\r\n\t\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Dropdown.Item onSelect = {this.onSelectOption.bind(this, entry.Type)}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{entry.Type}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Dropdown.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t})}\r\n\t\t\t\t</Dropdown.Menu>\r\n\t\t\t</Dropdown>\r\n\t\t)\r\n\t}\r\n\t\r\n\tcreateDateDropdown = () => {\r\n\t\treturn (\r\n\t\t\t<Dropdown className = \"options-button\">\r\n\t\t\t\t<Dropdown.Toggle variant = \"primary\">\r\n\t\t\t\t\tDate Range\r\n\t\t\t\t</Dropdown.Toggle>\r\n\t\t\t\t<Dropdown.Menu>\r\n\t\t\t\t\t<Dropdown.Item as = {this.dateOption}> </Dropdown.Item>\r\n\t\t\t\t</Dropdown.Menu>\r\n\t\t\t</Dropdown>\r\n\t\t);\r\n\t}\r\n\t\r\n\tfilterGraphData = (graphData) => {\r\n\t\tif(this.state.graphFilters === null || this.state.graphFilters.length === 0 || graphData === null || graphData.length === 0) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\tvar filteredGraphData = [];\r\n\t\tvar numericFilters = [];\r\n\t\t//apply name filters first\r\n\t\tfor(var i = 0; i < graphData.length; i++) {\r\n\t\t\tvar entry = graphData[i];\r\n\t\t\tfor(var x = 0; x < this.state.graphFilters.length; x++) {\r\n\t\t\t\tvar filter = this.state.graphFilters[x];\r\n\t\t\t\tfor(var key in entry) {\r\n\t\t\t\t\tif(entry[key] === filter) {\r\n\t\t\t\t\t\tfilteredGraphData.push(entry);\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse if(!isNaN(entry[filter])){\r\n\t\t\t\t\t\tif(!numericFilters.includes(filter)) {\r\n\t\t\t\t\t\t\tnumericFilters.push(filter);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\t//apply numeric filters now\r\n\t\tif(filteredGraphData.length === 0) {\r\n\t\t\tfor(i = 0; i < graphData.length; i++) {\r\n\t\t\t\tvar entry = graphData[i];\r\n\t\t\t\tvar filteredEntry = {};\r\n\t\t\t\tfor(x = 0; x < this.state.graphFilters.length; x++) {\r\n\t\t\t\t\tvar filter = this.state.graphFilters[x];\r\n\t\t\t\t\tif(Object.keys(entry).includes(filter)) {\r\n\t\t\t\t\t\tfilteredEntry[filter] = entry[filter];\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tfilteredEntry[\"Name\"] = entry[\"Name\"];\r\n\t\t\t\tfilteredEntry[\"Date\"] = entry[\"Date\"];\r\n\t\t\t\tfilteredGraphData.push(filteredEntry);\r\n\t\t\t}\r\n\t\t\treturn filteredGraphData\r\n\t\t}\r\n\t\telse {\r\n\t\t\tif(numericFilters.length === 0) {\r\n\t\t\t\treturn filteredGraphData;\r\n\t\t\t}\r\n\t\t\tvar finalFilteredGraphData = [];\r\n\t\t\tfor(i = 0; i < filteredGraphData.length; i++) {\r\n\t\t\t\tvar entry = filteredGraphData[i];\r\n\t\t\t\tvar filteredEntry = {};\r\n\t\t\t\tfor(x = 0; x < this.state.graphFilters.length; x++) {\r\n\t\t\t\t\tvar filter = this.state.graphFilters[x];\r\n\t\t\t\t\tif(Object.keys(entry).includes(filter)) {\r\n\t\t\t\t\t\tfilteredEntry[filter] = entry[filter];\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t\tfilteredEntry[\"Name\"] = entry[\"Name\"];\r\n\t\t\t\tfilteredEntry[\"Date\"] = entry[\"Date\"];\r\n\t\t\t\tfinalFilteredGraphData.push(filteredEntry);\r\n\t\t\t}\r\n\t\t\treturn finalFilteredGraphData;\r\n\t\t}\r\n\t\treturn null;\r\n\t}\r\n\t\r\n\tgetGraphData = () => {\r\n\t\tvar graphData = [];\r\n\t\tif(this.state.startDate === null || this.state.endDate === null || this.state.graphOption === \"Graph Options\" || this.state.startDate.getTime() > this.state.endDate.getTime()) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\tfor(var i = 0; i < this.props.data.userData.length; i++) {\r\n\t\t\tconst entry = this.props.data.userData[i];\r\n\t\t\tconst entryDate = new Date(entry.Date);\r\n\t\t\tif(this.state.startDate.getTime() <= entryDate.getTime() && entryDate.getTime() <= this.state.endDate.getTime() && entry.Type === this.state.graphOption) {\r\n\t\t\t\tvar graphEntry = {};\r\n\t\t\t\tfor(var key in entry) {\r\n\t\t\t\t\tif(!isNaN(Number(entry[key])) && entry[key].length !== 0 || key === \"Name\") {\r\n\t\t\t\t\t\tgraphEntry[key] = entry[key];\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tgraphEntry.Date = entryDate.toLocaleDateString();\r\n\t\t\t\tgraphData.push(graphEntry);\r\n\t\t\t}\r\n\t\t}\r\n\t\t//sorting graph data by date\r\n\t\tfor(i = 0; i < graphData.length; i++) {\t\t\r\n\t\t\tvar min = i; \r\n\t\t\tfor(var x = i + 1; x < graphData.length; x++) {\r\n\t\t\t\tif(new Date(graphData[min].Date).getTime() > new Date(graphData[x].Date).getTime()) {\r\n\t\t\t\t\tmin = x;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif(min !== i) {\r\n\t\t\t\tvar temp = graphData[i];\r\n\t\t\t\tgraphData[i] = graphData[min];\r\n\t\t\t\tgraphData[min] = temp;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn graphData;\r\n\t}\r\n\t\r\n\tcreateLines = (graphData) => {\r\n\t\tif(graphData === null) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\tvar dataKeys = [];\r\n\t\tfor(var i = 0; i < graphData.length; i++) {\r\n\t\t\tvar entry = graphData[i];\r\n\t\t\tfor(var key in entry) {\r\n\t\t\t\tif(!isNaN(Number(entry[key])) && entry[key].length !== 0 && !dataKeys.includes(key) || key === \"Name\" && !dataKeys.includes(key)) {\r\n\t\t\t\t\tdataKeys.push(key);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tconst lines = dataKeys.map((dataKey, index) => {\r\n\t\t\treturn (\r\n\t\t\t\t<Line dataKey = {dataKey} stroke = {this.state.lineColors[index]}/>\r\n\t\t\t);\r\n\t\t});\r\n\t\treturn lines;\r\n\t}\r\n\t\r\n\tgetLegendData = (graphData) => {\r\n\t\tif(graphData === null) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\tvar legendData = [];\r\n\t\tfor(var i = 0; i < graphData.length; i++) {\r\n\t\t\tvar entry = graphData[i];\r\n\t\t\tfor(var key in entry) {\r\n\t\t\t\t//if(!isNaN(Number(entry[key])) && entry[key].length !== 0 && !legendData.includes(key))\r\n\t\t\t\tif(entry[key].length !== 0 && !legendData.includes(key) && key !== \"Date\" && key !== \"Notes\") {\r\n\t\t\t\t\tlegendData.push(key);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tvar matchingColorIndex = -1;\r\n\t\tif(legendData.length === 1) {\r\n\t\t\tmatchingColorIndex = this.state.colorIndex;\r\n\t\t}\r\n\t\telse {\r\n\t\t\tmatchingColorIndex = this.state.colorIndex - legendData.length;\r\n\t\t}\r\n\t\tfor(i = 0; i < legendData.length; i++) {\r\n\t\t\tlegendData[i] = {\"color\": this.state.lineColors[i], dataKey: legendData[i], \"type\": \"line\", \"value\": legendData[i]}\r\n\t\t\tmatchingColorIndex++;\r\n\t\t}\r\n\t\treturn legendData;\r\n\t}\r\n\r\n\t\r\n\tcreateStringFilters = (graphData) => {\r\n\t\tif(graphData === null || graphData === undefined || graphData.length === 0) {\r\n\t\t\treturn <div> </div>;\r\n\t\t}\r\n\t\tvar filters = [];\r\n\t\tvar filterData = [];\r\n\t\tfor(var i = 0; i < graphData.length; i++) {\r\n\t\t\tvar entry = graphData[i];\r\n\t\t\tfor(var key in entry) {\r\n\t\t\t\tif(!isNaN(Number(entry[key])) && entry[key].length !== 0 && !filters.includes(key) || this.props.data.metaData.graphFilterConstants.includes(key) && !filters.includes(key)) {\r\n\t\t\t\t\tfilters.push(key);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tif(filters.length < 1) {\r\n\t\t\treturn <div> </div>;\r\n\t\t}\r\n\t\tfor(i = 0; i < filters.length; i++) {\r\n\t\t\tvar filter = filters[i];\r\n\t\t\tif(!isNaN(graphData[0][filter])) {\r\n\t\t\t\tfilterData.push(filter);\r\n\t\t\t}\r\n\t\t\tfor(var x = 0; x < graphData.length; x++) {\r\n\t\t\t\tif(isNaN(graphData[x][filter]) && !filterData.includes(graphData[x][filter])) {\r\n\t\t\t\t\tfilterData.push(graphData[x][filter]);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tif(filterData === null || filterData === undefined || filterData.length === 0) {\r\n\t\t\treturn <div> </div>;\r\n\t\t}\r\n\t\treturn (\r\n\t\t\t\t<Card>\r\n\t\t\t\t\t<Card.Body>\r\n\t\t\t\t\t\t<Card.Title> \r\n\t\t\t\t\t\t\tShow By \r\n\t\t\t\t\t\t</Card.Title>\r\n\t\t\t\t\t\t{filterData.length === 1\r\n\t\t\t\t\t\t\t?\r\n\t\t\t\t\t\t\t\t<Form.Check type = \"checkbox\" label = {filterData[0]} onClick = {this.onSelectFilter.bind(this, filterData[0])}/> \r\n\t\t\t\t\t\t\t:\r\n\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t{filterData.map((data) => {\r\n\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Check type = \"checkbox\" label = {data} onClick = {this.onSelectFilter.bind(this, data)}/> \r\n\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t</Card.Body>\r\n\t\t\t\t</Card>\r\n\t\t)\r\n\t}\r\n\t\r\n\tcreateNumFilters = (graphData) => {\r\n\t\tif(graphData === null) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\tvar rangeSliders;\r\n\t\tvar sliderLabels = [];\r\n\t\t\r\n\t\tif(this.state.graphFilters.length === 0) {\r\n\t\t\tfor(var i = 0; i < graphData.length; i++) {\r\n\t\t\t\tvar entry = graphData[i];\r\n\t\t\t\tfor(var key in entry) {\r\n\t\t\t\t\tif(!isNaN(entry[key]) && !sliderLabels.includes(key)) {\r\n\t\t\t\t\t\tsliderLabels.push(key);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif(sliderLabels.length === 0) {\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t\trangeSliders = sliderLabels.map((label, index) => {\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<Form>\r\n\t\t\t\t\t\t<Form.Group controlId = {index}>\r\n\t\t\t\t\t\t\t<Form.Label> {label} </Form.Label>\r\n\t\t\t\t\t\t\t<Form.Control type = \"range\" />\r\n\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t</Form>\r\n\t\t\t\t)\r\n\t\t\t});\r\n\t\t}\r\n\t\telse {\r\n\t\t\tfor(var i = 0; i < graphData.length; i++) {\r\n\t\t\t\tvar entry = graphData[i];\r\n\t\t\t\tfor(var key in entry) {\r\n\t\t\t\t\tif(!isNaN(entry[key]) && !sliderLabels.includes(key) && !this.state.graphFilters.includes(key)) {\r\n\t\t\t\t\t\tsliderLabels.push(key);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif(sliderLabels.length === 0) {\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t\trangeSliders = sliderLabels.map((label, index) => {\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<Form>\r\n\t\t\t\t\t\t<Form.Group controlId = {index}>\r\n\t\t\t\t\t\t\t<Form.Label> {label} </Form.Label>\r\n\t\t\t\t\t\t\t<Form.Control type = \"range\" />\r\n\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t</Form>\r\n\t\t\t\t)\r\n\t\t\t});\r\n\t\t}\r\n\t\treturn rangeSliders;\r\n\t}\r\n\t\r\n\tgetMaxValue = (graphData) => {\r\n\t\tif(graphData === null || graphData === undefined) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\tvar max = 0;\r\n\t\tfor(var i = 0; i < graphData.length; i++) {\r\n\t\t\tvar entry = graphData[i];\r\n\t\t\tfor(var key in entry) {\r\n\t\t\t\tif(!isNaN(entry[key])) {\r\n\t\t\t\t\tif(Number(entry[key]) > max) {\r\n\t\t\t\t\t\tmax = Number(entry[key]);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tif(this.state.rangeValue === null) {\r\n\t\t\tthis.state.rangeValue = max;\r\n\t\t}\r\n\t\treturn max;\r\n\t}\r\n\t\r\n\trender() {\r\n\t\tconst startPicker = <Form.Control\r\n\t\t\t\t\t\t\t\ttype = \"input\"\r\n\t\t\t\t\t\t\t/>\r\n\t\tconst endPicker = <Form.Control\r\n\t\t\t\t\t\t\t\ttype = \"input\"\r\n\t\t\t\t\t\t\t/>\r\n\t\tconst dropdownOption = this.createOptionDropdown();\r\n\t\tvar graphData = this.getGraphData();\r\n\t\tconst stringFilters = this.createStringFilters(graphData);\r\n\t\tconst rangeSliders = this.createNumFilters(graphData);\r\n\t\tconst filteredGraphData = this.filterGraphData(graphData);\r\n\t\tvar legendPayload;\r\n\t\tvar lines;\r\n\t\tvar maxValue;\r\n\t\tif(filteredGraphData !== null) {\r\n\t\t\tlines = this.createLines(filteredGraphData);\r\n\t\t\t//legendPayload = this.getLegendData(filteredGraphData);\r\n\t\t\tmaxValue = this.getMaxValue(filteredGraphData);\r\n\t\t\tgraphData = filteredGraphData;\r\n\t\t}\r\n\t\telse {\r\n\t\t\tlines = this.createLines(graphData);\r\n\t\t\t//legendPayload = this.getLegendData(graphData);\r\n\t\t\tmaxValue = this.getMaxValue(graphData);\r\n\t\t}\r\n\t\t\r\n\t\treturn (\r\n\t\t\t<Container fluid> \r\n\t\t\t\t<Row>\r\n\t\t\t\t\t<Col lg = {2}>\r\n\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t{dropdownOption}\r\n\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t<p> <u> Start Date </u> </p>\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t<DatePicker\r\n\t\t\t\t\t\t\t\t\t\t\tselected = {this.state.startDate}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange = {this.onSelectStartDate}\r\n\t\t\t\t\t\t\t\t\t\t\tcustomInput = {startPicker}\r\n\t\t\t\t\t\t\t\t\t\t\tplaceholderText = \"mm/dd/yyyy\"\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t<p> <u> End Date </u> </p>\t\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t<DatePicker\r\n\t\t\t\t\t\t\t\t\t\t\tselected = {this.state.endDate}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange = {this.onSelectEndDate}\r\n\t\t\t\t\t\t\t\t\t\t\tcustomInput = {endPicker}\r\n\t\t\t\t\t\t\t\t\t\t\tplaceholderText = \"mm/dd/yyyy\"\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t{stringFilters}\r\n\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t</Row> \r\n\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t{/*\r\n\t\t\t\t\t\t\t<Form>\r\n\t\t\t\t\t\t\t\t<Form.Group controlId = {23}>\r\n\t\t\t\t\t\t\t\t\t{maxValue === null\r\n\t\t\t\t\t\t\t\t\t\t?\r\n\t\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Form.Label> <strong> Toggle Y-Axis: </strong> N/A </Form.Label>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Form.Control type = \"range\" disabled = {true}/>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t:\r\n\t\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Form.Label> <strong> Toggle Y-Axis: </strong> {this.state.rangeValue} </Form.Label>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Form.Control type = \"range\" value = {this.state.rangeValue} max = {this.state.rangeValue} onChange = {(e) => {this.onChangeSlider(e)}}/>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t</Form>\r\n\t\t\t\t\t\t*/}\r\n\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t\t<Col lg = {10}>\r\n\t\t\t\t\t\t<div className = \"graph-container\">\r\n\t\t\t\t\t\t{graphData === null ?\r\n\t\t\t\t\t\t\t<h3> <i> Graph Title </i> </h3>\r\n\t\t\t\t\t\t\t:\r\n\t\t\t\t\t\t\t<h3> {this.state.graphOption} </h3>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t<ResponsiveContainer>\r\n\t\t\t\t\t\t\t\t<LineChart \r\n\t\t\t\t\t\t\t\t\tdata = {graphData}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<XAxis dataKey = \"Date\"/>\r\n\t\t\t\t\t\t\t\t\t<YAxis type = \"number\" domain = {[0, maxValue]}/>\r\n\t\t\t\t\t\t\t\t\t <CartesianGrid strokeDasharray=\"3 3\" />\r\n\t\t\t\t\t\t\t\t\t<Tooltip/>\r\n\t\t\t\t\t\t\t\t\t<Legend />\r\n\t\t\t\t\t\t\t\t\t{lines}\r\n\t\t\t\t\t\t\t\t</LineChart>\r\n\t\t\t\t\t\t\t</ResponsiveContainer>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t</Row>\r\n\t\t\t</Container>\r\n\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default Graph;","import React, { Component } from 'react';\r\nimport Container from 'react-bootstrap/Container';\r\nimport Row from 'react-bootstrap/Row';\r\nimport Col from 'react-bootstrap/Col';\r\nimport Button from 'react-bootstrap/Button';\r\nimport AddModal from './AddModal.js';\r\nimport EditModal from './EditModal.js';\r\nimport Accordion from 'react-bootstrap/Accordion';\r\nimport Card from 'react-bootstrap/Card';\r\nimport ListGroup from 'react-bootstrap/ListGroup';\r\nimport OverlayTrigger from 'react-bootstrap/OverlayTrigger';\r\nimport Popover from 'react-bootstrap/Popover';\r\nimport uuid from 'react-uuid';\r\nimport '../td-css/DataList.css';\r\nimport DatePicker from 'react-datepicker';\r\nimport Dropdown from 'react-bootstrap/Dropdown';\r\nimport Form from 'react-bootstrap/Form';\r\n\r\n//props\r\n\t//data\r\nclass DataList extends Component {\r\n\t\r\n\tstate = {\r\n\t\tstartDate: null,\r\n\t\tendDate: null,\r\n\t\tlistOption: \"List Options\",\r\n\t\tlistFilters: [],\r\n\t\tallChecked: true,\r\n\t\tselectedDate: null\r\n\t}\r\n\t\r\n\tonSelectOption = (option) => {\r\n\t\tvar filtersCopy = this.state.listFilters.slice();\r\n\t\tif(option === \"All\") {\r\n\t\t\tthis.setState({listFilters: [], allChecked: !this.state.allChecked});\r\n\t\t\treturn;\r\n\t\t}\r\n\t\telse if(!filtersCopy.includes(option)) {\r\n\t\t\tfiltersCopy.push(option);\r\n\t\t}\r\n\t\telse if(filtersCopy.includes(option)) {\r\n\t\t\tfiltersCopy.splice(filtersCopy.indexOf(option), 1);\r\n\t\t}\r\n\t\tthis.setState({listFilters: filtersCopy, allChecked: false});\r\n\t}\r\n\t\r\n\ttoggleAddModal = async (date) => {\r\n\t\tawait this.setState({selectedDate: new Date(date)});\r\n\t\tthis.props.toggleAddModal();\r\n\t}\r\n\t\r\n\tonSelectEndDate = (date) => {\r\n\t\tthis.setState({endDate: date});\r\n\t}\r\n\t\r\n\tonSelectStartDate = (date) => {\r\n\t\tthis.setState({startDate: date});\r\n\t}\r\n\t\r\n\t//onclick event to handle edit button click\r\n\tonClickEdit = async (index, date) => {\r\n\t\tawait this.setState({editIndex: index, selectedDate: new Date(date)});\r\n\t\tthis.props.toggleEditModal(this.props.data.userData[index]);\r\n\t}\r\n\t\r\n\t//onclick event handler to delete an entry\r\n\tdeleteEntry = (index) => {\r\n\t\tvar approveDelete = window.confirm(\"Are you sure you want to delete this entry?\");\r\n\t\tif(approveDelete) {\r\n\t\t\tthis.props.data.userData.splice(index, 1);\r\n\t\t\tthis.props.saveData(this.props.data, \"delete\", \"Calendar\");\r\n\t\t}\r\n\t\telse {\r\n\t\t\treturn;\r\n\t\t}\r\n\t}\r\n\t\r\n\treload = () => {\r\n\t\tthis.forceUpdate();\r\n\t}\r\n\t\r\n\tgoalAchieved = (entry) => {\r\n\t\tvar numKey = \"Amount\";\r\n\t\tfor(var key in entry) {\r\n\t\t\tif(!isNaN(entry[key]) && entry[key].toString().trim().length !== 0) {\r\n\t\t\t\tnumKey = key;\r\n\t\t\t}\r\n\t\t}\r\n\t\tfor(var i = 0; i < this.props.data.goals.length; i++) {\r\n\t\t\tvar goal = this.props.data.goals[i];\r\n\t\t\tif(goal[\"Goal Type\"] === entry.Category) {\r\n\t\t\t\tif(!goal.deletable) {\r\n\t\t\t\t\tif(Number(goal.Fields[entry.Type]) === Number(entry[numKey])) {\r\n\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tvar isAchieved = false;\r\n\t\t\t\t\tfor(key in goal.Fields) {\r\n\t\t\t\t\t\tif(goal.Fields[key] === entry[key]) {\r\n\t\t\t\t\t\t\tisAchieved = true;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\tisAchieved = false;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(isAchieved) {\r\n\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n\t\r\n\tcreateOptionDropdown = () => {\r\n\t\tif(this.props.data === null || this.props.data === undefined) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\treturn (\r\n\t\t\t<Dropdown>\r\n\t\t\t\t<Dropdown.Toggle variant = \"primary\">\r\n\t\t\t\t\t{this.state.listOption}\r\n\t\t\t\t</Dropdown.Toggle>\r\n\t\t\t\t<Dropdown.Menu>\r\n\t\t\t\t\t<div style = {{margin: \"5%\"}}>\r\n\t\t\t\t\t\t{this.state.startDate === null || this.state.endDate === null || this.state.startDate.getTime() > this.state.endDate.getTime()\r\n\t\t\t\t\t\t\t?\r\n\t\t\t\t\t\t\t\t<Form.Check \r\n\t\t\t\t\t\t\t\ttype = \"checkbox\"\r\n\t\t\t\t\t\t\t\tlabel = \"All\"\r\n\t\t\t\t\t\t\t\tchecked = {true}\r\n\t\t\t\t\t\t\t\tdisabled = {true}\r\n\t\t\t\t\t\t\t\tonChange = {this.onSelectOption.bind(this, \"All\")}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t:\r\n\t\t\t\t\t\t\t\t<Form.Check \r\n\t\t\t\t\t\t\t\ttype = \"checkbox\"\r\n\t\t\t\t\t\t\t\tlabel = \"All\"\r\n\t\t\t\t\t\t\t\tchecked = {this.state.allChecked}\r\n\t\t\t\t\t\t\t\tonChange = {this.onSelectOption.bind(this, \"All\")}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t{this.props.data.metaData.categories.map((category, index) => {\t\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<Dropdown.Header>\r\n\t\t\t\t\t\t\t\t\t<strong> {category} </strong>\r\n\t\t\t\t\t\t\t\t</Dropdown.Header>\r\n\t\t\t\t\t\t\t\t{this.props.data.metaData.entryTypes.map((entry) => {\r\n\t\t\t\t\t\t\t\t\tif(category === entry.Category) {\r\n\t\t\t\t\t\t\t\t\t\tif(this.state.startDate === null || this.state.endDate === null || this.state.startDate.getTime() > this.state.endDate.getTime()) {\r\n\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div style = {{margin: \"5%\"}}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Check \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype = \"checkbox\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel = {entry.Type}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tchecked = {false}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled = {true}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange = {this.onSelectOption.bind(this, entry.Type)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\telse if(this.state.listFilters.length === 0) {\r\n\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div style = {{margin: \"5%\"}}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Check \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype = \"checkbox\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel = {entry.Type}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tchecked = {false}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange = {this.onSelectOption.bind(this, entry.Type)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t<div style = {{margin: \"5%\"}}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Form.Check \r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype = \"checkbox\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tlabel = {entry.Type}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange = {this.onSelectOption.bind(this, entry.Type)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t})}\r\n\t\t\t\t</Dropdown.Menu>\r\n\t\t\t</Dropdown>\r\n\t\t);\r\n\t}\r\n\t\r\n\tcalculateTotals = (data) => {\r\n\t\tvar totalList = [];\r\n\t\tfor(var i = 0; i < this.props.data.metaData.entryTypes.length; i++) {\r\n\t\t\tvar entryType = this.props.data.metaData.entryTypes[i];\r\n\t\t\tvar total = {Category: \"\", Type: \"\", calculationType: \"\", numOfEntries: 0, total: 0};\r\n\t\t\tfor(var x = 0; x < data.length; x++) {\r\n\t\t\t\tvar entry = data[x];\r\n\t\t\t\tvar numKey = \"\";\r\n\t\t\t\tfor(var key in entry) {\r\n\t\t\t\t\tif(!isNaN(entry[key]) && entry[key].length !== 0) {\r\n\t\t\t\t\t\tnumKey = key;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tif(entryType.Category === entry.Category && entryType.Type === entry.Type && entryType.calculationType !== \"none\" && numKey !== \"\") {\r\n\t\t\t\t\ttotal.Category = entry.Category;\r\n\t\t\t\t\ttotal.Type = entry.Type;\r\n\t\t\t\t\ttotal.calculationType = entryType.calculationType;\r\n\t\t\t\t\ttotal.numOfEntries = total.numOfEntries + 1;\r\n\t\t\t\t\ttotal.total = total.total + Number(entry[numKey]);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif(total.Category !== \"\" && total.Type !== \"\" && total.calculationType !== \"none\" && total.total !== 0) {\r\n\t\t\t\ttotalList.push(total);\r\n\t\t\t}\r\n\t\t}\r\n\t\tif(totalList.length === 0) {\r\n\t\t\treturn totalList;\r\n\t\t}\r\n\t\tvar results = [];\r\n\t\tfor(i = 0; i < totalList.length; i++) {\r\n\t\t\tvar total = totalList[i];\r\n\t\t\tvar result = {};\r\n\t\t\tif(total.numOfEntries === 1) {\r\n\t\t\t\tresult.Category = total.Category;\r\n\t\t\t\tresult.Type = total.Type;\r\n\t\t\t\tresult.Amount = total.total;\r\n\t\t\t\tresult.calculationType = total.calculationType.charAt(0).toUpperCase() + total.calculationType.slice(1);\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\t//only going to support add and average for now, since subtract, multiply, and divide don't really make sense for the given categories and types\r\n\t\t\t\tif(total.calculationType === \"add\") {\r\n\t\t\t\t\tresult.Category = total.Category;\r\n\t\t\t\t\tresult.Type = total.Type;\r\n\t\t\t\t\tresult.Amount = total.total;\r\n\t\t\t\t\tresult.calculationType = total.calculationType.charAt(0).toUpperCase() + total.calculationType.slice(1);\r\n\t\t\t\t}\r\n\t\t\t\telse if(total.calculationType === \"average\") {\r\n\t\t\t\t\tresult.Category = total.Category;\r\n\t\t\t\t\tresult.Type = total.Type;\r\n\t\t\t\t\tresult.Amount = (total.total / total.numOfEntries).toFixed(2);\r\n\t\t\t\t\tresult.calculationType = total.calculationType.charAt(0).toUpperCase() + total.calculationType.slice(1);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tresults.push(result);\r\n\t\t}\r\n\t\treturn results;\r\n\t}\r\n\t\r\n\ttoDateString = (date) => {\r\n\t\tif(date === null || date === undefined) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\tvar formattedDate = require('dateformat');\r\n\t\treturn formattedDate(date.toString(), \"fullDate\");\r\n\t}\r\n\t\r\n\tgetListData = () => {\r\n\t\tvar listData = [];\r\n\t\tif(this.state.startDate === null || this.state.endDate === null || this.state.startDate.getTime() > this.state.endDate.getTime()) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\t\r\n\t\tif(this.state.listFilters.length === 0 && !this.state.allChecked) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\t//all checkbox is selected\r\n\t\telse if(this.state.listFilters.length === 0 && this.state.allChecked) {\r\n\t\t\tfor(var i = 0; i < this.props.data.userData.length; i++) {\r\n\t\t\t\tconst entry = this.props.data.userData[i];\r\n\t\t\t\tconst entryDate = new Date(entry.Date);\r\n\t\t\t\tif(this.state.startDate.getTime() <= entryDate.getTime() && entryDate.getTime() <= this.state.endDate.getTime()) {\r\n\t\t\t\t\tentry.Date = entryDate.toLocaleDateString();\r\n\t\t\t\t\tlistData.push(entry);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\t//all is not selected and other checkboxes have been selected\r\n\t\telse {\r\n\t\t\tfor(i = 0; i < this.props.data.userData.length; i++) {\r\n\t\t\t\tconst entry = this.props.data.userData[i];\r\n\t\t\t\tconst entryDate = new Date(entry.Date);\r\n\t\t\t\tif(this.state.startDate.getTime() <= entryDate.getTime() && entryDate.getTime() <= this.state.endDate.getTime() && this.state.listFilters.includes(entry.Type)) {\r\n\t\t\t\t\tlistData.push(entry);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\t//sorting list data by date\r\n\t\tfor(i = 0; i < listData.length; i++) {\t\t\r\n\t\t\tvar min = i; \r\n\t\t\tfor(var x = i + 1; x < listData.length; x++) {\r\n\t\t\t\tif(new Date(listData[min].Date).getTime() > new Date(listData[x].Date).getTime()) {\r\n\t\t\t\t\tmin = x;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif(min !== i) {\r\n\t\t\t\tvar temp = listData[i];\r\n\t\t\t\tlistData[i] = listData[min];\r\n\t\t\t\tlistData[min] = temp;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn listData;\r\n\t}\r\n\t\r\n\tdisplayData = (listData) => {\r\n\t\tif(listData === null || listData === undefined) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\tconst dateStrings = [];\r\n\t\tfor(var i = 0; i < listData.length; i++) {\r\n\t\t\tif(this.state.startDate.getTime() <= new Date(listData[i].Date).getTime() && new Date(listData[i].Date).getTime() <= this.state.endDate.getTime()) {\r\n\t\t\t\tvar dateString = this.toDateString(new Date(listData[i].Date));\r\n\t\t\t\tif(!dateStrings.includes(dateString)) {\r\n\t\t\t\t\tdateStrings.push(dateString);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tconst cards = dateStrings.map((date, index) => {\r\n\t\t\tvar totalList = [];\r\n\t\t\treturn (\r\n\t\t\t\t<Card key = {uuid()}>\r\n\t\t\t\t\t<Card.Header>\r\n\t\t\t\t\t\t<Button variant = \"primary\" onClick = {this.toggleAddModal.bind(this, date)} style = {{float: \"right\"}}> + </Button>\r\n\t\t\t\t\t\t<Accordion.Toggle as = {Button} variant = \"link\" eventKey = {index}>\r\n\t\t\t\t\t\t\t{date}\r\n\t\t\t\t\t\t</Accordion.Toggle>\r\n\t\t\t\t\t</Card.Header>\r\n\t\t\t\t\t<Accordion.Collapse eventKey = {index}>\r\n\t\t\t\t\t\t<Card.Body>\r\n\t\t\t\t\t\t\t{this.props.data.userData.map((entry, index) => {\r\n\t\t\t\t\t\t\t\tif(this.state.listFilters.length === 0) {\r\n\t\t\t\t\t\t\t\t\tif(new Date(entry.Date).getTime() === new Date(date).getTime()) {\r\n\t\t\t\t\t\t\t\t\t\ttotalList.push(entry);\r\n\t\t\t\t\t\t\t\t\t\tif(this.goalAchieved(entry) && entry.calculationType === \"none\") {\r\n\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div> Goal Achieved 🏆 </div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{entry.displayOrder.map((key) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tif(key !== \"Notes\") {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ListGroup horizontal key = {uuid()}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ListGroup.Item style = {{width: \"40%\"}}> <strong> {key} </strong> </ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ListGroup.Item style = {{width: \"60%\"}}> {entry[key]} </ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</ListGroup>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tconst popover = (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Popover>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Popover.Title as = \"h3\"> {key} </Popover.Title>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Popover.Content> {entry[key]} </Popover.Content>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Popover>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div key = {uuid()}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<OverlayTrigger trigger = \"click\" placement = \"right\" overlay = {popover} rootClose = {true}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button variant = \"success\"> {key} </Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</OverlayTrigger>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button variant = \"light\" className = \"deleteEditButtons\" onClick = {this.deleteEntry.bind(this, index)}> 🗑️ </Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button variant = \"light\" className = \"deleteEditButtons\" onClick = {this.onClickEdit.bind(this, index, date)}> ✏️ </Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<hr style = {{border: \"1px solid black\"}} />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\tentry.displayOrder.map((key) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\tif(key !== \"Notes\") {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ListGroup horizontal key = {uuid()}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ListGroup.Item style = {{width: \"40%\"}}> <strong> {key} </strong> </ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ListGroup.Item style = {{width: \"60%\"}}> {entry[key]} </ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</ListGroup>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\tconst popover = (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Popover>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Popover.Title as = \"h3\"> {key} </Popover.Title>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Popover.Content> {entry[key]} </Popover.Content>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Popover>\r\n\t\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div key = {uuid()}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<OverlayTrigger trigger = \"click\" placement = \"right\" overlay = {popover} rootClose = {true}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button variant = \"success\"> {key} </Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</OverlayTrigger>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button variant = \"light\" className = \"deleteEditButtons\" onClick = {this.deleteEntry.bind(this, index)}> 🗑️ </Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button variant = \"light\" className = \"deleteEditButtons\" onClick = {this.onClickEdit.bind(this, index, date)}> ✏️ </Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<hr style = {{border: \"1px solid black\"}} />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\t\t\tif(new Date(entry.Date).getTime() === new Date(date).getTime() && this.state.listFilters.includes(entry.Type)) {\r\n\t\t\t\t\t\t\t\t\t\ttotalList.push(entry);\r\n\t\t\t\t\t\t\t\t\t\tif(this.goalAchieved(entry) && entry.calculationType === \"none\") {\r\n\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div> Goal Achieved 🏆 </div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{entry.displayOrder.map((key) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tif(key !== \"Notes\") {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ListGroup horizontal key = {uuid()}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ListGroup.Item style = {{width: \"40%\"}}> <strong> {key} </strong> </ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ListGroup.Item style = {{width: \"60%\"}}> {entry[key]} </ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</ListGroup>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tconst popover = (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Popover>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Popover.Title as = \"h3\"> {key} </Popover.Title>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Popover.Content> {entry[key]} </Popover.Content>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Popover>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div key = {uuid()}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<OverlayTrigger trigger = \"click\" placement = \"right\" overlay = {popover} rootClose = {true}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button variant = \"success\"> {key} </Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</OverlayTrigger>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button variant = \"light\" className = \"deleteEditButtons\" onClick = {this.deleteEntry.bind(this, index)}> 🗑️ </Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button variant = \"light\" className = \"deleteEditButtons\" onClick = {this.onClickEdit.bind(this, index, date)}> ✏️ </Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<hr style = {{border: \"1px solid black\"}} />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\tentry.displayOrder.map((key) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\tif(key !== \"Notes\") {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ListGroup horizontal key = {uuid()}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ListGroup.Item style = {{width: \"40%\"}}> <strong> {key} </strong> </ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ListGroup.Item style = {{width: \"60%\"}}> {entry[key]} </ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</ListGroup>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\tconst popover = (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Popover>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Popover.Title as = \"h3\"> {key} </Popover.Title>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Popover.Content> {entry[key]} </Popover.Content>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Popover>\r\n\t\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div key = {uuid()}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<OverlayTrigger trigger = \"click\" placement = \"right\" overlay = {popover} rootClose = {true}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button variant = \"success\"> {key} </Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</OverlayTrigger>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button variant = \"light\" className = \"deleteEditButtons\" onClick = {this.deleteEntry.bind(this, index)}> 🗑️ </Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button variant = \"light\" className = \"deleteEditButtons\" onClick = {this.onClickEdit.bind(this, index, date)}> ✏️ </Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<hr style = {{border: \"1px solid black\"}} />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t{this.calculateTotals(totalList).map((total) => {\r\n\t\t\t\t\t\t\t\t\tif(this.goalAchieved(total)) {\r\n\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div> Goal Achieved 🏆 </div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<ListGroup horizontal key = {uuid()}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{total.calculationType === \"Add\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t?\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ListGroup.Item style = {{width: \"50%\"}}> <strong> Total {total.Type}: </strong> </ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t:\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ListGroup.Item style = {{width: \"50%\"}}> <strong> {total.calculationType} {total.Type}: </strong> </ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<ListGroup.Item style = {{width: \"50%\"}}> {total.Amount} </ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</ListGroup>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t<ListGroup horizontal key = {uuid()}>\r\n\t\t\t\t\t\t\t\t\t\t\t{total.calculationType === \"Add\"\r\n\t\t\t\t\t\t\t\t\t\t\t?\r\n\t\t\t\t\t\t\t\t\t\t\t\t<ListGroup.Item style = {{width: \"50%\"}}> <strong> Total {total.Type}: </strong> </ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t:\r\n\t\t\t\t\t\t\t\t\t\t\t\t<ListGroup.Item style = {{width: \"50%\"}}> <strong> {total.calculationType} {total.Type}: </strong> </ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t<ListGroup.Item style = {{width: \"50%\"}}> {total.Amount} </ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t</ListGroup>\r\n\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</Card.Body>\r\n\t\t\t\t\t</Accordion.Collapse>\r\n\t\t\t\t</Card>\r\n\t\t\t);\r\n\t\t});\r\n\t\treturn (\r\n\t\t\t<Accordion> \r\n\t\t\t\t{cards} \r\n\t\t\t</Accordion>\r\n\t\t)\r\n\t}\r\n\t\r\n\trender() {\r\n\t\tconst startPicker = <Form.Control\r\n\t\t\t\t\t\t\t\ttype = \"input\"\r\n\t\t\t\t\t\t\t/>\r\n\t\tconst endPicker = <Form.Control\r\n\t\t\t\t\t\t\t\ttype = \"input\"\r\n\t\t\t\t\t\t\t/>\r\n\t\tconst optionDropdown = this.createOptionDropdown();\r\n\t\tconst listData = this.getListData();\r\n\t\tconst displayData = this.displayData(listData);\r\n\t\treturn (\r\n\t\t\t<Container fluid>\r\n\t\t\t{this.state.selectedDate === null\r\n\t\t\t?\r\n\t\t\t\t<div> </div>\r\n\t\t\t:\r\n\t\t\t\t<Row>\r\n\t\t\t\t\t<AddModal \r\n\t\t\t\t\t\tdata = {this.props.data} \r\n\t\t\t\t\t\tselectedDate = {this.state.selectedDate}\r\n\t\t\t\t\t\tsaveData = {this.props.saveData}\r\n\t\t\t\t\t\ttoDateString = {this.toDateString}\r\n\t\t\t\t\t\taddModalShow = {this.props.addModalShow}\r\n\t\t\t\t\t\tisSaving = {this.props.isSaving}\r\n\t\t\t\t\t\ttoggleAddModal = {this.props.toggleAddModal}\r\n\t\t\t\t\t\ttoggleSaveBar = {this.props.toggleSaveBar}\r\n\t\t\t\t\t\treloadCalendar = {this.reload}\r\n\t\t\t\t\t\tcreateDateList = {this.createDateList}\r\n\t\t\t\t\t/> \r\n\r\n\t\t\t\t\t<EditModal \r\n\t\t\t\t\t\tdata = {this.props.data}\r\n\t\t\t\t\t\teditModalShow = {this.props.editModalShow}\r\n\t\t\t\t\t\tselectedDate = {this.state.selectedDate}\r\n\t\t\t\t\t\ttoDateString = {this.toDateString}\r\n\t\t\t\t\t\tisSaving = {this.props.isSaving}\r\n\t\t\t\t\t\ttoggleEditModal = {this.props.toggleEditModal}\r\n\t\t\t\t\t\ttoggleSaveBar = {this.props.toggleSaveBar}\r\n\t\t\t\t\t\treloadCalendar = {this.reload}\r\n\t\t\t\t\t\tsaveData = {this.props.saveData}\r\n\t\t\t\t\t\tdataToEdit = {this.props.dataToEdit}\r\n\t\t\t\t\t\teditIndex = {this.state.editIndex}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Row>\r\n\t\t\t}\r\n\t\t\t\t<Row>\r\n\t\t\t\t\t<Col lg = {2}>\r\n\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t{optionDropdown}\r\n\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t<p> <u> Start Date </u> </p>\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t<DatePicker\r\n\t\t\t\t\t\t\t\t\t\t\tselected = {this.state.startDate}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange = {this.onSelectStartDate}\r\n\t\t\t\t\t\t\t\t\t\t\tcustomInput = {startPicker}\r\n\t\t\t\t\t\t\t\t\t\t\tplaceholderText = \"mm/dd/yyyy\"\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t<Col style = {{marginBottom: \"1%\"}}>\r\n\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t<p> <u> End Date </u> </p>\t\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t<DatePicker\r\n\t\t\t\t\t\t\t\t\t\t\tselected = {this.state.endDate}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange = {this.onSelectEndDate}\r\n\t\t\t\t\t\t\t\t\t\t\tcustomInput = {endPicker}\r\n\t\t\t\t\t\t\t\t\t\t\tplaceholderText = \"mm/dd/yyyy\"\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t{this.state.allChecked \r\n\t\t\t\t\t\t\t\t?\r\n\t\t\t\t\t\t\t\t\t<Card>\r\n\t\t\t\t\t\t\t\t\t\t<Card.Body>\r\n\t\t\t\t\t\t\t\t\t\t\t<Card.Title>\r\n\t\t\t\t\t\t\t\t\t\t\t\tOptions Selected\r\n\t\t\t\t\t\t\t\t\t\t\t</Card.Title>\r\n\t\t\t\t\t\t\t\t\t\t\t<Card.Text>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<li> All </li>\r\n\t\t\t\t\t\t\t\t\t\t\t</Card.Text>\r\n\t\t\t\t\t\t\t\t\t\t</Card.Body>\r\n\t\t\t\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t\t\t\t:\r\n\t\t\t\t\t\t\t\t\t<Card>\r\n\t\t\t\t\t\t\t\t\t\t<Card.Body>\r\n\t\t\t\t\t\t\t\t\t\t\t<Card.Title>\r\n\t\t\t\t\t\t\t\t\t\t\t\tOptions Selected\r\n\t\t\t\t\t\t\t\t\t\t\t</Card.Title>\r\n\t\t\t\t\t\t\t\t\t\t\t<Card.Text>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{this.state.listFilters.map((filter) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<li> {filter} </li>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t\t\t</Card.Text>\r\n\t\t\t\t\t\t\t\t\t\t</Card.Body>\r\n\t\t\t\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t\t<Col lg = {10}>\r\n\t\t\t\t\t\t<div className = \"list-container\">\r\n\t\t\t\t\t\t\t{this.state.startDate === null || this.state.endDate === null || this.state.startDate.getTime() > this.state.endDate.getTime()\r\n\t\t\t\t\t\t\t\t?\r\n\t\t\t\t\t\t\t\t\t<h3> <i> Select a start and end date to view your training data. </i> </h3>\r\n\t\t\t\t\t\t\t\t:\r\n\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t{displayData}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t}\t\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t</Row>\r\n\t\t\t</Container>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default DataList;","import React, { Component } from 'react';\r\nimport Container from 'react-bootstrap/Container';\r\nimport Row from 'react-bootstrap/Row';\r\nimport Col from 'react-bootstrap/Col';\r\nimport Button from 'react-bootstrap/Button';\r\nimport Accordion from 'react-bootstrap/Accordion';\r\nimport Card from 'react-bootstrap/Card';\r\nimport ListGroup from 'react-bootstrap/ListGroup';\r\nimport Overlay from 'react-bootstrap/Overlay';\r\nimport OverlayTrigger from 'react-bootstrap/OverlayTrigger';\r\nimport Popover from 'react-bootstrap/Popover';\r\nimport PopoverContent from 'react-bootstrap/PopoverContent';\r\nimport PopoverTitle from 'react-bootstrap/PopoverTitle';\r\nimport uuid from 'react-uuid';\r\nimport Table from 'react-bootstrap/Table';\r\nimport DatePicker from 'react-datepicker';\r\nimport Dropdown from 'react-bootstrap/Dropdown';\r\nimport Form from 'react-bootstrap/Form';\r\nimport FormControl from 'react-bootstrap/FormControl';\r\nimport CardDeck from 'react-bootstrap/CardDeck';\r\nimport Modal from \"react-bootstrap/Modal\";\r\nimport Alert from 'react-bootstrap/Alert';\r\nimport Pie from 'react-chartjs-2';\r\nimport InputGroup from 'react-bootstrap/InputGroup';\r\nimport DropdownButton from 'react-bootstrap/DropdownButton';\r\nimport Tooltip from 'react-bootstrap/Tooltip';\r\n\r\nclass Goals extends Component {\r\n\t\r\n\tstate = {\r\n\t\tediting: false,\r\n\t\tadding: false, \r\n\t\tgoalEditing: \"\",\r\n\t\tgoalAdding: \"\",\r\n\t\teditingData: {},\r\n\t\taddingData: {},\r\n\t\tgoalIndex: -1,\r\n\t\tdata: null,\r\n\t\tinvalidFields: false,\r\n\t\talertMessage: \"\",\r\n\t\tcolors: ['#0088FE', '#00C49F', '#FFBB28', '#FF8042'],\r\n\t\tnameMenuShow: false\r\n\t\t\r\n\t}\r\n\t\r\n\tcomponentDidMount = () => {\r\n\t\tthis.setState({data: this.props.data});\r\n\t}\r\n\t\r\n\topenEditModal = (category, index) => {\r\n\t\tvar editingData = this.state.data.goals[index];\r\n\t\tthis.setState({editing: true, goalEditing: category, editingData: editingData, goalIndex: index});\r\n\t}\r\n\t\r\n\tcloseEditModal = () => {\r\n\t\tthis.setState({editing: false, goalEditing: \"\", editingData: {}, goalIndex: -1, alertMessage: \"\", invalidFields: false});\r\n\t}\r\n\t\r\n\topenAddModal = (category) => {\r\n\t\tvar addingData = {};\r\n\t\tfor(var key in this.state.data.metaData.goalStructure) {\r\n\t\t\taddingData[key] = this.state.data.metaData.goalStructure[key];\r\n\t\t}\r\n\t\taddingData[\"Goal Type\"] = category;\r\n\t\taddingData.Fields = {};\r\n\t\tfor(var i = 0; i < this.state.data.metaData.entryTypes.length; i++) {\r\n\t\t\tvar entry = this.state.data.metaData.entryTypes[i];\r\n\t\t\tif(category === entry.Category) {\r\n\t\t\t\taddingData.Fields.Type = \"\";\r\n\t\t\t}\r\n\t\t}\r\n\t\tthis.setState({adding: true, goalAdding: category, addingData: addingData});\r\n\t}\r\n\t\r\n\tcloseAddModal = () => {\r\n\t\tthis.setState({adding: false, goalAdding: \"\", addingData: {}, alertMessage: \"\", invalidFields: false});\r\n\t}\r\n\t\r\n\tonChangeEdit = (e) => {\r\n\t\tvar name = [e.target.name][0];\r\n\t\tvar value = e.target.value;\r\n\t\tvar dataCopy = JSON.parse(JSON.stringify(this.state.editingData));\r\n\t\tdataCopy.Fields[name] = value;\r\n\t\tthis.setState({editingData: dataCopy});\r\n\t}\r\n\t\r\n\tonClickRootClose = () => {\r\n\t\tif(this.state.nameMenuShow) {\r\n\t\t\tthis.setState({nameMenuShow: false});\r\n\t\t}\r\n\t\telse {\r\n\t\t\tthis.setState({nameMenuShow: true});\r\n\t\t}\r\n\t}\r\n\t\r\n\tshowNameList = (nameSearch) => {\r\n\t\tif(nameSearch.length === 0) {\r\n\t\t\tthis.setState({nameMenuShow: false});\r\n\t\t}\r\n\t\telse {\r\n\t\t\tthis.setState({nameMenuShow: true});\r\n\t\t}\r\n\t}\r\n\t\r\n\tonSelectName = (value) => {\r\n\t\tvar dataCopy = JSON.parse(JSON.stringify(this.state.addingData));\r\n\t\tdataCopy.Fields.Name = value;\r\n\t\tthis.setState({addingData: dataCopy});\r\n\t}\r\n\t\r\n\tonChangeAdd = (e) => {\r\n\t\tvar name = [e.target.name][0];\r\n\t\tvar value = e.target.value;\r\n\t\tvar dataCopy = JSON.parse(JSON.stringify(this.state.addingData));\r\n\t\tif(name === \"Type\") {\r\n\t\t\tdataCopy.Fields = {};\r\n\t\t\tdataCopy.Fields[name] = value;\r\n\t\t\tfor(var i = 0; i < this.state.data.metaData.entryTypes.length; i++) {\r\n\t\t\t\tvar entry = this.state.data.metaData.entryTypes[i];\r\n\t\t\t\tif(entry.Category === this.state.goalAdding && entry.Type === value) {\r\n\t\t\t\t\tfor(var x = 0; x < entry.displayOrder.length; x++) {\r\n\t\t\t\t\t\tvar field = entry.displayOrder[x];\r\n\t\t\t\t\t\tif(entry[field] === \"string\" && field !== \"Notes\" && field !== \"Category\") {\r\n\t\t\t\t\t\t\tdataCopy.Fields[field] = \"\";\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse if(entry[field] === \"number\") {\r\n\t\t\t\t\t\t\tdataCopy.Fields[field] = 0;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\telse if(name === \"Name\") {\r\n\t\t\tthis.showNameList(value);\r\n\t\t\tdataCopy.Fields[name] = value;\r\n\t\t}\r\n\t\telse {\r\n\t\t\tdataCopy.Fields[name] = value;\r\n\t\t}\r\n\t\tthis.setState({addingData: dataCopy});\r\n\t}\r\n\t\r\n\tdeleteGoal = async (goalIndex) => {\r\n\t\tvar dataCopy = JSON.parse(JSON.stringify(this.state.data));\r\n\t\tif(window.confirm(\"Are you sure you want to delete this goal?\")) {\r\n\t\t\tdataCopy.goals.splice(goalIndex, 1);\r\n\t\t\tthis.setState({data: dataCopy});\r\n\t\t\tawait this.props.saveData(dataCopy, \"save\", \"Goals\");\r\n\t\t}\r\n\t}\r\n\t\r\n\tshowAlert = (msg) => {\r\n\t\tthis.setState({invalidFields: true, alertMessage: msg});\r\n\t}\r\n\t\r\n\thideAlert = () => {\r\n\t\tthis.setState({invalidFields: false, alertMessage: \"\"});\r\n\t}\r\n\t\r\n\tcheckEditFields = () => {\r\n\t\tvar entryType = null;\r\n\t\tfor(var i = 0; i < this.state.data.metaData.entryTypes.length; i++) {\r\n\t\t\tvar entry = this.state.data.metaData.entryTypes[i];\r\n\t\t\tif(entry.Category === this.state.editingData[\"Goal Type\"] && Object.keys(this.state.editingData.Fields).includes(entry.Type)) {\r\n\t\t\t\tentryType = entry;\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\telse if(entry.Category === this.state.editingData[\"Goal Type\"] && this.state.editingData.Fields.Type === entry.Type) {\r\n\t\t\t\tentryType = entry;\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t\tif(entryType === null) {\r\n\t\t\talert(\"Sorry, an error occurred -- you cannot update this goal\");\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tfor(var key in this.state.editingData.Fields) {\r\n\t\t\tif(this.state.editingData.Fields[key].toString().trim().length === 0) {\r\n\t\t\t\tthis.showAlert(\"Cannot save data. You're missing some required fields!\");\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\telse if(entryType[key] === \"number\" && isNaN(this.state.editingData.Fields[key])) {\r\n\t\t\t\tthis.showAlert(\"'\" + key + \"' \" + \"must be a number!\");\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn true;\r\n\t}\r\n\t\r\n\tcheckAddFields = () => {\r\n\t\tvar entryType = null;\r\n\t\tfor(var i = 0; i < this.state.data.metaData.entryTypes.length; i++) {\r\n\t\t\tvar entry = this.state.data.metaData.entryTypes[i];\r\n\t\t\tif(entry.Category === this.state.addingData[\"Goal Type\"] && entry.Type === this.state.addingData.Fields.Type) {\r\n\t\t\t\tentryType = entry;\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t\tfor(var key in this.state.addingData.Fields) {\r\n\t\t\tif(this.state.addingData.Fields[key].toString().trim().length === 0) {\r\n\t\t\t\tthis.showAlert(\"Cannot save data. You're missing some required fields!\");\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\telse if(entryType[key] === \"number\" && isNaN(this.state.addingData.Fields[key])) {\r\n\t\t\t\tthis.showAlert(\"'\" + key + \"' \" + \"must be a number!\");\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn true;\r\n\t}\r\n\t\r\n\tonClickSaveEdit = async () => {\r\n\t\tif(this.checkEditFields()) {\r\n\t\t\tvar dataCopy = JSON.parse(JSON.stringify(this.state.data));\r\n\t\t\tfor(var key in this.state.editingData.Fields) {\r\n\t\t\t\tthis.state.editingData.Fields[key] = this.state.editingData.Fields[key].toString().trim();\r\n\t\t\t}\r\n\t\t\tthis.state.editingData.lastUpdated = new Date();\r\n\t\t\tdataCopy.goals[this.state.goalIndex] = this.state.editingData;\r\n\t\t\tthis.setState({data: dataCopy});\r\n\t\t\tawait this.props.saveData(dataCopy, \"save\", \"Goals\");\r\n\t\t\tthis.closeEditModal();\r\n\t\t}\r\n\t\telse {\r\n\t\t\treturn;\r\n\t\t}\r\n\t}\r\n\t\r\n\tonClickSaveAdd = async () => {\r\n\t\tif(this.checkAddFields()) {\r\n\t\t\tvar dataCopy = JSON.parse(JSON.stringify(this.state.data));\r\n\t\t\tfor(var key in this.state.addingData.Fields) {\r\n\t\t\t\tthis.state.addingData.Fields[key] = this.state.addingData.Fields[key].toString().trim();\r\n\t\t\t}\r\n\t\t\tthis.state.addingData.lastUpdated = new Date();\r\n\t\t\tthis.state.addingData.fieldOrder = Object.keys(this.state.addingData.Fields);\r\n\t\t\tdataCopy.goals.push(this.state.addingData);\r\n\t\t\tthis.setState({data: dataCopy});\r\n\t\t\tawait this.props.saveData(dataCopy, \"save\", \"Goals\");\r\n\t\t\tthis.closeAddModal();\r\n\t\t}\r\n\t\telse {\r\n\t\t\treturn;\r\n\t\t}\r\n\t}\r\n\t\r\n\tvalidateMacros = () => {\r\n\t\tvar percentageTotal = 0;\r\n\t\tfor(var key in this.state.editingData.Fields) {\r\n\t\t\tif(key !== \"Calories\") {\r\n\t\t\t\tpercentageTotal = percentageTotal + Number(this.state.editingData.Fields[key])\r\n\t\t\t}\r\n\t\t}\r\n\t\tif(percentageTotal !== 100) {\r\n\t\t\tthis.showAlert(\"Macronutrients must total 100%\");\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\treturn true;\r\n\t}\r\n\t\r\n\tconstructPieData = (fields) => {\r\n\t\tvar data = [];\r\n\t\tvar labels = [];\r\n\t\tfor(var key in fields) {\r\n\t\t\tif(key !== \"Calories\" && !isNaN(fields[key])) {\r\n\t\t\t\tdata.push(fields[key]);\r\n\t\t\t\tlabels.push(key);\r\n\t\t\t}\r\n\t\t}\r\n\t\tvar pieData = {\r\n\t\t\tdatasets: [{\r\n\t\t\t\tdata: data,\r\n\t\t\t\tbackgroundColor: [\r\n\t\t\t\t\t'#FF6384',\r\n\t\t\t\t\t'#36A2EB',\r\n\t\t\t\t\t'#FFCE56',\r\n\t\t\t\t\t'#484a47',\r\n\t\t\t\t\t'#a37774',\r\n\t\t\t\t\t'#e88873',\r\n\t\t\t\t\t'#e0ac9d',\r\n\t\t\t\t\t'#7ebdc2',\r\n\t\t\t\t\t'#f3dfa2',\r\n\t\t\t\t\t'#efe6dd',\r\n\t\t\t\t\t],\r\n\t\t\t\thoverBackgroundColor: [\r\n\t\t\t\t\t'#FF6384',\r\n\t\t\t\t\t'#36A2EB',\r\n\t\t\t\t\t'#FFCE56',\r\n\t\t\t\t\t'#484a47',\r\n\t\t\t\t\t'#a37774',\r\n\t\t\t\t\t'#e88873',\r\n\t\t\t\t\t'#e0ac9d',\r\n\t\t\t\t\t'#7ebdc2',\r\n\t\t\t\t\t'#f3dfa2',\r\n\t\t\t\t\t'#efe6dd',\r\n\t\t\t\t]\r\n\t\t\t}],\r\n\t\t\tlabels: labels,\r\n\t\t}\r\n\t\treturn pieData;\r\n\t}\r\n\t\r\n\trender() {\r\n\t\tif(this.state.data === null) {\r\n\t\t\treturn (\r\n\t\t\t\t<div> </div>\r\n\t\t\t);\r\n\t\t}\r\n\t\treturn (\r\n\t\t\t<Container fluid>\r\n\t\t\t\t{this.state.editing \r\n\t\t\t\t\t?\r\n\t\t\t\t\t\t<Modal size = \"lg\" show = {this.state.editing} onHide = {this.closeEditModal.bind(this)}>\r\n\t\t\t\t\t\t\t<Modal.Header closeButton>\r\n\t\t\t\t\t\t\t\t<Modal.Title as = \"h5\"> Edit {this.state.goalEditing} Goal </Modal.Title>\r\n\t\t\t\t\t\t\t</Modal.Header>\r\n\t\t\t\t\t\t\t<Modal.Body>\r\n\t\t\t\t\t\t\t{!this.state.editingData.deletable\r\n\t\t\t\t\t\t\t?\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t{this.state.editingData.fieldOrder.map((field) => {\r\n\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t<ListGroup horizontal>\r\n\t\t\t\t\t\t\t\t\t\t\t<ListGroup.Item style = {{width: \"50%\"}}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{field}\r\n\t\t\t\t\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t<ListGroup.Item style = {{width: \"50%\"}}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tas = \"input\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tautoComplete = \"off\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname = {field}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue = {this.state.editingData.Fields[field]}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange = {(e) => {this.onChangeEdit(e)}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t</ListGroup>\r\n\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t:\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t{this.state.editingData.fieldOrder.map((field) => {\r\n\t\t\t\t\t\t\t\t\tif(field === \"Type\") {\r\n\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t<ListGroup horizontal>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<ListGroup.Item style = {{width: \"50%\"}}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{field}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<ListGroup.Item style = {{width: \"50%\"}}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Control \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tas = \"select\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tname = {field}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue = {this.state.editingData.Fields[field]}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange = {(e) => {this.onChangeEdit(e)}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled = {true}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option  value = \"\" selected disabled hidden> Select </option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{this.props.data.metaData.entryTypes.map((entry) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif(this.state.goalEditing === entry.Category) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option value = {entry.Type}> {entry.Type} </option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Form.Control>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t</ListGroup>\r\n\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\telse if (field === \"Name\") {\r\n\t\t\t\t\t\t\t\t\t\tvar nameList = [];\r\n\t\t\t\t\t\t\t\t\t\tfor(var i = 0; i < this.state.data.entryNames.length ; i++) {\r\n\t\t\t\t\t\t\t\t\t\t\tvar nameData = this.state.data.entryNames[i];\r\n\t\t\t\t\t\t\t\t\t\t\tif(this.state.goalEditing === nameData.Category && this.state.editingData.Fields.Type === nameData.Type) {\r\n\t\t\t\t\t\t\t\t\t\t\t\tnameList.push(nameData.Name);\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t<ListGroup horizontal>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<ListGroup.Item style = {{width: \"50%\"}}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{field}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<ListGroup.Item style = {{width: \"50%\"}}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<InputGroup>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tas = \"input\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tautoComplete = \"off\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname = {field}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue = {this.state.editingData.Fields[field]}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange = {(e) => {this.onChangeEdit(e)}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Dropdown show = {this.state.nameMenuShow} as = {InputGroup.Prepend} onToggle = {this.onClickRootClose.bind(this)}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Dropdown.Toggle variant = \"outline-secondary\" eventKey = \"00\"> </Dropdown.Toggle>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Dropdown.Menu rootCloseEvent = \"click\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{nameList.map((name) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Dropdown.Item onSelect = {this.onSelectName.bind(this, name)} >\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{name}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Dropdown.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Dropdown.Menu>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Dropdown> \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</InputGroup> \r\n\t\t\t\t\t\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t</ListGroup>\r\n\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t<ListGroup horizontal>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<ListGroup.Item style = {{width: \"50%\"}}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{field}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<ListGroup.Item style = {{width: \"50%\"}}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tas = \"input\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tautoComplete = \"off\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tname = {field}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue = {this.state.editingData.Fields[field]}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange = {(e) => {this.onChangeEdit(e)}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t</ListGroup>\r\n\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t</Modal.Body>\r\n\t\t\t\t\t\t\t<Modal.Footer>\r\n\t\t\t\t\t\t\t\t{this.state.invalidFields \r\n\t\t\t\t\t\t\t\t\t?\r\n\t\t\t\t\t\t\t\t\t\t<Alert show = {this.state.invalidFields} variant = \"danger\" onClose = {this.hideAlert.bind(this)} dismissible>\r\n\t\t\t\t\t\t\t\t\t\t\t<p> {this.state.alertMessage} </p>\r\n\t\t\t\t\t\t\t\t\t\t</Alert>\r\n\t\t\t\t\t\t\t\t\t:\r\n\t\t\t\t\t\t\t\t\t\t<div> </div>\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t<Button variant = \"secondary\" onClick = {this.closeEditModal.bind(this)}> Close </Button>\r\n\t\t\t\t\t\t\t\t<Button variant = \"primary\" onClick = {this.onClickSaveEdit.bind(this)}> Save </Button>\r\n\t\t\t\t\t\t\t</Modal.Footer>\r\n\t\t\t\t\t\t</Modal>\r\n\t\t\t\t\t:\r\n\t\t\t\t\t<div> </div>\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t{this.state.adding \r\n\t\t\t\t\t?\r\n\t\t\t\t\t\t<Modal size = \"lg\" show = {this.state.adding} onHide = {this.closeAddModal.bind(this)}>\r\n\t\t\t\t\t\t\t<Modal.Header closeButton>\r\n\t\t\t\t\t\t\t\t<Modal.Title as = \"h5\"> Add {this.state.goalAdding} Goal </Modal.Title>\r\n\t\t\t\t\t\t\t</Modal.Header>\r\n\t\t\t\t\t\t\t<Modal.Body>\r\n\t\t\t\t\t\t\t{this.state.goalAdding !== \"Diet\" && this.state.goalAdding !== \"Body\"\r\n\t\t\t\t\t\t\t?\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t{Object.keys(this.state.addingData.Fields).map((field) => {\r\n\t\t\t\t\t\t\t\t\tif(field === \"Type\") {\r\n\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t<ListGroup horizontal>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<ListGroup.Item style = {{width: \"50%\"}}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{field} \r\n\t\t\t\t\t\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<ListGroup.Item style = {{width: \"50%\"}}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Control \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tas = \"select\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tname = {field}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue = {this.state.addingData.Fields[field]}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange = {(e) => {this.onChangeAdd(e)}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option  value = \"\" selected disabled hidden> Select </option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{this.props.data.metaData.entryTypes.map((entry) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif(this.state.goalAdding === entry.Category) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option value = {entry.Type}> {entry.Type} </option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Form.Control>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t</ListGroup>\r\n\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\telse if (field === \"Name\") {\r\n\t\t\t\t\t\t\t\t\t\tvar nameList = [];\r\n\t\t\t\t\t\t\t\t\t\tfor(var i = 0; i < this.state.data.entryNames.length ; i++) {\r\n\t\t\t\t\t\t\t\t\t\t\tvar nameData = this.state.data.entryNames[i];\r\n\t\t\t\t\t\t\t\t\t\t\tif(this.state.goalAdding === nameData.Category && this.state.addingData.Fields.Type === nameData.Type) {\r\n\t\t\t\t\t\t\t\t\t\t\t\tnameList.push(nameData.Name);\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t<ListGroup horizontal>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<ListGroup.Item style = {{width: \"50%\"}}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{field}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<ListGroup.Item style = {{width: \"50%\"}}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<InputGroup>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tas = \"input\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tautoComplete = \"off\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname = {field}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue = {this.state.addingData.Fields[field]}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange = {(e) => {this.onChangeAdd(e)}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Dropdown show = {this.state.nameMenuShow} as = {InputGroup.Prepend} onToggle = {this.onClickRootClose.bind(this)}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Dropdown.Toggle variant = \"outline-secondary\" eventKey = \"00\"> </Dropdown.Toggle>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Dropdown.Menu rootCloseEvent = \"click\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{nameList.map((name) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Dropdown.Item onSelect = {this.onSelectName.bind(this, name)} >\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{name}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Dropdown.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Dropdown.Menu>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Dropdown> \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</InputGroup> \r\n\t\t\t\t\t\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t</ListGroup>\r\n\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t<ListGroup horizontal>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<ListGroup.Item style = {{width: \"50%\"}}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{field}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<ListGroup.Item style = {{width: \"50%\"}}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tas = \"input\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tname = {field}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue = {this.state.addingData.Fields[field]}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange = {(e) => {this.onChangeAdd(e)}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t</ListGroup>\r\n\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t:\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t{Object.keys(this.state.addingData.Fields).map((field) => {\r\n\t\t\t\t\t\t\t\t\tif(field === \"Type\") {\r\n\t\t\t\t\t\t\t\t\t\tvar toolTip = <Tooltip> The default {this.state.goalAdding} fields cannot be edited, deleted, or added. If you want to add additional {this.state.goalAdding} goals, \r\n\t\t\t\t\t\t\t\t\t\t\tthen add a new Type under the Customize Data tab in your Profile page. </Tooltip>\r\n\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t<ListGroup horizontal>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<ListGroup.Item style = {{width: \"50%\"}}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{field}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<OverlayTrigger\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tplacement = \"right\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdelay = {{ show: 250, hide: 400 }}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\toverlay = {toolTip}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button variant = \"light\" size = \"sm\" style = {{marginLeft: \"1.5%\"}}> ℹ️ </Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</OverlayTrigger>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<ListGroup.Item style = {{width: \"50%\"}}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Control \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tas = \"select\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tname = {field}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue = {this.state.addingData.Fields[field]}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange = {(e) => {this.onChangeAdd(e)}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option  value = \"\" selected disabled hidden> Select </option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{this.props.data.metaData.entryTypes.map((entry) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif(this.state.goalAdding === entry.Category && !this.state.data.metaData.nonDeletableGoalFields.includes(entry.Type)) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option value = {entry.Type}> {entry.Type} </option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Form.Control>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t</ListGroup>\r\n\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\telse if (field === \"Name\") {\r\n\t\t\t\t\t\t\t\t\t\tvar nameList = [];\r\n\t\t\t\t\t\t\t\t\t\tfor(var i = 0; i < this.state.data.entryNames.length ; i++) {\r\n\t\t\t\t\t\t\t\t\t\t\tvar nameData = this.state.data.entryNames[i];\r\n\t\t\t\t\t\t\t\t\t\t\tif(this.state.goalAdding === nameData.Category && this.state.addingData.Fields.Type === nameData.Type) {\r\n\t\t\t\t\t\t\t\t\t\t\t\tnameList.push(nameData.Name);\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t<ListGroup horizontal>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<ListGroup.Item style = {{width: \"50%\"}}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{field}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<ListGroup.Item style = {{width: \"50%\"}}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<InputGroup>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tas = \"input\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tautoComplete = \"off\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname = {field}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue = {this.state.addingData.Fields[field]}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange = {(e) => {this.onChangeAdd(e)}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Dropdown show = {this.state.nameMenuShow} as = {InputGroup.Prepend} onToggle = {this.onClickRootClose.bind(this)}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Dropdown.Toggle variant = \"outline-secondary\" eventKey = \"00\"> </Dropdown.Toggle>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Dropdown.Menu rootCloseEvent = \"click\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{nameList.map((name) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Dropdown.Item onSelect = {this.onSelectName.bind(this, name)} >\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{name}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Dropdown.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Dropdown.Menu>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Dropdown> \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</InputGroup> \r\n\t\t\t\t\t\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t</ListGroup>\r\n\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t<ListGroup horizontal>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<ListGroup.Item style = {{width: \"50%\"}}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{field}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<ListGroup.Item style = {{width: \"50%\"}}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tas = \"input\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tname = {field}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue = {this.state.addingData.Fields[field]}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange = {(e) => {this.onChangeAdd(e)}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t</ListGroup>\r\n\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t</Modal.Body>\r\n\t\t\t\t\t\t\t<Modal.Footer>\r\n\t\t\t\t\t\t\t\t{this.state.invalidFields \r\n\t\t\t\t\t\t\t\t\t?\r\n\t\t\t\t\t\t\t\t\t\t<Alert show = {this.state.invalidFields} variant = \"danger\" onClose = {this.hideAlert.bind(this)} dismissible>\r\n\t\t\t\t\t\t\t\t\t\t\t<p> {this.state.alertMessage} </p>\r\n\t\t\t\t\t\t\t\t\t\t</Alert>\r\n\t\t\t\t\t\t\t\t\t:\r\n\t\t\t\t\t\t\t\t\t\t<div> </div>\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t<Button variant = \"secondary\" onClick = {this.closeAddModal.bind(this)}> Close </Button>\r\n\t\t\t\t\t\t\t\t<Button variant = \"primary\" onClick = {this.onClickSaveAdd.bind(this)}> Save </Button>\r\n\t\t\t\t\t\t\t</Modal.Footer>\r\n\t\t\t\t\t\t</Modal>\r\n\t\t\t\t\t:\r\n\t\t\t\t\t\t<div> </div>\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t{this.state.data.metaData.categories.map((category) => {\r\n\t\t\t\tvar lastUpdated = \"\";\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<Card>\r\n\t\t\t\t\t\t\t<Card.Body>\r\n\t\t\t\t\t\t\t\t<Card.Title> \r\n\t\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t\t{category} Goals \r\n\t\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t\t<Button variant = \"primary\" style = {{float: \"right\"}} onClick = {this.openAddModal.bind(this, category)}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t+\r\n\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t</Card.Title>\r\n\t\t\t\t\t\t\t\t<Card.Text>\r\n\t\t\t\t\t\t\t\t{this.state.data.goals.map((goal, goalIndex) => {\r\n\t\t\t\t\t\t\t\t\tvar pieData = this.constructPieData(goal.Fields);\r\n\t\t\t\t\t\t\t\t\tif(goal[\"Goal Type\"] === category) {\r\n\t\t\t\t\t\t\t\t\t\tif(goal.lastUpdated !== \"\") {\r\n\t\t\t\t\t\t\t\t\t\t\tif(lastUpdated === \"\") {\r\n\t\t\t\t\t\t\t\t\t\t\t\tlastUpdated = new Date(goal.lastUpdated);\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\t\t\t\t\t\tif(new Date(lastUpdated).getTime() < new Date(goal.lastUpdated).getTime()) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tlastUpdated = new Date(goal.lastUpdated).toLocaleString();\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\treturn <div>\r\n\t\t\t\t\t\t\t\t\t\t<Row> \r\n\t\t\t\t\t\t\t\t\t\t\t<Col sm = {6}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{goal.fieldOrder.map((field) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ListGroup horizontal>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ListGroup.Item style = {{width: \"50%\"}} variant = \"primary\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{field}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ListGroup.Item style = {{width: \"50%\"}}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{goal.Fields[field]}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</ListGroup>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Row style = {{marginTop: \"1%\"}}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button variant = \"light\" \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle = {{float: \"left\", margin: \"1%\", backgroundColor: \"#E0E0E0\"}} \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick = {this.openEditModal.bind(this, category, goalIndex)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t> \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t✏️ \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{goal.deletable\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t?\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button variant = \"light\" style = {{float: \"left\", margin: \"1%\", backgroundColor: \"#E0E0E0\"}} onClick = {this.deleteGoal.bind(this, goalIndex)}> 🗑️ </Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t:\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div> </div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t<Col sm = {6}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Card>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Card.Body>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Card.Title> {category} Analysis </Card.Title>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Card.Text>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Pie data = {pieData} options={{ maintainAspectRatio: false }}/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Card.Text>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Card.Body>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<hr style = {{border: \"1px solid #DCDCDC\"}} />\r\n\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t</Card.Text>\r\n\t\t\t\t\t\t\t</Card.Body>\r\n\t\t\t\t\t\t\t<Card.Footer>\r\n\t\t\t\t\t\t\t\t<small className=\"text-muted\"> Last Updated: {lastUpdated.toLocaleString()}</small>\r\n\t\t\t\t\t\t\t</Card.Footer>\r\n\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t  )\r\n\t\t\t  })}\r\n\t\t\t</Container>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default Goals;","import React, { Component } from 'react';\r\nimport axios from 'axios';\r\nimport '../td-css/TrainingDiary.css';\r\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\r\nimport Loader from 'react-loader-spinner';\r\nimport Container from 'react-bootstrap/Container';\r\nimport Row from 'react-bootstrap/Row';\r\nimport Col from 'react-bootstrap/Col';\r\nimport Button from 'react-bootstrap/Button';\r\nimport ButtonGroup from 'react-bootstrap/ButtonGroup';\r\nimport ToggleButton from 'react-bootstrap/ToggleButton';\r\nimport Tabs from 'react-bootstrap/Tabs';\r\nimport TabContent from 'react-bootstrap/TabContent';\r\nimport Tab from 'react-bootstrap/Tab';\r\nimport Calendar from './Calendar.js';\r\nimport Graph from './Graph.js';\r\nimport DataList from './DataList.js';\r\nimport Goals from './Goals.js';\r\nimport { BrowserRouter as Router, Link } from 'react-router-dom';\r\nimport Navbar from 'react-bootstrap/Navbar';\r\nimport Nav from 'react-bootstrap/Nav';\r\n//import TrackExercises from './TrackExercises.js';\r\n//PROPS: \r\n\t//data \r\n\t//logout()\r\n\t//saveData()\r\n\t//addModalShow\r\n\t//isSaving\r\n\t//toggleSaveBar()\r\n\t//toggleAddModal()\r\nclass TrainingDiary extends Component {\r\n\t\r\n\tstate = {\r\n\t\tdata: null,\r\n\t\tactiveTab: \"calendar\",\r\n\t} \r\n\t\r\n\t/* COMPONENT MOUNTING AND UPDATING METHODS */\r\n\t\r\n\tcomponentDidMount = () => {\r\n\t\tthis.setState({data: this.props.data});\r\n\t}\r\n\t\r\n\t/* GENERAL COMPONENT METHODS */ \r\n\t\r\n\t//toggles which tab is selected and rendered\r\n\ttoggleTabs = (tab) => {\r\n\t\tthis.setState({activeTab: tab});\r\n\t}\r\n\t\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<Navbar fluid collapseOnSelect expand = \"md\" bg = \"light\" style = {{marginBottom: \"1%\"}}>\r\n\t\t\t\t\t<Navbar.Brand href = \"/\"> Training Diary </Navbar.Brand>\r\n\t\t\t\t\t<Navbar.Toggle aria-controls = \"responsive-navbar-nav\" />\r\n\t\t\t\t\t<Navbar.Collapse id = \"responsive-navbar-nav\">\r\n\t\t\t\t\t\t<Nav className = \"mr-auto\">\r\n\t\t\t\t\t\t</Nav>\r\n\t\t\t\t\t\t<Nav className = \"justify-content-end\">\r\n\t\t\t\t\t\t\t<Button variant = \"light\" href = \"/profile\" className = \"td-header-button\"> Profile </Button> \r\n\t\t\t\t\t\t\t<Button variant = \"light\" onClick = {this.props.logout} className = \"td-header-button\"> Logout </Button>\r\n\t\t\t\t\t\t</Nav>\r\n\t\t\t\t\t</Navbar.Collapse>\r\n\t\t\t\t</Navbar>\r\n\t\t\t\t<Container fluid>\r\n\t\t\t\t\t{/* row 1: header, settings Button, logout Button*/}\r\n\r\n\t\t\t\t\t{/*\r\n\t\t\t\t\t\t<Col xs = {8}>\r\n\t\t\t\t\t\t\t<h3> Training Diary </h3>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t<Col xs = {4}>\r\n\t\t\t\t\t\t\t<Button variant = \"primary\" onClick = {this.props.logout} className = \"td-header-button\"> Logout </Button>\r\n\t\t\t\t\t\t\t<Button variant = \"primary\" href = \"/profile\" className = \"td-header-button\"> Profile </Button> \r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t*/}\r\n\t\t\t\t\t\r\n\t\t\t\t\t{/* row 2: Tabs */}\r\n\t\t\t\t\t<Row style = {{height: \"75vh\"}}>\r\n\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t<Tabs activeKey = {this.state.activeTab} onSelect = {(tab) => {this.toggleTabs(tab)}}>\r\n\t\t\t\t\t\t\t\t\t<Tab eventKey = \"graph\" title = \"Graph 📉\">\r\n\t\t\t\t\t\t\t\t\t\t{this.state.activeTab !== \"graph\"\r\n\t\t\t\t\t\t\t\t\t\t?\r\n\t\t\t\t\t\t\t\t\t\t<div> </div>\r\n\t\t\t\t\t\t\t\t\t\t:\r\n\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t\t\t\t\t\t<Graph data = {this.props.data} />\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t</Tab>\r\n\t\t\t\t\t\t\t\t\t<Tab eventKey = \"calendar\" title = \"Calendar 📅\">\r\n\t\t\t\t\t\t\t\t\t\t{this.state.activeTab !== \"calendar\"\r\n\t\t\t\t\t\t\t\t\t\t?\r\n\t\t\t\t\t\t\t\t\t\t<div> </div>\r\n\t\t\t\t\t\t\t\t\t\t:\r\n\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t\t\t\t\t\t<Calendar \r\n\t\t\t\t\t\t\t\t\t\t\t\tdata = {this.props.data} \r\n\t\t\t\t\t\t\t\t\t\t\t\tsaveData = {this.props.saveData}\r\n\t\t\t\t\t\t\t\t\t\t\t\taddModalShow = {this.props.addModalShow}\r\n\t\t\t\t\t\t\t\t\t\t\t\teditModalShow = {this.props.editModalShow}\r\n\t\t\t\t\t\t\t\t\t\t\t\tisSaving = {this.props.isSaving}\r\n\t\t\t\t\t\t\t\t\t\t\t\ttoggleAddModal = {this.props.toggleAddModal}\r\n\t\t\t\t\t\t\t\t\t\t\t\ttoggleEditModal = {this.props.toggleEditModal}\r\n\t\t\t\t\t\t\t\t\t\t\t\ttoggleSaveBar = {this.props.toggleSaveBar}\r\n\t\t\t\t\t\t\t\t\t\t\t\tdataToEdit = {this.props.dataToEdit}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t</Tab>\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t<Tab eventKey = \"dataList\" title = \"Data-List 📝\">\r\n\t\t\t\t\t\t\t\t\t\t{this.state.activeTab !== \"dataList\"\r\n\t\t\t\t\t\t\t\t\t\t?\r\n\t\t\t\t\t\t\t\t\t\t<div> </div>\r\n\t\t\t\t\t\t\t\t\t\t:\r\n\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t<br/> \r\n\t\t\t\t\t\t\t\t\t\t\t<DataList \r\n\t\t\t\t\t\t\t\t\t\t\t\tdata = {this.props.data} \r\n\t\t\t\t\t\t\t\t\t\t\t\tsaveData = {this.props.saveData}\r\n\t\t\t\t\t\t\t\t\t\t\t\taddModalShow = {this.props.addModalShow}\r\n\t\t\t\t\t\t\t\t\t\t\t\teditModalShow = {this.props.editModalShow}\r\n\t\t\t\t\t\t\t\t\t\t\t\tisSaving = {this.props.isSaving}\r\n\t\t\t\t\t\t\t\t\t\t\t\ttoggleAddModal = {this.props.toggleAddModal}\r\n\t\t\t\t\t\t\t\t\t\t\t\ttoggleEditModal = {this.props.toggleEditModal}\r\n\t\t\t\t\t\t\t\t\t\t\t\ttoggleSaveBar = {this.props.toggleSaveBar}\r\n\t\t\t\t\t\t\t\t\t\t\t\tdataToEdit = {this.props.dataToEdit}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t</Tab>\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t<Tab eventKey = \"goals\" title = \"Goals 🎯\">\r\n\t\t\t\t\t\t\t\t\t\t{this.state.activeTab !== \"goals\"\r\n\t\t\t\t\t\t\t\t\t\t?\r\n\t\t\t\t\t\t\t\t\t\t<div> </div>\r\n\t\t\t\t\t\t\t\t\t\t:\r\n\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t\t\t\t\t\t<Goals \r\n\t\t\t\t\t\t\t\t\t\t\t\tdata = {this.props.data} \r\n\t\t\t\t\t\t\t\t\t\t\t\tsaveData = {this.props.saveData}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t</Tab>\r\n\t\t\t\t\t\t\t\t</Tabs>\r\n\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t</Row>\r\n\t\t\t\t</Container>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default TrainingDiary;","import React, { Component } from 'react';\r\nimport Container from 'react-bootstrap/Container';\r\nimport Row from 'react-bootstrap/Row';\r\nimport Col from 'react-bootstrap/Col';\r\nimport Button from 'react-bootstrap/Button';\r\nimport Card from 'react-bootstrap/Card';\r\nimport ListGroup from 'react-bootstrap/ListGroup';\r\nimport Tabs from 'react-bootstrap/Tabs';\r\nimport TabContent from 'react-bootstrap/TabContent';\r\nimport Tab from 'react-bootstrap/Tab';\r\nimport Form from 'react-bootstrap/Form';\r\nimport DatePicker from \"react-datepicker\";\r\nimport subDays from \"date-fns/subDays\";\r\nimport subYears from \"date-fns/subYears\";\r\nimport \"react-datepicker/dist/react-datepicker.css\"\r\nimport Spinner from 'react-bootstrap/Spinner';\r\nimport Modal from \"react-bootstrap/Modal\";\r\nimport Dropdown from 'react-bootstrap/Dropdown';\r\nimport InputGroup from 'react-bootstrap/InputGroup';\r\nimport Alert from 'react-bootstrap/Alert';\r\nimport Navbar from 'react-bootstrap/Navbar';\r\nimport Nav from 'react-bootstrap/Nav';\r\n\r\nclass Profile extends Component {\r\n\t\r\n\tstate = {\r\n\t\tdata: null,\r\n\t\tvalidated: false,\r\n\t\tusername: \"\",\r\n\t\temail: \"\",\r\n\t\tbirthday: null,\r\n\t\toldPassword: \"\",\r\n\t\tnewPassword: \"\",\r\n\t\tconfirmNewPassword: \"\",\r\n\t\tsaving: false,\r\n\t\tshowModal: false,\r\n\t\tshowEditModal: false,\r\n\t\teditModalData: {},\r\n\t\taddModalData: {},\r\n\t\tfields: [],\r\n\t\tcategoryMenuShow: false,\r\n\t\tshowAlert: false,\r\n\t\talertMessage: \"\",\r\n\t\tentryTypeIndex: -1\r\n\t}\r\n\t\r\n\tcomponentDidMount = () => {\r\n\t\tthis.setState({data: this.props.data, username: this.props.data._id, email: this.props.data.email, birthday: new Date(this.props.data.birthday)});\r\n\t}\r\n\t\r\n\tonChangeAccountInfo = (e) => {\r\n\t\tvar name = [e.target.name][0];\r\n\t\tvar value = e.target.value;\r\n\t\tthis.setState({[name]: value});\r\n\t}\r\n\t\r\n\tonSelectBirthday = (date) => {\r\n\t\tthis.setState({birthday: date});\r\n\t}\r\n\t\r\n\thandleInfoSubmit = async (e) => {\r\n\t\tconst form = e.currentTarget;\r\n\t\tif(form.checkValidity() === false) {\r\n\t\t\te.preventDefault();\r\n\t\t\te.stopPropagation();\r\n\t\t}\r\n\t\tthis.setState({validated: true});\r\n\t\tvar requestBody = {};\r\n\t\tvar username = this.state.username.trim();\r\n\t\te.preventDefault();\r\n\t\tif(this.state.username.trim().length === 0 || this.state.email.trim().length === 0 || this.state.birthday === null) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif(this.state.username.trim() !== this.props.data._id) {\r\n\t\t\trequestBody._id = this.state.username.trim();\r\n\t\t\tusername = this.props.data._id;\r\n\t\t}\r\n\t\tif(this.state.email.trim() !== this.props.data.email) {\r\n\t\t\trequestBody.email = this.state.email.trim();\r\n\t\t}\r\n\t\tif(new Date(this.state.birthday).getTime() !== new Date(this.props.data.birthday).getTime()) {\r\n\t\t\trequestBody.birthday = this.state.birthday;\r\n\t\t}\r\n\t\tif(Object.keys(requestBody).length === 0) {\r\n\t\t\talert(\"You did not make any changes\");\r\n\t\t\tthis.setState({validated: false});\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tthis.props.toggleSaving();\r\n\t\t//var requestBody = {prevUsername: this.props.data._id, prevEmail: this.props.data.email, newUsername: this.state.username, newEmail: this.state.email, birthday: this.state.birthday};\r\n\t\tvar dataCopy = JSON.parse(JSON.stringify(this.props.data));\r\n\t\tdataCopy._id = this.state.username;\r\n\t\tdataCopy.email = this.state.email;\r\n\t\tdataCopy.birthday = this.state.birthday;\r\n\t\tawait this.props.changeUsernameAndEmail(requestBody, dataCopy, this.props.token, username);\r\n\t\tthis.setState({validated: false});\r\n\t}\r\n\t\r\n\thandlePasswordSubmit = async (e) => {\r\n\t\tconst form = e.currentTarget;\r\n\t\tif(form.checkValidity() === false) {\r\n\t\t\te.preventDefault();\r\n\t\t\te.stopPropagation();\r\n\t\t}\r\n\t\tthis.setState({validated: true});\r\n\t\te.preventDefault();\r\n\t\tif(this.state.oldPassword.trim().length === 0 || this.state.newPassword.trim().length === 0 || this.state.confirmNewPassword.trim().length === 0) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif(this.state.newPassword !== this.state.confirmNewPassword) {\r\n\t\t\talert(\"Cannot proceed -- New password does not match confirmation password\");\r\n\t\t\tthis.setState({validated: false});\r\n\t\t\treturn; \r\n\t\t}\r\n\t\tif(this.state.newPassword === this.state.oldPassword) {\r\n\t\t\talert(\"Cannot proceed -- New password is the same as the old password\");\r\n\t\t\tthis.setState({validated: false});\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tthis.props.toggleSaving();\r\n\t\tvar requestBody = {oldPassword: this.state.oldPassword, newPassword: this.state.newPassword}\r\n\t\tvar dataCopy = JSON.parse(JSON.stringify(this.props.data));\r\n\t\tawait this.props.changePassword(requestBody, dataCopy, this.props.token);\r\n\t\tthis.forceUpdate();\r\n\t\tthis.setState({validated: false});\r\n\t}\r\n\t\r\n\tresetFields = () => {\r\n\t\tthis.setState({validated: false, oldPassword: \"\", newPassword: \"\", confirmNewPassword: \"\", username: this.props.data._id, email: this.props.data.email, birthday: new Date(this.props.data.birthday)});\r\n\t}\r\n\t\r\n\topenEditModal = async (index) => {\r\n\t\tvar editData = {};\r\n\t\tvar fields = [];\r\n\t\tconst entryType = this.props.data.metaData.entryTypes[index];\r\n\t\teditData.Category = entryType.Category;\r\n\t\teditData.Type = entryType.Type;\r\n\t\teditData.Notes = \"string\";\r\n\t\tfor(var i = 0; i < entryType.displayOrder.length; i++) {\r\n\t\t\tvar key = entryType.displayOrder[i];\r\n\t\t\tif(key !== \"Category\" && key !== \"Type\" && key !== \"Notes\") {\r\n\t\t\t\tfields.push({fieldName: key, dataType: entryType[key]});\r\n\t\t\t}\r\n\t\t}\r\n\t\tawait this.setState({showEditModal: true, editModalData: editData, fields: fields, entryTypeIndex: index});\r\n\t}\r\n\t\r\n\tcloseEditModal = async () => {\r\n\t\tawait this.setState({showEditModal: false, editModalData: {}, fields: [], entryTypeIndex: -1});\r\n\t\tthis.hideAlert();\r\n\t}\r\n\t\r\n\tonChangeEditModal = (e) => {\r\n\t\tvar name = [e.target.name][0];\r\n\t\tvar value = e.target.value;\r\n\t\tvar copy = JSON.parse(JSON.stringify(this.state.editModalData));\r\n\t\tcopy[name] = value;\r\n\t\tthis.setState({editModalData: copy});\r\n\t}\r\n\t\r\n\topenAddModal = async () => {\r\n\t\tconst newData = {Category: \"\", Type: \"\", Notes: \"string\"};\r\n\t\tawait this.setState({showModal: true, addModalData: newData});\r\n\t}\r\n\t\r\n\tcloseAddModal = () => {\r\n\t\tthis.setState({addModalData: {}, fields: [], showModal: false});\r\n\t\tthis.hideAlert();\r\n\t}\r\n\t\r\n\tonChangeAddModal = (e) => {\r\n\t\tvar name = [e.target.name][0];\r\n\t\tvar value = e.target.value;\r\n\t\tvar copy = JSON.parse(JSON.stringify(this.state.addModalData));\r\n\t\tif(name === \"Category\") {\r\n\t\t\tthis.showCategoryList(value);\r\n\t\t}\r\n\t\tcopy[name] = value;\r\n\t\tthis.setState({addModalData: copy});\r\n\t}\r\n\t\r\n\tonSelectDropdown = (key, value) => {\r\n\t\tvar copy = JSON.parse(JSON.stringify(this.state.addModalData));\r\n\t\tcopy[key] = value;\r\n\t\tthis.setState({addModalData: copy});\r\n\t}\r\n\t\r\n\tonClickRootCloseCategory = () => {\r\n\t\tif(this.state.categoryMenuShow) {\r\n\t\t\tthis.setState({categoryMenuShow: false});\r\n\t\t}\r\n\t\telse {\r\n\t\t\tthis.setState({categoryMenuShow: true});\r\n\t\t}\r\n\t}\r\n\t\r\n\tshowCategoryList = (categorySearch) => {\r\n\t\tif(categorySearch.length === 0) {\r\n\t\t\tthis.setState({categoryMenuShow: false});\r\n\t\t}\r\n\t\telse {\r\n\t\t\tthis.setState({categoryMenuShow: true});\r\n\t\t}\r\n\t}\r\n\t\r\n\taddField = () => {\r\n\t\tvar newField = {fieldName: \"\", dataType: \"\"};\r\n\t\tvar copy = this.state.fields.slice();\r\n\t\tcopy.push(newField);\r\n\t\tthis.setState({fields: copy});\r\n\t}\r\n\t\r\n\tonChangeField = (e, index) => {\r\n\t\tvar name = [e.target.name][0];\r\n\t\tvar value = e.target.value;\r\n\t\tvar copy = this.state.fields.slice();\r\n\t\tcopy[index][name] = value;\r\n\t\tthis.setState({fields: copy});\r\n\t}\r\n\t\r\n\ttypeExists = (category, type) => {\r\n\t\tfor(var i = 0; i < this.props.data.metaData.entryTypes.length; i++) {\r\n\t\t\tvar entry = this.props.data.metaData.entryTypes[i];\r\n\t\t\tif(entry.Category === category && entry.Type === type) {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n\t\r\n\tvalidateFields = () => {\r\n\t\tvar defaultKeys = Object.keys(this.state.addModalData);\r\n\t\tvar fieldNames = [];\r\n\t\tif(Object.keys(this.state.addModalData).length === 0) {\r\n\t\t\tthis.showAlert(\"Cannot add new data, you're missing some required fields!\");\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\tfor(var key in this.state.addModalData) {\r\n\t\t\tif(this.state.addModalData[key].toString().trim().length === 0) {\r\n\t\t\t\tthis.showAlert(\"Cannot add new data, you're missing some required fields!\");\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t}\r\n\t\tfor(var i = 0; i < this.state.fields.length; i++) {\r\n\t\t\tvar newField = this.state.fields[i];\r\n\t\t\tfieldNames.push(newField.fieldName);\r\n\t\t\tfor(var key in newField) {\r\n\t\t\t\tif(newField[key].toString().trim().length === 0) {\r\n\t\t\t\t\tthis.showAlert(\"Cannot add new data, you're missing some required fields!\");\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tif(this.typeExists(this.state.addModalData.Category.trim(), this.state.addModalData.Type.trim())) {\r\n\t\t\tthis.showAlert(\"Cannot add new data -- \" + \"'\" + this.state.addModalData.Type + \"'\" +\r\n\t\t\t\" already exists under \" + \"'\" + this.state.addModalData.Category + \"'\" + \"!\");\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\tfor(var i = 0; i < this.state.fields.length; i++) {\r\n\t\t\tvar newField = this.state.fields[i];\r\n\t\t\tfor(var key in newField) {\r\n\t\t\t\tif(defaultKeys.includes(newField[key].toString().trim())) {\r\n\t\t\t\t\tthis.showAlert(\"Cannot add new data -- \" + \"the name \" + \"'\" + newField[key].toString().trim() + \"' already exists\");\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tvar count = 0;\r\n\t\t\t\t\tfor(var x = 0; x < fieldNames.length; x++) {\r\n\t\t\t\t\t\tif(newField[key].toString().trim() === fieldNames[x].toString().trim()) {\r\n\t\t\t\t\t\t\tcount++;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(count > 1) {\r\n\t\t\t\t\t\tthis.showAlert(\"Cannot add new data -- \" + \"the name \" + \"'\" + newField[key].toString().trim() + \"' is a duplicate\");\r\n\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn true;\r\n\t}\r\n\t\r\n\tvalidateEditFields = () => {\r\n\t\tvar defaultKeys = Object.keys(this.state.editModalData);\r\n\t\tvar fieldNames = [];\r\n\t\tvar prev = this.props.data.metaData.entryTypes[this.state.entryTypeIndex];\r\n\t\tif(Object.keys(this.state.editModalData).length === 0) {\r\n\t\t\tthis.showAlert(\"Cannot edit data, you're missing some required fields!\");\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\tfor(var key in this.state.editModalData) {\r\n\t\t\tif(this.state.editModalData[key].toString().trim().length === 0) {\r\n\t\t\t\tthis.showAlert(\"Cannot edit data, you're missing some required fields!\");\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t}\r\n\t\tfor(var i = 0; i < this.state.fields.length; i++) {\r\n\t\t\tvar newField = this.state.fields[i];\r\n\t\t\tfieldNames.push(newField.fieldName);\r\n\t\t\tfor(var key in newField) {\r\n\t\t\t\tif(newField[key].toString().trim().length === 0) {\r\n\t\t\t\t\tthis.showAlert(\"Cannot edit data, you're missing some required fields!\");\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tif(this.typeExists(this.state.editModalData.Category.trim(), this.state.editModalData.Type.trim()) && prev.Type !== this.state.editModalData.Type.trim()) {\r\n\t\t\tthis.showAlert(\"Cannot edit data -- \" + \"'\" + this.state.editModalData.Type + \"'\" +\r\n\t\t\t\" already exists under \" + \"'\" + this.state.editModalData.Category + \"'\" + \"!\");\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\tfor(var i = 0; i < this.state.fields.length; i++) {\r\n\t\t\tvar newField = this.state.fields[i];\r\n\t\t\tfor(var key in newField) {\r\n\t\t\t\tif(defaultKeys.includes(newField[key].toString().trim())) {\r\n\t\t\t\t\tthis.showAlert(\"Cannot edit data -- \" + \"the name \" + \"'\" + newField[key] + \"' already exists\");\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tvar count = 0;\r\n\t\t\t\t\tfor(var x = 0; x < fieldNames.length; x++) {\r\n\t\t\t\t\t\tif(newField[key].toString().trim() === fieldNames[x].toString().trim()) {\r\n\t\t\t\t\t\t\tcount++;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(count > 1) {\r\n\t\t\t\t\t\tthis.showAlert(\"Cannot edit data -- \" + \"the name \" + \"'\" + newField[key].toString().trim() + \"' is a duplicate\");\r\n\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn true;\r\n\t}\r\n\t\r\n\tonClickSaveEdit = async () => {\r\n\t\tif(this.validateEditFields()) {\r\n\t\t\tvar dataCopy = JSON.parse(JSON.stringify(this.props.data));\r\n\t\t\tvar newData = {};\r\n\t\t\tvar displayOrder = [];\r\n\t\t\tnewData.Category = this.state.editModalData.Category.toString().trim();\r\n\t\t\tnewData.Type = this.state.editModalData.Type.toString().trim();\r\n\t\t\tfor(var i = 0; i < this.state.fields.length; i++) {\r\n\t\t\t\tvar newField = this.state.fields[i];\r\n\t\t\t\tvar fieldName = newField.fieldName.toString().trim();\r\n\t\t\t\tvar dataType = newField.dataType;\r\n\t\t\t\tnewData[fieldName] = dataType;\r\n\t\t\t}\r\n\t\t\tnewData.Notes = this.state.editModalData.Notes;\r\n\t\t\tdisplayOrder = Object.keys(newData);\r\n\t\t\tnewData.displayOrder = displayOrder;\r\n\t\t\tnewData.Date = \"string\";\r\n\t\t\tnewData.calculationType = \"none\";\r\n\t\t\tnewData.deletable = true;\r\n\t\t\tdataCopy.metaData.entryTypes[this.state.entryTypeIndex] = newData;\r\n\t\t\tawait this.props.saveData(dataCopy);\r\n\t\t\tthis.closeEditModal();\r\n\t\t\tthis.forceUpdate();\r\n\t\t}\r\n\t}\r\n\t\r\n\tonClickSave = async () => {\r\n\t\tif(this.validateFields()) {\r\n\t\t\tvar dataCopy = JSON.parse(JSON.stringify(this.props.data));\r\n\t\t\tvar newData = {};\r\n\t\t\tvar displayOrder = [];\r\n\t\t\tnewData.Category = this.state.addModalData.Category.toString().trim();\r\n\t\t\tnewData.Type = this.state.addModalData.Type.toString().trim();\r\n\t\t\tfor(var i = 0; i < this.state.fields.length; i++) {\r\n\t\t\t\tvar newField = this.state.fields[i];\r\n\t\t\t\tvar fieldName = newField.fieldName.toString().trim();\r\n\t\t\t\tvar dataType = newField.dataType;\r\n\t\t\t\tnewData[fieldName] = dataType;\r\n\t\t\t}\r\n\t\t\tnewData.Notes = this.state.addModalData.Notes;\r\n\t\t\tdisplayOrder = Object.keys(newData);\r\n\t\t\tnewData.displayOrder = displayOrder;\r\n\t\t\tnewData.Date = \"string\";\r\n\t\t\tnewData.calculationType = \"none\";\r\n\t\t\tnewData.deletable = true;\r\n\t\t\tdataCopy.metaData.entryTypes.push(newData);\r\n\t\t\tif(!dataCopy.metaData.categories.includes(newData.Category)) {\r\n\t\t\t\tdataCopy.metaData.categories.push(newData.Category);\r\n\t\t\t}\r\n\t\t\tawait this.props.saveData(dataCopy);\r\n\t\t\tthis.closeAddModal();\r\n\t\t\tthis.forceUpdate();\r\n\t\t}\r\n\t\telse {\r\n\t\t\treturn;\r\n\t\t}\r\n\t}\r\n\t\r\n\tdeleteData = async (index) => {\r\n\t\tvar approveDelete = window.confirm(\"Are you sure you want to delete this entry?\");\r\n\t\tif(approveDelete) {\r\n\t\t\tvar dataCopy = JSON.parse(JSON.stringify(this.props.data));\r\n\t\t\tdataCopy.metaData.entryTypes.splice(index, 1);\r\n\t\t\tawait this.props.saveData(dataCopy);\r\n\t\t\tthis.forceUpdate();\r\n\t\t}\r\n\t\telse {\r\n\t\t\treturn;\r\n\t\t}\r\n\t}\r\n\t\r\n\tdeleteCategory = async (category) => {\r\n\t\tvar approveDelete = window.confirm(\"All data linked to this category will be removed -- Are you sure you want to delete it? \");\r\n\t\tif(approveDelete) {\r\n\t\t\tvar dataCopy = JSON.parse(JSON.stringify(this.props.data));\r\n\t\t\tdataCopy.metaData.categories.splice(dataCopy.metaData.categories.indexOf(category), 1);\t\r\n\t\t\tvar newEntryTypes = [];\r\n\t\t\tvar newUserData = [];\r\n\t\t\tfor(var i = 0; i < dataCopy.metaData.entryTypes.length; i++) {\r\n\t\t\t\tvar entry = dataCopy.metaData.entryTypes[i];\r\n\t\t\t\tif(entry.Category !== category) {\r\n\t\t\t\t\tnewEntryTypes.push(entry);\r\n\t\t\t\t\t//dataCopy.metaData.entryTypes.splice(i, 1);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tfor(i = 0; i < dataCopy.userData.length; i++) {\r\n\t\t\t\tentry = dataCopy.userData[i];\r\n\t\t\t\tif(entry.Category !== category) {\r\n\t\t\t\t\tnewUserData.push(entry);\r\n\t\t\t\t\t//dataCopy.userData.splice(i, 1);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tdataCopy.metaData.entryTypes = newEntryTypes;\r\n\t\t\tdataCopy.userData = newUserData;\r\n\t\t\tawait this.props.saveData(dataCopy);\r\n\t\t\tthis.forceUpdate();\r\n\t\t}\r\n\t\telse {\r\n\t\t\treturn;\r\n\t\t}\r\n\t}\r\n\t\r\n\tshowAlert = (msg) => {\r\n\t\tthis.setState({showAlert: true, alertMessage: msg});\r\n\t}\r\n\t\r\n\thideAlert = () => {\r\n\t\tthis.setState({showAlert: false, alertMessage: \"\"});\r\n\t}\r\n\t\r\n\tremoveField = (index) => {\r\n\t\tvar copy = this.state.fields.slice();\r\n\t\tcopy.splice(index, 1);\r\n\t\tthis.setState({fields: copy});\r\n\t}\r\n\t\r\n\trender() {\r\n\t\tconst datePicker = <Form.Control\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\ttype = \"input\"\r\n\t\t\t\t\t\t\tvalue = {this.state.birthday}\r\n\t\t\t\t\t\t\tautoComplete = \"off\"\r\n\t\t\t\t\t\t\t/>\r\n\t\tconst tdHeaderButton = {margin: \"1%\",\r\n\t\t\tfloat: \"right\",\r\n\t\t\tbackgroundColor: \"#D3D3D3\"\r\n\t\t}\r\n\t\t\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<Navbar fluid collapseOnSelect expand = \"md\" bg = \"light\" style = {{marginBottom: \"5%\"}}>\r\n\t\t\t\t\t<Navbar.Brand href = \"/\"> Training Diary </Navbar.Brand>\r\n\t\t\t\t\t<Navbar.Toggle aria-controls = \"responsive-navbar-nav\" />\r\n\t\t\t\t\t<Navbar.Collapse id = \"responsive-navbar-nav\">\r\n\t\t\t\t\t\t<Nav className = \"mr-auto\">\r\n\t\t\t\t\t\t</Nav>\r\n\t\t\t\t\t\t<Nav className = \"justify-content-end\">\r\n\t\t\t\t\t\t\t<Button variant = \"light\" href = \"/\" style = {tdHeaderButton}> Home </Button> \r\n\t\t\t\t\t\t\t<Button variant = \"light\" onClick = {this.props.logout} style = {tdHeaderButton}> Logout </Button>\r\n\t\t\t\t\t\t</Nav>\r\n\t\t\t\t\t</Navbar.Collapse>\r\n\t\t\t\t</Navbar>\r\n\t\t\t\t{this.state.showModal\r\n\t\t\t\t?\r\n\t\t\t\t\t<Modal show = {this.state.showModal} backdrop = \"static\" onHide = {this.closeAddModal.bind(this)} size = \"lg\">\r\n\t\t\t\t\t\t<Modal.Header closeButton>\r\n\t\t\t\t\t\t\t<Modal.Title>\r\n\t\t\t\t\t\t\t\tAdd Custom Training Data\r\n\t\t\t\t\t\t\t</Modal.Title>\r\n\t\t\t\t\t\t</Modal.Header>\r\n\t\t\t\t\t\t<Modal.Body>\r\n\t\t\t\t\t\t\t<h5> Category & Type </h5>\r\n\t\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t\t{Object.keys(this.state.addModalData).map((key) => {\r\n\t\t\t\t\t\t\t\tif(key === \"Category\") {\r\n\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Label> Category </Form.Label>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<InputGroup>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tas = \"input\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tautoComplete = \"off\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tname = {key}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue = {this.state.addModalData[key]}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange = {(e) => {this.onChangeAddModal(e)}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Dropdown show = {this.state.categoryMenuShow} as = {InputGroup.Prepend} onToggle = {this.onClickRootCloseCategory.bind(this)}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Dropdown.Toggle variant = \"outline-secondary\" eventKey = \"00\"> </Dropdown.Toggle>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Dropdown.Menu rootCloseEvent = \"click\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{this.props.data.metaData.categories.map((category) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Dropdown.Item onSelect = {this.onSelectDropdown.bind(this, key, category)} >\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{category}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Dropdown.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Dropdown.Menu>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Dropdown> \r\n\t\t\t\t\t\t\t\t\t\t\t\t</InputGroup> \r\n\t\t\t\t\t\t\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\telse if(key === \"Type\") {\r\n\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Form.Label> Type </Form.Label>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tas = \"input\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tautoComplete = \"off\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname = {key}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue = {this.state.addModalData[key]}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange = {(e) => {this.onChangeAddModal(e)}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<hr style = {{border: \"1px solid lightGray\"}} />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<h5> Fields  <Button variant = \"primary\" size = \"sm\" style = {{float: \"right\"}} onClick = {this.addField.bind(this)}> Add Field + </Button> </h5>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\telse if(this.state.fields.length !== 0) {\r\n\t\t\t\t\t\t\t\t\treturn this.state.fields.map((newField, index) => {\r\n\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Button variant = \"danger\" size = \"sm\" style = {{float:\"right\"}} onClick = {this.removeField.bind(this, index)}> X </Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Col sm = {6}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Label> Field Name </Form.Label>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tas = \"input\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tname = \"fieldName\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue = {newField.fieldName}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange = {(e) => {this.onChangeField(e, index)}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Col sm = {6}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Label> Data Type </Form.Label>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tas = \"select\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tname = \"dataType\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange = {(e) => {this.onChangeField(e, index)}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option selected disabled hidden> Select </option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option value = \"string\"> String </option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option value = \"number\"> Number </option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Form.Control>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t<Col sm = {6}>\r\n\t\t\t\t\t\t\t\t\t<Form.Label> Field Name </Form.Label>\r\n\t\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\t\tas = \"input\"\r\n\t\t\t\t\t\t\t\t\t\tname = \"Notes\"\r\n\t\t\t\t\t\t\t\t\t\tvalue = \"Notes\"\r\n\t\t\t\t\t\t\t\t\t\tdisabled = {true}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t<Col sm = {6}>\r\n\t\t\t\t\t\t\t\t\t<Form.Label> Data Type </Form.Label>\r\n\t\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\t\tas = \"select\"\r\n\t\t\t\t\t\t\t\t\t\tdisabled = {true}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<option value = \"string\"> String </option>\r\n\t\t\t\t\t\t\t\t\t</Form.Control>\r\n\t\t\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t</Modal.Body>\r\n\t\t\t\t\t\t{this.state.showAlert\r\n\t\t\t\t\t\t?\r\n\t\t\t\t\t\t<Modal.Footer>\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<Alert variant = \"danger\" onClose = {this.hideAlert.bind(this)} dismissible>\r\n\t\t\t\t\t\t\t\t\t<p> {this.state.alertMessage} </p>\r\n\t\t\t\t\t\t\t\t</Alert>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<Button variant = \"secondary\" onClick = {this.closeAddModal.bind(this)}> Close </Button>\r\n\t\t\t\t\t\t\t<Button variant = \"primary\" onClick = {this.onClickSave.bind(this)}> Save </Button>\r\n\t\t\t\t\t\t</Modal.Footer>\r\n\t\t\t\t\t\t:\r\n\t\t\t\t\t\t<Modal.Footer>\r\n\t\t\t\t\t\t\t<Button variant = \"secondary\" onClick = {this.closeAddModal.bind(this)}> Close </Button>\r\n\t\t\t\t\t\t\t<Button variant = \"primary\" onClick = {this.onClickSave.bind(this)}> Save </Button>\r\n\t\t\t\t\t\t</Modal.Footer>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t</Modal>\r\n\t\t\t\t: \r\n\t\t\t\t<div> </div>\r\n\t\t\t\t}\r\n\t\t\t\t{this.state.showEditModal\r\n\t\t\t\t?\r\n\t\t\t\t\t<Modal show = {this.state.showEditModal} backdrop = \"static\" onHide = {this.closeEditModal.bind(this)} size = \"lg\">\r\n\t\t\t\t\t\t<Modal.Header closeButton>\r\n\t\t\t\t\t\t\t<Modal.Title>\r\n\t\t\t\t\t\t\t\tEdit Custom Training Data\r\n\t\t\t\t\t\t\t</Modal.Title>\r\n\t\t\t\t\t\t</Modal.Header>\r\n\t\t\t\t\t\t<Modal.Body>\r\n\t\t\t\t\t\t\t<h5> Category & Type </h5>\r\n\t\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t\t{Object.keys(this.state.editModalData).map((key, index) => {\r\n\t\t\t\t\t\t\t\tif(key === \"Category\") {\r\n\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Label> Category </Form.Label>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tas = \"input\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tautoComplete = \"off\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname = {key}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue = {this.state.editModalData[key]}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange = {(e) => {this.onChangeEditModal(e)}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled = {true}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\telse if(key === \"Type\") {\r\n\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Form.Label> Type </Form.Label>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tas = \"input\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tautoComplete = \"off\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname = {key}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue = {this.state.editModalData[key]}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange = {(e) => {this.onChangeEditModal(e)}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<hr style = {{border: \"1px solid lightGray\"}} />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<h5> Fields  <Button variant = \"primary\" size = \"sm\" style = {{float: \"right\"}} onClick = {this.addField.bind(this)}> Add Field + </Button> </h5>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\telse if(this.state.fields.length !== 0) {\r\n\t\t\t\t\t\t\t\t\treturn this.state.fields.map((newField, index) => {\r\n\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Button variant = \"danger\" size = \"sm\" style = {{float:\"right\"}} onClick = {this.removeField.bind(this, index)}> X </Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Col sm = {6}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Label> Field Name </Form.Label>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tas = \"input\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tname = \"fieldName\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue = {newField.fieldName}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange = {(e) => {this.onChangeField(e, index)}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Col sm = {6}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{newField.fieldName.length === 0\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t?\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Label> Data Type </Form.Label>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tas = \"select\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname = \"dataType\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange = {(e) => {this.onChangeField(e, index)}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option selected disabled hidden> Select </option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option value = \"string\"> String </option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option value = \"number\"> Number </option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Form.Control>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t:\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Label> Data Type </Form.Label>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tas = \"select\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname = \"dataType\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange = {(e) => {this.onChangeField(e, index)}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option selected hidden> {newField.dataType.charAt(0).toUpperCase() + newField.dataType.slice(1)} </option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option value = \"string\"> String </option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option value = \"number\"> Number </option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Form.Control>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t<Col sm = {6}>\r\n\t\t\t\t\t\t\t\t\t<Form.Label> Field Name </Form.Label>\r\n\t\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\t\tas = \"input\"\r\n\t\t\t\t\t\t\t\t\t\tname = \"Notes\"\r\n\t\t\t\t\t\t\t\t\t\tvalue = \"Notes\"\r\n\t\t\t\t\t\t\t\t\t\tdisabled = {true}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t<Col sm = {6}>\r\n\t\t\t\t\t\t\t\t\t<Form.Label> Data Type </Form.Label>\r\n\t\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\t\tas = \"select\"\r\n\t\t\t\t\t\t\t\t\t\tdisabled = {true}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<option value = \"string\"> String </option>\r\n\t\t\t\t\t\t\t\t\t</Form.Control>\r\n\t\t\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t</Modal.Body>\r\n\t\t\t\t\t\t{this.state.showAlert\r\n\t\t\t\t\t\t?\r\n\t\t\t\t\t\t<Modal.Footer>\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<Alert variant = \"danger\" onClose = {this.hideAlert.bind(this)} dismissible>\r\n\t\t\t\t\t\t\t\t\t<p> {this.state.alertMessage} </p>\r\n\t\t\t\t\t\t\t\t</Alert>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<Button variant = \"secondary\" onClick = {this.closeEditModal.bind(this)}> Close </Button>\r\n\t\t\t\t\t\t\t<Button variant = \"primary\" onClick = {this.onClickSaveEdit.bind(this)}> Save </Button>\r\n\t\t\t\t\t\t</Modal.Footer>\r\n\t\t\t\t\t\t:\r\n\t\t\t\t\t\t<Modal.Footer>\r\n\t\t\t\t\t\t\t<Button variant = \"secondary\" onClick = {this.closeEditModal.bind(this)}> Close </Button>\r\n\t\t\t\t\t\t\t<Button variant = \"primary\" onClick = {this.onClickSaveEdit.bind(this)}> Save </Button>\r\n\t\t\t\t\t\t</Modal.Footer>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t</Modal>\r\n\t\t\t\t:\r\n\t\t\t\t<div> </div>\r\n\t\t\t\t}\r\n\t\t\t\t<Container style = {{border: \"1px solid lightGray\"}}>\r\n\t\t\t\t\t<Tabs variant = \"pills\" defaultActiveKey = \"editProfile\" onSelect = {this.resetFields.bind(this)}>\r\n\t\t\t\t\t\t<Tab eventKey = \"editProfile\" title = \"Edit Profile ✏️\">\r\n\t\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t\t<Form noValidate validated = {this.state.validated} onSubmit = {this.handleInfoSubmit}>\r\n\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t<Form.Label> Username </Form.Label>\r\n\t\t\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\t\t\t\ttype = \"input\"\r\n\t\t\t\t\t\t\t\t\t\t\tname = \"username\"\r\n\t\t\t\t\t\t\t\t\t\t\tvalue = {this.state.username}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange = {(e) => {this.onChangeAccountInfo(e)}}\r\n\t\t\t\t\t\t\t\t\t\t\tautoComplete = \"off\"\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t<Form.Label> Email </Form.Label>\r\n\t\t\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\t\t\t\ttype = \"input\"\r\n\t\t\t\t\t\t\t\t\t\t\tname = \"email\"\r\n\t\t\t\t\t\t\t\t\t\t\tvalue = {this.state.email}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange = {(e) => {this.onChangeAccountInfo(e)}}\r\n\t\t\t\t\t\t\t\t\t\t\tautoComplete = \"off\"\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t<Form.Label> Birthday </Form.Label>\r\n\t\t\t\t\t\t\t\t\t\t<DatePicker\r\n\t\t\t\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\t\t\t\tselected = {this.state.birthday}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange = {this.onSelectBirthday}\r\n\t\t\t\t\t\t\t\t\t\t\tminDate = {subYears(new Date(), 120)}\r\n\t\t\t\t\t\t\t\t\t\t\tmaxDate = {subDays(new Date(), 0)}\r\n\t\t\t\t\t\t\t\t\t\t\tshowYearDropdown\r\n\t\t\t\t\t\t\t\t\t\t\tscrollableYearDropdown\r\n\t\t\t\t\t\t\t\t\t\t\tshowMonthDropdown\r\n\t\t\t\t\t\t\t\t\t\t\tdropdownMode=\"select\"\r\n\t\t\t\t\t\t\t\t\t\t\tplaceholderText = \"Birthday\"\r\n\t\t\t\t\t\t\t\t\t\t\tcustomInput = {datePicker}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t{this.props.saving\r\n\t\t\t\t\t\t\t\t\t?\r\n\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t<Spinner animation = \"border\" variant = \"primary\" />\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t:\r\n\t\t\t\t\t\t\t\t\t<div> </div>\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t<Button type = \"submit\" style = {{float: \"right\"}}> Save </Button>\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t\t</Form>\r\n\t\t\t\t\t\t</Tab>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<Tab eventKey = \"changePassword\" title = \"Change Password 🔑\">\r\n\t\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t\t<Form noValidate validated = {this.state.validated} onSubmit = {this.handlePasswordSubmit}>\r\n\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t<Form.Label> Old Password </Form.Label> \r\n\t\t\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\t\t\trequired \r\n\t\t\t\t\t\t\t\t\t\t\ttype = \"password\"\r\n\t\t\t\t\t\t\t\t\t\t\tname = \"oldPassword\"\r\n\t\t\t\t\t\t\t\t\t\t\tvalue = {this.state.oldPassword}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange = {(e) => {this.onChangeAccountInfo(e)}}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t<br/> \r\n\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t<Form.Label> New Password </Form.Label> \r\n\t\t\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\t\t\trequired \r\n\t\t\t\t\t\t\t\t\t\t\ttype = \"password\"\r\n\t\t\t\t\t\t\t\t\t\t\tname = \"newPassword\"\r\n\t\t\t\t\t\t\t\t\t\t\tvalue = {this.state.newPassword}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange = {(e) => {this.onChangeAccountInfo(e)}}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t<br/> \t\r\n\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t<Form.Label> Confirm New Password </Form.Label> \r\n\t\t\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\t\t\trequired \r\n\t\t\t\t\t\t\t\t\t\t\ttype = \"password\"\r\n\t\t\t\t\t\t\t\t\t\t\tname = \"confirmNewPassword\"\r\n\t\t\t\t\t\t\t\t\t\t\tvalue = {this.state.confirmNewPassword}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange = {(e) => {this.onChangeAccountInfo(e)}}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t{this.props.saving\r\n\t\t\t\t\t\t\t\t\t?\r\n\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t<Spinner animation = \"border\" variant = \"primary\" />\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t:\r\n\t\t\t\t\t\t\t\t\t<div> </div>\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t<Button type = \"submit\" style = {{float: \"right\"}}> Save </Button>\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t\t</Form>\r\n\t\t\t\t\t\t</Tab>\r\n\t\t\t\t\t\t<Tab eventKey = \"accountStats\" title = \"Account Stats 📈\">\r\n\t\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t<Card>\r\n\t\t\t\t\t\t\t\t\t\t<Card.Body>\r\n\t\t\t\t\t\t\t\t\t\t\t<Card.Title>\r\n\t\t\t\t\t\t\t\t\t\t\t\tGoal Statistics 🎯\r\n\t\t\t\t\t\t\t\t\t\t\t\t<hr style = {{border: \"1px solid lightGray\"}} />\r\n\t\t\t\t\t\t\t\t\t\t\t</Card.Title>\r\n\t\t\t\t\t\t\t\t\t\t\t<Card.Text>\r\n\t\t\t\t\t\t\t\t\t\t\t{this.props.data.metaData.categories.map((category) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\tvar numGoals = 0;\r\n\t\t\t\t\t\t\t\t\t\t\t\tthis.props.data.goals.map((goal) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tif(goal[\"Goal Type\"] === category) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tnumGoals++;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<li> Number of {category} Goals: {numGoals} </li>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t\t\t</Card.Text>\r\n\t\t\t\t\t\t\t\t\t\t</Card.Body>\r\n\t\t\t\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t<Card>\r\n\t\t\t\t\t\t\t\t\t\t<Card.Body>\r\n\t\t\t\t\t\t\t\t\t\t\t<Card.Title>\r\n\t\t\t\t\t\t\t\t\t\t\t\tTraining Statistics 💪\r\n\t\t\t\t\t\t\t\t\t\t\t\t<hr style = {{border: \"1px solid lightGray\"}} />\r\n\t\t\t\t\t\t\t\t\t\t\t</Card.Title>\r\n\t\t\t\t\t\t\t\t\t\t\t<Card.Text>\r\n\t\t\t\t\t\t\t\t\t\t\t{this.props.data.metaData.categories.map((category) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\tvar numEntries = 0;\r\n\t\t\t\t\t\t\t\t\t\t\t\tthis.props.data.userData.map((entry) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tif(entry.Category === category) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tnumEntries++;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<li> Number of {category} Entries: {numEntries} </li>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t\t\t</Card.Text>\r\n\t\t\t\t\t\t\t\t\t\t</Card.Body>\r\n\t\t\t\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t</Tab>\r\n\t\t\t\t\t\t<Tab eventKey = \"customize\" title = \"Customize Data ⚙️\">\r\n\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t<h3>\r\n\t\t\t\t\t\t\t\t\tTraining Data Options\r\n\t\t\t\t\t\t\t\t\t<Button variant = \"primary\" style = {{float: \"right\"}} onClick = {this.openAddModal.bind(this)}> + </Button>\r\n\t\t\t\t\t\t\t\t</h3>\r\n\t\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t\tCustomize your data by editing, deleting, and adding to the options below.\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t{this.props.data.metaData.categories.map((category) => {\r\n\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t<Col sm = {12}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Card>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Card.Body>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Card.Title>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{category !== \"Diet\" && category !== \"Body\" && category !== \"Exercise\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t?\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{category}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button size = \"sm\" variant = \"light\" style = {{margin: \"1%\"}} onClick = {this.deleteCategory.bind(this, category)}> 🗑️ </Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t:\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{category}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Card.Title>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Card.Text>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{this.props.data.metaData.entryTypes.map((entry, entryIndex) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif(entry.Category === category) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif(entry.deletable) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Col sm = {4}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Card style = {{height: \"100%\"}}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Card.Title>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button size = \"sm\" variant = \"light\" style = {{float: \"right\"}} onClick = {this.deleteData.bind(this, entryIndex)}> 🗑️ </Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button size = \"sm\" variant = \"light\" style = {{float: \"right\"}} onClick = {this.openEditModal.bind(this, entryIndex)}> ✏️ </Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Card.Title>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Card.Body>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Card.Text> \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ListGroup horizontal>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ListGroup.Item style = {{width: \"100%\"}}> <strong> Category </strong> : {entry.Category} </ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</ListGroup>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ListGroup horizontal>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ListGroup.Item style = {{width: \"100%\"}}> <strong> Type </strong> : {entry.Type} </ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</ListGroup>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ListGroup horizontal>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ListGroup.Item style = {{width: \"100%\"}}> \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<strong> Fields </strong>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{entry.displayOrder.map((key) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif(key !== \"Category\" && key !== \"Type\") {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<li> {key} </li>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</ListGroup>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Card.Text>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Card.Body>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Col sm = {4} style = {{marginBottom: \"3%\"}}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Card style = {{height: \"100%\"}}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Card.Body>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Card.Text> \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ListGroup horizontal>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ListGroup.Item style = {{width: \"100%\"}}> <strong> Category </strong> : {entry.Category} </ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</ListGroup>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ListGroup horizontal>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ListGroup.Item style = {{width: \"100%\"}}> <strong> Type </strong> : {entry.Type} </ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</ListGroup>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ListGroup horizontal>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ListGroup.Item style = {{width: \"100%\"}}> \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<strong> Fields </strong>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{entry.displayOrder.map((key) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif(key !== \"Category\" && key !== \"Type\") {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<li> {key} </li>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</ListGroup>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Card.Text>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Card.Body>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Card.Text>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Card.Body>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t</Tab>\r\n\t\t\t\t\t</Tabs>\r\n\t\t\t\t</Container>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport default Profile;","import React, { Component } from 'react';\r\nimport Container from 'react-bootstrap/Container';\r\nimport Row from 'react-bootstrap/Row';\r\nimport Col from 'react-bootstrap/Col';\r\nimport Button from 'react-bootstrap/Button';\r\nimport Card from 'react-bootstrap/Card';\r\nimport ListGroup from 'react-bootstrap/ListGroup';\r\nimport Tabs from 'react-bootstrap/Tabs';\r\nimport TabContent from 'react-bootstrap/TabContent';\r\nimport Tab from 'react-bootstrap/Tab';\r\nimport Form from 'react-bootstrap/Form';\r\nimport Spinner from 'react-bootstrap/Spinner';\r\nimport Navbar from 'react-bootstrap/Navbar';\r\nimport Nav from 'react-bootstrap/Nav';\r\n\r\nclass ForgotCredentials extends Component {\r\n\t\r\n\tstate = {\r\n\t\tvalidated: false,\r\n\t\tpasswordValidated: false,\r\n\t\temail: \"\",\r\n\t\tusername: \"\",\r\n\t\ttempPassword: \"\",\r\n\t\tnewPassword: \"\",\r\n\t\tconfirmPassword: \"\",\r\n\t\tsaving: false\r\n\t}\r\n\t\r\n\thandleEmailSubmit = async (e) => {\r\n\t\tconst form = e.currentTarget;\r\n\t\tif(form.checkValidity() === false) {\r\n\t\t\te.preventDefault();\r\n\t\t\te.stopPropagation();\r\n\t\t}\r\n\t\tthis.setState({validated: true});\r\n\t\te.preventDefault();\r\n\t\tif(this.state.email.toString().trim().length === 0) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tawait this.props.toggleSaving();\r\n\t\tvar requestBody = {email: this.state.email.trim()}\r\n\t\tawait this.props.getTempCredentials(requestBody, this.state.email);\r\n\t\tthis.forceUpdate();\r\n\t\tthis.setState({validated: false});\r\n\t}\r\n\t\r\n\thandleTempSubmit = async (e) => {\r\n\t\tconst form = e.currentTarget;\r\n\t\tif(form.checkValidity() === false) {\r\n\t\t\te.preventDefault();\r\n\t\t\te.stopPropagation();\r\n\t\t}\r\n\t\tthis.setState({validated: true});\r\n\t\te.preventDefault();\r\n\t\tif(this.state.username.toString().trim().length === 0 || this.state.tempPassword.length === 0) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tthis.props.toggleSaving();\r\n\t\tvar requestBody = {username: this.state.username.trim(), tempPassword: this.state.tempPassword};\r\n\t\tawait this.props.validateTempCredentials(requestBody);\r\n\t\tthis.forceUpdate();\r\n\t\tthis.setState({validated: false});\r\n\t}\r\n\t\r\n\thandleNewPasswordSubmit = async (e) => {\r\n\t\tconst form = e.currentTarget;\r\n\t\tif(form.checkValidity() === false) {\r\n\t\t\te.preventDefault();\r\n\t\t\te.stopPropagation();\r\n\t\t}\r\n\t\tthis.setState({passwordValidated: true});\r\n\t\te.preventDefault();\r\n\t\tif(this.state.newPassword.length === 0 || this.state.confirmPassword.length === 0) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif(this.state.newPassword !== this.state.confirmPassword) {\r\n\t\t\talert(\"Passwords don't match\");\r\n\t\t\tthis.setState({passwordValidated: false});\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tvar requestBody = {password: this.state.newPassword};\r\n\t\tif(this.props.username.toString().length !== 0 && this.props.username !== undefined && this.props.token !== null && this.props.token !== undefined) {\r\n\t\t\tthis.props.toggleSaving();\r\n\t\t\tawait this.props.recoverPassword(this.props.username, this.props.token, requestBody);\r\n\t\t\tthis.setState({validated: false});\r\n\t\t}\r\n\t}\r\n\t\r\n\tonChangeField = (e) => {\r\n\t\tvar name = [e.target.name][0];\r\n\t\tvar value = e.target.value;\r\n\t\tthis.setState({[name]: value});\r\n\t}\r\n\t\r\n\t\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<Navbar fluid collapseOnSelect expand = \"md\" bg = \"light\" style = {{marginBottom: \"1%\"}}>\r\n\t\t\t\t\t<Navbar.Brand href = \"/\"> Training Diary </Navbar.Brand>\r\n\t\t\t\t\t<Navbar.Toggle aria-controls = \"responsive-navbar-nav\" />\r\n\t\t\t\t\t<Navbar.Collapse id = \"responsive-navbar-nav\">\r\n\t\t\t\t\t\t<Nav className = \"mr-auto\">\r\n\t\t\t\t\t\t</Nav>\r\n\t\t\t\t\t\t<Nav className = \"justify-content-end\">\r\n\t\t\t\t\t\t\t<Button variant = \"light\" href = \"/\" className = \"td-header-button\"> Home </Button> \r\n\t\t\t\t\t\t</Nav>\r\n\t\t\t\t\t</Navbar.Collapse>\r\n\t\t\t\t</Navbar>\r\n\t\t\t\t<Container>\r\n\t\t\t\t\t<br/>\r\n\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t{this.props.recoveryDisabled\r\n\t\t\t\t\t\t?\r\n\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t<Card style = {{marginTop: \"5%\"}}>\r\n\t\t\t\t\t\t\t\t\t<Card.Header as = \"h4\"> Enter a New Password </Card.Header>\r\n\t\t\t\t\t\t\t\t\t<Card.Body>\r\n\t\t\t\t\t\t\t\t\t\t<Card.Text>\r\n\t\t\t\t\t\t\t\t\t\t\t<Form noValidate validated = {this.state.passwordValidated} onSubmit = {this.handleNewPasswordSubmit}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Form.Label> New Password </Form.Label>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype = \"password\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname = \"newPassword\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue = {this.state.newPassword}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange = {(e) => {this.onChangeField(e)}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tautoComplete = \"off\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Form.Label> Confirm New Password </Form.Label>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype = \"password\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname = \"confirmPassword\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue = {this.state.confirmPassword}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange = {(e) => {this.onChangeField(e)}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tautoComplete = \"off\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Row  style = {{textAlign: \"left\"}}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button type = \"submit\"> Submit </Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{this.props.saving \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t?\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Spinner animation = \"border\" variant = \"primary\" />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div> </div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t\t\t\t</Form>\t\t\r\n\t\t\t\t\t\t\t\t\t\t</Card.Text>\r\n\t\t\t\t\t\t\t\t\t</Card.Body>\r\n\t\t\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t:\r\n\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t<Card>\r\n\t\t\t\t\t\t\t\t<Card.Header as = \"h4\"> Recover Credentials </Card.Header>\r\n\t\t\t\t\t\t\t\t<Card.Body>\r\n\t\t\t\t\t\t\t\t\t{this.props.tempSuccess\r\n\t\t\t\t\t\t\t\t\t?\r\n\t\t\t\t\t\t\t\t\t\t<Card.Title>\r\n\t\t\t\t\t\t\t\t\t\t\tEmail sent! \r\n\t\t\t\t\t\t\t\t\t\t</Card.Title>\r\n\t\t\t\t\t\t\t\t\t:\r\n\t\t\t\t\t\t\t\t\t\t<Card.Title>\r\n\t\t\t\t\t\t\t\t\t\t\tEnter your email \r\n\t\t\t\t\t\t\t\t\t\t</Card.Title>\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t<Card.Text>\r\n\t\t\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t\t\t{this.props.tempSuccess\r\n\t\t\t\t\t\t\t\t\t\t\t?\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tEnter the <u>username</u> and <u>temporary password</u> sent to <strong> {this.props.email} </strong>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t:\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tWe'll send your username and a temporary password.\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t\t\t{this.props.tempSuccess\r\n\t\t\t\t\t\t\t\t\t\t\t?\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Form noValidate validated = {this.state.validated} onSubmit = {this.handleTempSubmit}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Label> Username </Form.Label>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype = \"input\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname = \"username\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue = {this.state.username}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange = {(e) => {this.onChangeField(e)}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tautoComplete = \"off\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled = {this.props.recoveryDisabled}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Label> Temporary Password (expires in 5 min.) </Form.Label>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype = \"password\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname = \"tempPassword\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue = {this.state.tempPassword}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange = {(e) => {this.onChangeField(e)}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tautoComplete = \"off\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled = {this.props.recoveryDisabled}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Row  style = {{textAlign: \"left\"}}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button type = \"submit\" disabled = {this.props.recoveryDisabled}> Submit </Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{this.props.saving \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t?\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Spinner animation = \"border\" variant = \"primary\" />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div> </div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Form>\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t:\r\n\t\t\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Form noValidate validated = {this.state.validated} onSubmit = {this.handleEmailSubmit}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Label> Email </Form.Label>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype = \"input\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tname = \"email\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue = {this.state.email}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange = {(e) => {this.onChangeField(e)}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tautoComplete = \"off\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Row  style = {{textAlign: \"left\"}}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button type = \"submit\" disabled = {this.props.recoveryDisabled}> Submit </Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{this.props.saving \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t?\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Spinner animation = \"border\" variant = \"primary\" />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div> </div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Form>\r\n\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t\t</Card.Text>\r\n\t\t\t\t\t\t\t\t</Card.Body>\r\n\t\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t</Row>\r\n\t\t\t\t</Container>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default ForgotCredentials;\r\n","import 'bootstrap/dist/css/bootstrap.min.css';\r\nimport React, { Component } from 'react';\r\nimport axios from 'axios';\r\nimport Button from 'react-bootstrap/Button';\r\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\r\nimport Loader from 'react-loader-spinner';\r\nimport Login from './login-components/Login.js';\r\nimport TrainingDiary from './td-components/TrainingDiary.js';\r\nimport Profile from './pages/Profile.js';\r\nimport ForgotCredentials from './pages/ForgotCredentials.js';\r\nimport { BrowserRouter as Router, Route, Switch } from 'react-router-dom';\r\n\r\nclass App extends Component {\r\n\tstate = {\r\n\t\tdata: null, //user data from database\r\n\t\tusername: \"\", //username\r\n\t\ttoken: null, //api token \r\n\t\twaitingForPage: false, //flag to render loader while page is initially loading\r\n\t\tisLoggedIn: false, //flag determining if user is logged in \r\n\t\tonLogin: true, //flag determining if user is on the login page \r\n\t\tonRegistration: false, //flag determining if user is on registration page ,\r\n\t\taddModalShow: false,\r\n\t\teditModalShow: false,\r\n\t\tisSaving: false,\r\n\t\tdataToEdit: null,\r\n\t\tauthLoading: false,\r\n\t\tdisabled: false,\r\n\t\ttempSuccess: false,\r\n\t\trecoveryEmail: \"\",\r\n\t\trecoveryDisabled: false,\r\n\t\tprofileAndCredSaving: false\r\n\t\t\r\n\t}\r\n\t\r\n\t/* COMPONENT MOUNT + UPDATE METHODS */\r\n\t\r\n\tcomponentDidMount = () => {\r\n\t\tthis.setState({waitingForPage: true});\r\n\t\tconst token = localStorage.getItem(\"token\");\r\n\t\tconst username = localStorage.getItem(\"username\");\r\n\t\taxios.post(`/verifyLogin/${username}`, {}, {headers: {\"token\": token}})\r\n\t\t\t.catch(function(error) {\r\n\t\t\t\treturn;\r\n\t\t\t})\r\n\t\t\t.then(res => this.handleVerificationResponse(res, username));\r\n\t}\r\n\t\r\n\t/* GENERAL COMPONENT METHODS */ \r\n\t\r\n\ttoggleSaveBar = () => {\r\n\t\tthis.setState({isSaving: !this.state.isSaving});\r\n\t}\r\n\t\r\n\t/* MODAL METHODS */\r\n\t\r\n\ttoggleAddModal = () => {\r\n\t\tthis.setState({addModalShow: !this.state.addModalShow});\r\n\t}\r\n\t\r\n\ttoggleEditModal = (dataToEdit) => {\r\n\t\tthis.setState({editModalShow: !this.state.editModalShow, dataToEdit: dataToEdit});\r\n\t}\r\n\t\r\n\ttoggleProfAndCredLoader = () => {\r\n\t\tthis.setState({profileAndCredSaving: !this.state.profileAndCredSaving});\r\n\t}\r\n\t\r\n\t\r\n\t/* SERVER API METHODS */ \r\n\t\r\n\thandleGetResponse = (response, username) => {\r\n\t\ttry {\r\n\t\t\tvar status = Number(response.status);\r\n\t\t\tif(status === 200) {\r\n\t\t\t\tthis.toggleAuthLoader();\r\n\t\t\t\tthis.setState({token: response.headers.token, username: username, data: response.data, isLoggedIn: true, waitingForPage: false});\r\n\t\t\t\tlocalStorage.setItem(\"username\", username);\r\n\t\t\t\tlocalStorage.setItem(\"token\", response.headers.token);\r\n\t\t\t}\r\n\t\t}\r\n\t\tcatch(error) {\r\n\t\t\t//this.logout();\r\n\t\t}\r\n\t}\r\n\t\r\n\t//handles the response from server that verifies if user is still logged in\r\n\t//if successful, sends a request to get all user data\r\n\thandleVerificationResponse = (response, username) => {\r\n\t\tvar that = this;\r\n\t\ttry {\r\n\t\t\tif(localStorage.getItem(\"token\") === null || localStorage.getItem(\"username\") === null) {\r\n\t\t\t\tthis.setState({isLoggedIn: false, waitingForPage: false});\r\n\t\t\t\tlocalStorage.clear();  \r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tvar status = Number(response.status);\r\n\t\t\t\tif(status === 200) {\r\n\t\t\t\t\tlocalStorage.setItem(\"username\", username);\r\n\t\t\t\t\tlocalStorage.setItem(\"token\", response.headers.token);\r\n\t\t\t\t\taxios.get(`/getAllData/${username}`, {headers: {\"token\": response.headers.token}})\r\n\t\t\t\t\t\t.catch(function(error) {\r\n\t\t\t\t\t\t\talert(\"Internal Error -- could not get data -- redirecting to login page\");\r\n\t\t\t\t\t\t\tthat.logout();\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.then(res => this.handleGetResponse(res, username));\r\n\t\t\t\t}\r\n\t\t\t\telse if(status === 204) {\r\n\t\t\t\t\talert(\"Session expired. Logging you out\");\r\n\t\t\t\t\tthis.logout();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tcatch(error) {\r\n\t\t\tthis.logout();\r\n\t\t\treturn;\r\n\t\t}\r\n\t}\r\n\r\n\t//saves data by calling post api \r\n\tsaveData = (newData) => {\r\n\t\tconst username = this.state.data._id;\r\n\t\taxios.post(`/postData/${username}`, newData, {headers: {\"token\": this.state.token}})\r\n\t\t\t.catch(function(error) {\r\n\t\t\t\talert(\"Internal Error -- could not save data -- redirecting to login page\");\r\n\t\t\t})\r\n\t\t\t.then(res => this.handlePostResponse(res, newData));\r\n\t}\r\n\t\r\n\t//handles response from post request \r\n\thandlePostResponse = (response, newData) => {\r\n\t\ttry {\r\n\t\t\tvar status = Number(response.status);\r\n\t\t\tif(status === 200) {\r\n\t\t\t\tlocalStorage.setItem(\"token\", response.headers.token);\r\n\t\t\t\tthis.setState({token: response.headers.token});\r\n\t\t\t\tthis.setState({data: newData});\r\n\t\t\t}\r\n\t\t}\r\n\t\tcatch(error) {\r\n\t\t\tthis.logout();\r\n\t\t}\r\n\t}\r\n\t\r\n\t/* AUTH METHODS */ \r\n\t\r\n\tchangeUsernameAndEmail = (reqBody, newData, token, prevUsername) => {\r\n\t\tvar that = this;\r\n\t\taxios.post(`/postAccountInfo/${prevUsername}`, reqBody, {headers: {\"token\": token}})\r\n\t\t\t.catch(function(error) {\r\n\t\t\t\tif(error.response.status === 409) {\r\n\t\t\t\t\talert(\"Username or email already exists. Please choose another one\");\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\telse if(error.response.status === 401) {\r\n\t\t\t\t\talert(\"Session expired. Logging you out \");\r\n\t\t\t\t\tthat.logout();\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\talert(\"Internal Error -- could not update username & email\");\r\n\t\t\t})\r\n\t\t\t.then(res => this.handleChangeInfoResponse(res, newData));\r\n\t}\r\n\t\r\n\thandleChangeInfoResponse = (response, newData) => {\r\n\t\ttry {\r\n\t\t\tvar status = Number(response.status);\r\n\t\t\tif(status === 200) {\r\n\t\t\t\talert(\"Changed successfully\");\r\n\t\t\t\tthis.toggleProfAndCredLoader();\r\n\t\t\t\tlocalStorage.setItem(\"token\", response.headers.token);\r\n\t\t\t\tlocalStorage.setItem(\"username\", newData._id);\r\n\t\t\t\tthis.setState({token: response.headers.token});\r\n\t\t\t\tthis.setState({data: newData});\r\n\t\t\t}\r\n\t\t}\r\n\t\tcatch(error) {\r\n\t\t\tthis.toggleProfAndCredLoader();\r\n\t\t\treturn;\r\n\t\t}\r\n\t}\r\n\t\r\n\tchangePassword = (reqBody, newData, token) => {\r\n\t\tvar that = this;\r\n\t\tvar username = newData._id;\r\n\t\taxios.post(`/postCredentials/${username}`, reqBody, {headers: {\"token\": token}})\r\n\t\t\t.catch(function(error) {\r\n\t\t\t\tif(error.response.status === 409) {\r\n\t\t\t\t\talert(\"Old password is invalid\");\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\telse if(error.response.status === 401) {\r\n\t\t\t\t\talert(\"Session expired. Logging you out\");\r\n\t\t\t\t\tthat.logout();\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\talert(\"Internal Error -- could not change password\");\r\n\t\t\t})\r\n\t\t\t.then(res => this.handleChangePasswordResponse(res, newData));\r\n\t}\r\n\t\r\n\thandleChangePasswordResponse = (response, newData) => {\r\n\t\ttry {\r\n\t\t\tvar status = Number(response.status);\r\n\t\t\tif(status === 200) {\r\n\t\t\t\talert(\"Changed successfully\");\r\n\t\t\t\tthis.toggleProfAndCredLoader();\r\n\t\t\t\tlocalStorage.setItem(\"token\", response.headers.token);\r\n\t\t\t\tthis.setState({token: response.headers.token});\r\n\t\t\t\tthis.setState({data: newData});\r\n\t\t\t}\r\n\t\t}\r\n\t\tcatch(error) {\r\n\t\t\tthis.toggleProfAndCredLoader();\r\n\t\t\treturn;\r\n\t\t}\r\n\t}\r\n\t\r\n\tgetTempCredentials = (reqBody, email) => {\r\n\t\tvar that = this;\r\n\t\taxios.post(\"/getTempPassword\", reqBody)\r\n\t\t\t.catch(function(error) {\r\n\t\t\t\tif(error.response.status === 401) {\r\n\t\t\t\t\talert(\"The email you gave is not linked to any user\");\t\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\talert(\"Internal error -- could not get temporary credentials\");\r\n\t\t\t})\r\n\t\t\t.then(res => this.handleTempResponse(res, email));\r\n\t}\r\n\t\r\n\thandleTempResponse = (response, email) => {\r\n\t\ttry {\r\n\t\t\tvar status = Number(response.status);\r\n\t\t\tif(status === 200) {\r\n\t\t\t\tthis.toggleProfAndCredLoader();\r\n\t\t\t\tthis.setState({tempSuccess: true, recoveryEmail: email});\r\n\t\t\t}\r\n\t\t}\r\n\t\tcatch(error) {\r\n\t\t\tthis.toggleProfAndCredLoader();\r\n\t\t\treturn;\r\n\t\t}\r\n\t}\r\n\t\r\n\tvalidateTempCredentials = (reqBody) => {\r\n\t\tvar that = this;\r\n\t\taxios.post(\"/postTempPassword\", reqBody)\r\n\t\t\t.catch(function(error) {\r\n\t\t\t\tif(error.response.status === 401) {\r\n\t\t\t\t\talert(\"The username or temporary password you entered is invalid or expired\");\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\talert(\"Internal error -- could not process temporary credentials\");\r\n\t\t\t})\r\n\t\t\t.then(res => this.handleValidateTempResponse(res, reqBody.username));\r\n\t}\r\n\t\r\n\thandleValidateTempResponse = (response, username) => {\r\n\t\ttry {\r\n\t\t\tvar status = Number(response.status);\r\n\t\t\tif(status === 200) {\r\n\t\t\t\tthis.toggleProfAndCredLoader();\r\n\t\t\t\tthis.setState({recoveryDisabled: true, token: response.headers.token, username: username});\r\n\t\t\t}\r\n\t\t}\r\n\t\tcatch(error) {\r\n\t\t\tthis.toggleProfAndCredLoader();\r\n\t\t\treturn;\r\n\t\t}\r\n\t}\r\n\t\r\n\trecoverPassword = (username, token, reqBody) => {\r\n\t\tvar that = this;\r\n\t\taxios.post(`/postRecoveryPassword/${username}`, reqBody, {headers: {\"token\": token}})\r\n\t\t\t.catch(function(error) {\r\n\t\t\t\tif(error.response.status === 401) {\r\n\t\t\t\t\talert(\"Sorry -- You are unauthorized to perform this action\");\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\talert(\"Internal error -- could not change your password\");\r\n\t\t\t})\r\n\t\t\t.then(res => this.handleRecoveryResponse(res));\r\n\t}\r\n\t\r\n\thandleRecoveryResponse = (response) => {\r\n\t\ttry {\r\n\t\t\tvar status = Number(response.status);\r\n\t\t\tif(status === 200) {\r\n\t\t\t\talert(\"Password changed successfully. Redirecting to login page\");\r\n\t\t\t\tthis.toggleProfAndCredLoader();\r\n\t\t\t\tthis.setState({onLogin: true});\r\n\t\t\t\twindow.location.pathname = \"/\";\r\n\t\t\t}\r\n\t\t}\r\n\t\tcatch(error) {\r\n\t\t\tthis.toggleProfAndCredLoader();\r\n\t\t\treturn;\r\n\t\t}\r\n\t}\r\n\t\r\n\t\r\n\t\r\n\t//method passed in as props to Login.js\r\n\t//grants access to apis by setting App.js state and redirecting to TrainingDiary.js\r\n\t//only occurs if login was successful\r\n\tgrantAccess = (username, token) => {\r\n\t\tvar that = this;\r\n\t\taxios.get(`/getAllData/${username}`, {headers: {\"token\": token}})\r\n\t\t\t.catch(function(error) {\r\n\t\t\t\tif(error.response.status === 500) {\r\n\t\t\t\t\talert(\"Internal Error -- could not get data -- redirecting to login page\");\r\n\t\t\t\t\tthat.logout();\r\n\t\t\t\t}\r\n\t\t\t\telse if(error.response.status === 401) {\r\n\t\t\t\t\talert(\"Session expired, logging you out\");\r\n\t\t\t\t\tthat.logout();\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then(res => this.handleGetResponse(res, username));\r\n\t}\r\n\t\r\n\t//method passed in as props to Register.js\r\n\t//redirects to Login.js by setting App.js state \r\n\ttoLogin = () => {\r\n\t\tthis.setState({onLogin:true});\r\n\t}\r\n\t\r\n\t//method passed in as props to TrainingDiary.js\r\n\t//logs the user out, clears localStorage, and resets to original state\r\n\tlogout = async () => {\r\n\t\tawait localStorage.clear();\r\n\t\twindow.location.pathname = \"/\";\r\n\t}\r\n\t\r\n\ttoggleAuthLoader = () => {\r\n\t\tthis.setState({authLoading: !this.state.authLoading, disabled: !this.state.disabled});\r\n\t}\r\n\t\r\n\trender() {\r\n\t\tif(this.state.waitingForPage) {\r\n\t\t\treturn (\r\n\t\t\t\t<div style = {{textAlign: \"center\", marginTop: \"5%\"}}>\r\n\t\t\t\t\t<Loader type=\"TailSpin\" \r\n\t\t\t\t\t\tcolor=\"#00BFFF\" \r\n\t\t\t\t\t\theight={80} \r\n\t\t\t\t\t\twidth={80} \r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\t\t}\r\n\t\telse if(this.state.isLoggedIn) {\r\n\t\t\treturn (\r\n\t\t\t\t<Router>\r\n\t\t\t\t\t<Switch>\r\n\t\t\t\t\t\t<Route exact path = \"/\">\r\n\t\t\t\t\t\t\t<TrainingDiary \r\n\t\t\t\t\t\t\t\tdata = {this.state.data}\r\n\t\t\t\t\t\t\t\tlogout = {this.logout}\r\n\t\t\t\t\t\t\t\tsaveData = {this.saveData}\r\n\t\t\t\t\t\t\t\taddModalShow = {this.state.addModalShow}\r\n\t\t\t\t\t\t\t\teditModalShow = {this.state.editModalShow}\r\n\t\t\t\t\t\t\t\tisSaving = {this.state.isSaving}\r\n\t\t\t\t\t\t\t\ttoggleAddModal = {this.toggleAddModal}\r\n\t\t\t\t\t\t\t\ttoggleEditModal = {this.toggleEditModal}\r\n\t\t\t\t\t\t\t\ttoggleSaveBar = {this.toggleSaveBar}\r\n\t\t\t\t\t\t\t\tdataToEdit = {this.state.dataToEdit}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Route>\r\n\t\t\t\t\t\t<Route exact path = \"/profile\">\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<Profile \r\n\t\t\t\t\t\t\t\t\tdata = {this.state.data} \r\n\t\t\t\t\t\t\t\t\ttoken = {this.state.token} \r\n\t\t\t\t\t\t\t\t\tchangeUsernameAndEmail = {this.changeUsernameAndEmail}\r\n\t\t\t\t\t\t\t\t\tchangePassword = {this.changePassword}\r\n\t\t\t\t\t\t\t\t\tsaving = {this.state.profileAndCredSaving}\r\n\t\t\t\t\t\t\t\t\ttoggleSaving = {this.toggleProfAndCredLoader}\r\n\t\t\t\t\t\t\t\t\tsaveData = {this.saveData}\r\n\t\t\t\t\t\t\t\t\tlogout = {this.logout}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</Route>\r\n\t\t\t\t\t\t<Route>\r\n\t\t\t\t\t\t\t<div style = {{textAlign: \"center\"}}>\r\n\t\t\t\t\t\t\t\t<h1> This page does not exist :( </h1>\r\n\t\t\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t\t\t<Button href = \"/\"> Back to main page 💪 </Button> \r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</Route>\r\n\t\t\t\t\t</Switch>\r\n\t\t\t\t</Router>\r\n\t\t\t);\r\n\t\t}\r\n\t\telse if(this.state.onLogin) {\r\n\t\t\treturn (\r\n\t\t\t\t<Router>\r\n\t\t\t\t\t<Switch>\r\n\t\t\t\t\t\t<Route exact path = \"/\">\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<Login \r\n\t\t\t\t\t\t\t\t\tgrantAccess = {this.grantAccess} \r\n\t\t\t\t\t\t\t\t\tauthLoading = {this.state.authLoading}\r\n\t\t\t\t\t\t\t\t\tdisabled = {this.state.disabled}\r\n\t\t\t\t\t\t\t\t\ttoggleAuthLoader = {this.toggleAuthLoader}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</Route>\r\n\t\t\t\t\t\t<Route exact path = \"/reset\">\r\n\t\t\t\t\t\t\t<ForgotCredentials \r\n\t\t\t\t\t\t\t\tgetTempCredentials = {this.getTempCredentials} \r\n\t\t\t\t\t\t\t\tvalidateTempCredentials = {this.validateTempCredentials} \r\n\t\t\t\t\t\t\t\ttempSuccess = {this.state.tempSuccess}\r\n\t\t\t\t\t\t\t\temail = {this.state.recoveryEmail}\r\n\t\t\t\t\t\t\t\trecoveryDisabled = {this.state.recoveryDisabled}\r\n\t\t\t\t\t\t\t\ttoken = {this.state.token}\r\n\t\t\t\t\t\t\t\tusername = {this.state.username}\r\n\t\t\t\t\t\t\t\trecoverPassword = {this.recoverPassword}\r\n\t\t\t\t\t\t\t\tsaving = {this.state.profileAndCredSaving}\r\n\t\t\t\t\t\t\t\ttoggleSaving = {this.toggleProfAndCredLoader}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Route>\r\n\t\t\t\t\t\t<Route>\r\n\t\t\t\t\t\t\t<div style = {{textAlign: \"center\"}}>\r\n\t\t\t\t\t\t\t\t<h1> This page does not exist :( </h1>\r\n\t\t\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t\t\t<Button href = \"/\"> Back to main page 💪 </Button> \r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</Route>\r\n\t\t\t\t\t</Switch>\r\n\t\t\t\t</Router>\r\n\t\t\t);\r\n\t\t}\r\n\t\treturn (\r\n\t\t<div> hi </div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default App;","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}