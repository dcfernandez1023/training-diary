{"version":3,"sources":["login-components/Login.js","td-components/AddModal.js","td-components/EditModal.js","td-components/Calendar.js","td-components/Graph.js","td-components/DataList.js","td-components/Goals.js","td-components/TrainingDiary.js","pages/Profile.js","pages/ForgotCredentials.js","App.js","serviceWorker.js","index.js"],"names":["Login","state","validated","onLogin","loginUsername","loginPassword","registerUsername","registerPassword","email","birthday","handleLoginResponse","response","Number","status","props","grantAccess","headers","token","localStorage","setItem","error","toggleAuthLoader","login","toString","trim","length","axios","post","username","password","catch","alert","then","res","handleRegistrationResponse","register","console","log","handleSubmit","e","currentTarget","checkValidity","preventDefault","stopPropagation","setState","onChangeLogin","name","target","value","onSelectBirthday","date","toggleTab","tabToRender","datePicker","Form","Control","required","type","this","autoComplete","Jumbotron","Container","fluid","Row","Col","Figure","Image","src","width","height","Tabs","defaultActiveKey","onSelect","bind","Tab","eventKey","title","noValidate","onSubmit","Label","placeholder","onChange","Button","disabled","authLoading","style","float","marginTop","color","to","sm","selected","minDate","subYears","Date","maxDate","subDays","showYearDropdown","scrollableYearDropdown","showMonthDropdown","dropdownMode","placeholderText","customInput","Component","AddModal","data","newData","entryType","showAlert","alertMessage","nameMenuShow","componentDidMount","componentDidUpdate","onSelectName","dataCopy","JSON","parse","stringify","Name","showNameList","nameSearch","onClickRootClose","msg","hideAlert","validateFields","Object","keys","key","isNaN","hasTypeBeenEntered","i","userData","entry","getTime","selectedDate","Category","Type","calculateNewAmount","dataIndex","calculationKey","calculationType","newValue","Math","floor","toFixed","push","saveNewData","a","nameExists","undefined","currentName","entryNames","newName","saveData","reloadCalendar","closeModal","toggleAddModal","resetModal","onChangeNewData","newDataCopy","metaData","entryTypes","x","displayOrder","entryKey","createForm","inputs","newDataKeys","ListGroup","horizontal","Item","FormControl","as","hidden","categories","map","category","field","nameList","nameData","InputGroup","Dropdown","show","Prepend","onToggle","Toggle","variant","Menu","rootCloseEvent","formInputs","dateString","toDateString","Modal","addModalShow","centered","scrollable","size","onExited","Header","className","Body","Footer","Alert","onClose","dismissible","visible","isSaving","onClick","EditModal","dataToEdit","hasLoaded","toggleEditModal","onChangeEdit","copy","saveEdit","editIndex","createEditFields","editFields","editModalShow","Calendar","selectedDateString","isDataOnDate","displayData","formatNewDate","isSelectedDateInDateList","formatDate","onClickEdit","index","dateList","createDateList","getFullYear","getMonth","getDate","require","formattedDate","selectDay","deleteEntry","window","confirm","splice","sortByDisplayName","orderedJson","calculateTotals","totalList","total","numOfEntries","numKey","results","result","charAt","toUpperCase","slice","goalAchieved","goals","goal","deletable","isAchieved","Fields","enteredCategories","entries","includes","totals","cards","catIndex","Card","uuid","Accordion","Collapse","popover","Popover","Title","Content","OverlayTrigger","trigger","placement","overlay","rootClose","border","today","toggleSaveBar","marginLeft","showNeighboringMonth","onClickDay","tileContent","activeStartDate","view","find","Graph","testData","graphOption","startDate","endDate","graphData","lineColors","usedColors","colorIndex","graphFilters","rangeValue","onSelectOption","option","onSelectStartDate","onSelectEndDate","onChangeSlider","onSelectFilter","filterName","filtersCopy","indexOf","createOptionDropdown","createDateDropdown","dateOption","filterGraphData","filteredGraphData","numericFilters","filter","filteredEntry","finalFilteredGraphData","getGraphData","entryDate","graphEntry","toLocaleDateString","min","temp","createLines","dataKeys","dataKey","stroke","getLegendData","legendData","matchingColorIndex","createStringFilters","filters","filterData","graphFilterConstants","Check","label","createNumFilters","rangeSliders","sliderLabels","Group","controlId","getMaxValue","max","lines","maxValue","startPicker","endPicker","dropdownOption","stringFilters","domain","strokeDasharray","DataList","listOption","listFilters","allChecked","reload","forceUpdate","margin","checked","Amount","getListData","listData","dateStrings","optionDropdown","marginBottom","Text","Goals","editing","adding","goalEditing","goalAdding","editingData","addingData","goalIndex","invalidFields","colors","openEditModal","closeEditModal","openAddModal","goalStructure","closeAddModal","onChangeAdd","deleteGoal","checkEditFields","checkAddFields","onClickSaveEdit","lastUpdated","onClickSaveAdd","fieldOrder","validateMacros","percentageTotal","constructPieData","fields","labels","datasets","backgroundColor","hoverBackgroundColor","onHide","closeButton","nonDeletableGoalFields","pieData","toLocaleString","options","maintainAspectRatio","TrainingDiary","activeTab","toggleTabs","tab","xs","logout","href","activeKey","Profile","oldPassword","newPassword","confirmNewPassword","saving","showModal","showEditModal","editModalData","addModalData","categoryMenuShow","entryTypeIndex","_id","onChangeAccountInfo","handleInfoSubmit","requestBody","toggleSaving","changeUsernameAndEmail","handlePasswordSubmit","changePassword","resetFields","editData","Notes","fieldName","dataType","onChangeEditModal","onChangeAddModal","showCategoryList","onSelectDropdown","onClickRootCloseCategory","categorySearch","addField","onChangeField","typeExists","defaultKeys","fieldNames","newField","count","validateEditFields","prev","onClickSave","deleteData","deleteCategory","newEntryTypes","newUserData","removeField","backdrop","textAlign","Spinner","animation","numGoals","numEntries","entryIndex","ForgotCredentials","passwordValidated","tempPassword","confirmPassword","handleEmailSubmit","getTempCredentials","handleTempSubmit","validateTempCredentials","handleNewPasswordSubmit","recoverPassword","recoveryDisabled","tempSuccess","App","waitingForPage","isLoggedIn","onRegistration","recoveryEmail","profileAndCredSaving","getItem","handleVerificationResponse","toggleProfAndCredLoader","handleGetResponse","that","clear","get","handlePostResponse","reqBody","prevUsername","handleChangeInfoResponse","handleChangePasswordResponse","handleTempResponse","handleValidateTempResponse","handleRecoveryResponse","location","pathname","toLogin","exact","path","Boolean","hostname","match","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister","message"],"mappings":"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","file":"static/js/main.e540653c.chunk.js","sourcesContent":["import React, { Component } from 'react';\r\nimport axios from 'axios';\r\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\r\nimport Loader from 'react-loader-spinner';\r\nimport Container from 'react-bootstrap/Container';\r\nimport Row from 'react-bootstrap/Row';\r\nimport Col from 'react-bootstrap/Col';\r\nimport Button from 'react-bootstrap/Button';\r\nimport ButtonGroup from 'react-bootstrap/ButtonGroup';\r\nimport Tabs from 'react-bootstrap/Tabs';\r\nimport Tab from 'react-bootstrap/Tab';\r\nimport Jumbotron from 'react-bootstrap/Jumbotron';\r\nimport Form from 'react-bootstrap/Form';\r\nimport Figure from 'react-bootstrap/Figure';\r\nimport DatePicker from \"react-datepicker\";\r\nimport subDays from \"date-fns/subDays\";\r\nimport subYears from \"date-fns/subYears\";\r\nimport \"react-datepicker/dist/react-datepicker.css\";\r\nimport { BrowserRouter as Router, Link } from 'react-router-dom';\r\n\r\nclass Login extends Component {\r\n\t\r\n\tstate = {\r\n\t\tvalidated: false,\r\n\t\t\r\n\t\tonLogin: true,\r\n\t\t\r\n\t\tloginUsername: \"\",\r\n\t\tloginPassword: \"\",\r\n\t\r\n\t\tregisterUsername: \"\",\r\n\t\tregisterPassword: \"\",\r\n\t\temail: \"\",\r\n\t\tbirthday: null,\r\n\t}\r\n\t\r\n\thandleLoginResponse = (response) => {\r\n\t\ttry {\r\n\t\t\tvar status = Number(response.status);\r\n\t\t\tif(status === 200) {\r\n\t\t\t\tthis.props.grantAccess(this.state.loginUsername, response.headers.token);\r\n\t\t\t\t//saves token and username to browser's local storage \r\n\t\t\t\tlocalStorage.setItem(\"token\", response.headers.token);\r\n\t\t\t\tlocalStorage.setItem(\"username\", this.state.loginUsername);\r\n\t\t\t}\r\n\t\t}\r\n\t\tcatch(error) {\r\n\t\t\tthis.props.toggleAuthLoader();\r\n\t\t}\r\n\t}\r\n\t\r\n\t//login onClick event handler\r\n\tlogin = () => {\r\n\t\t//checks to make sure username and password fields have values \r\n\t\tif(this.state.loginUsername.toString().trim().length === 0 || this.state.loginPassword.toString().length === 0) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\telse {\r\n\t\t\tthis.props.toggleAuthLoader();\r\n\t\t\taxios.post(\"/login\", {username: this.state.loginUsername.toString().trim(), password: this.state.loginPassword})\r\n\t\t\t\t.catch(function(error) {\r\n\t\t\t\t\tif(error.response.status === 401) {\r\n\t\t\t\t\t\talert(\"Invalid credentials\");\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t.then(res => this.handleLoginResponse(res))\r\n\r\n\t\t}\r\n\t}\r\n\r\n\thandleRegistrationResponse = (response) => {\r\n\t\ttry {\r\n\t\t\tvar status = Number(response.status);\r\n\t\t\tif(status === 200) {\r\n\t\t\t\tthis.props.grantAccess(this.state.registerUsername, response.headers.token);\r\n\t\t\t\tlocalStorage.setItem(\"token\", response.headers.token);\r\n\t\t\t\tlocalStorage.setItem(\"username\", this.state.loginUsername);\r\n\t\t\t}\r\n\t\t}\r\n\t\tcatch(error) {\r\n\t\t\tthis.props.toggleAuthLoader();\r\n\t\t}\r\n\t}\r\n\t\r\n\t//registration onClick event handler\r\n\tregister = () => {\r\n\t\tconsole.log(\"yo\");\r\n\t\t//checks to make sure username and password fields have values \r\n\t\tif(this.state.registerUsername.toString().trim().length === 0 || this.state.registerPassword.toString().trim().length == 0 || this.state.email.toString().trim().length === 0 || this.state.birthday === null) {\r\n\t\t\tconsole.log(\"nah\");\r\n\t\t\treturn;\r\n\t\t}\r\n\t\telse {\r\n\t\t\tthis.props.toggleAuthLoader();\r\n\t\t\taxios.post(\"/register\", {username: this.state.registerUsername.toString().trim(), password: this.state.registerPassword, email: this.state.email.toString().trim(), birthday: this.state.birthday})\r\n\t\t\t\t.catch(function(error) {\r\n\t\t\t\t\tif(error.response.status === 409) {\r\n\t\t\t\t\t\talert(\"Username or email already exists\");\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t.then(res => this.handleRegistrationResponse(res))\r\n\t\t}\r\n\t}\r\n\t\r\n\thandleSubmit = (e) => {\r\n\t\tconst form = e.currentTarget;\r\n\t\tif(form.checkValidity() === false) {\r\n\t\t\te.preventDefault();\r\n\t\t\te.stopPropagation();\r\n\t\t}\r\n\t\tthis.setState({validated: true});\r\n\t\te.preventDefault();\r\n\t\tif(this.state.onLogin) {\r\n\t\t\tthis.login();\r\n\t\t}\r\n\t\telse {\r\n\t\t\tthis.register();\r\n\t\t}\r\n\t}\r\n\t\r\n\tonChangeLogin = (e) => {\r\n\t\tvar name = [e.target.name][0];\r\n\t\tvar value = e.target.value;\r\n\t\tthis.setState({[name]: value});\r\n\t}\r\n\t\r\n\tonSelectBirthday = (date) => {\r\n\t\tthis.setState({birthday: date});\r\n\t}\r\n\t\r\n\ttoggleTab = (tabToRender) => {\r\n\t\tif(tabToRender === \"login\" && this.state.onLogin) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif(tabToRender === \"register\" && !this.state.onLogin) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tthis.setState({onLogin: !this.state.onLogin, validated: false, loginUsername: \"\", loginPassword: \"\", registerUsername: \"\", registerPassword: \"\", email: \"\", birthday: null});\r\n\t}\r\n\t\r\n\trender() {\r\n\t\tconst datePicker = <Form.Control\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\ttype = \"input\"\r\n\t\t\t\t\t\t\tvalue = {this.state.birthday}\r\n\t\t\t\t\t\t\tautoComplete = \"off\"\r\n\t\t\t\t\t\t\t/>\r\n\t\treturn (\r\n\t\t\t<Jumbotron>\r\n\t\t\t\t<Container fluid>\r\n\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t<h1> Training Diary </h1>\r\n\t\t\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t\t\tA simple application to track and analyze your workout data.\r\n\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t<Figure>\r\n\t\t\t\t\t\t\t\t\t\t<Figure.Image\r\n\t\t\t\t\t\t\t\t\t\t\tsrc = \"https://cdn.emojidex.com/emoji/seal/weight_lifter.png\"\r\n\t\t\t\t\t\t\t\t\t\t\twidth = {200}\r\n\t\t\t\t\t\t\t\t\t\t\theight = {300}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</Figure>\r\n\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t<Figure>\r\n\t\t\t\t\t\t\t\t\t\t<Figure.Image\r\n\t\t\t\t\t\t\t\t\t\t src = \"https://cdn.emojidex.com/emoji/seal/chart_with_upwards_trend.png\"\r\n\t\t\t\t\t\t\t\t\t\t width = {200}\r\n\t\t\t\t\t\t\t\t\t\t height = {300}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</Figure>\r\n\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t<Tabs defaultActiveKey = \"login\" onSelect = {this.toggleTab.bind(this)}>\r\n\t\t\t\t\t\t\t\t\t\t<Tab eventKey = \"login\" title = \"Login\">\r\n\t\t\t\t\t\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t\t\t\t\t\t{this.state.onLogin \r\n\t\t\t\t\t\t\t\t\t\t\t?\r\n\t\t\t\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Form noValidate validated = {this.state.validated} onSubmit = {this.handleSubmit}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Label> Username </Form.Label>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype = \"input\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholder = \"Username\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname = \"loginUsername\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue = {this.state.loginUsername}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange = {(e) => {this.onChangeLogin(e)}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tautoComplete = \"off\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Label> Password </Form.Label>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype = \"password\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholder = \"Password\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname = \"loginPassword\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue = {this.state.loginPassword}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange = {(e) => {this.onChangeLogin(e)}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button type = \"submit\" disabled = {this.props.disabled}> Login </Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{this.props.authLoading\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t?\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div style = {{float: \"left\", marginTop: \"5%\"}}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Loader type=\"TailSpin\" \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor=\"#00BFFF\" \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\theight={80} \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\twidth={80} \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t:\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div> </div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Link to = \"/reset\"> Forgot Password? </Link>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Form> \r\n\t\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t\t\t\t:\r\n\t\t\t\t\t\t\t\t\t\t\t<div> </div>\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t</Tab>\r\n\t\t\t\t\t\t\t\t\t\t<Tab eventKey = \"register\" title = \"Register\">\r\n\t\t\t\t\t\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t\t\t\t\t\t{!this.state.onLogin\r\n\t\t\t\t\t\t\t\t\t\t\t?\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Form noValidate validated = {this.state.validated} onSubmit = {this.handleSubmit}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Col sm = {6}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Label> Username </Form.Label>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype = \"input\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholder = \"Username\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname = \"registerUsername\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue = {this.state.registerUsername}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange = {(e) => {this.onChangeLogin(e)}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tautoComplete = \"off\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Col sm = {6}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Label> Password </Form.Label>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype = \"password\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholder = \"Password\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname = \"registerPassword\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue = {this.state.registerPassword}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange = {(e) => {this.onChangeLogin(e)}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Col sm = {6}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Label> Email </Form.Label>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype = \"input\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholder = \"Email\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname = \"email\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue = {this.state.email}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange = {(e) => {this.onChangeLogin(e)}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tautoComplete = \"off\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Col sm = {6}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Label> Birthday </Form.Label>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<DatePicker \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tselected = {this.state.birthday}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange = {this.onSelectBirthday}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tminDate = {subYears(new Date(), 120)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmaxDate = {subDays(new Date(), 0)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tshowYearDropdown\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tscrollableYearDropdown\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tshowMonthDropdown\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdropdownMode=\"select\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholderText = \"Birthday\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcustomInput = {datePicker}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button type = \"submit\" disabled = {this.props.disabled}> Register </Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{this.props.authLoading\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t?\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div style = {{float: \"left\", marginTop: \"5%\"}}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Loader type=\"TailSpin\" \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor=\"#00BFFF\" \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\theight={80} \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\twidth={80} \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t:\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div> </div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Form> \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t\t\t\t:\r\n\t\t\t\t\t\t\t\t\t\t\t<div> </div>\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t</Tab>\r\n\t\t\t\t\t\t\t\t\t</Tabs>\r\n\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t</Row>\r\n\t\t\t\t</Container>\r\n\t\t\t</Jumbotron>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default Login;","import React, { Component } from 'react';\r\nimport Modal from \"react-bootstrap/Modal\";\r\nimport \"bootstrap/dist/css/bootstrap.min.css\";\r\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\r\nimport Loader from 'react-loader-spinner';\r\nimport Row from 'react-bootstrap/Row';\r\nimport Col from 'react-bootstrap/Col';\r\nimport Button from 'react-bootstrap/Button';\r\nimport '../td-css/AddModal.css';\r\nimport Form from 'react-bootstrap/Form';\r\nimport FormControl from 'react-bootstrap/FormControl';\r\nimport InputGroup from 'react-bootstrap/InputGroup';\r\nimport uuid from 'react-uuid';\r\nimport Alert from 'react-bootstrap/Alert';\r\nimport Dropdown from 'react-bootstrap/Dropdown';\r\nimport ListGroup from 'react-bootstrap/ListGroup';\r\n//PROPS\r\n\t//data\r\n\t//saveData()\r\n\t//updateShow()\r\n\t//toDateString()\r\n\t//selectedDate\r\n\t//addModalShow\r\n\t//isSaving\r\n\t//toggleSaveBar()\r\n\t//toggleAddModal()\r\n\t//createDateList()\r\n\t//reloadCalendar()\r\nclass AddModal extends Component {\r\n\t\r\n\tstate = {\r\n\t\tdata: null,\r\n\t\tnewData: {},\r\n\t\tentryType: null,\r\n\t\tshowAlert: false,\r\n\t\talertMessage: \"\",\r\n\t\tnameMenuShow: false\r\n\t}\r\n\t\r\n\t/* COMPONENT MOUNTING AND UPDATING METHODS */ \r\n\t\r\n\tcomponentDidMount = () => {\r\n\t\tthis.setState({data: this.props.data});\r\n\t}\r\n\t\r\n\tcomponentDidUpdate = () => {\r\n\t\tif(this.state.data !== this.props.data) {\r\n\t\t\tthis.setState({data: this.props.data});\r\n\t\t}\r\n\t}\r\n\t\r\n\tonSelectName = (value) => {\r\n\t\tvar dataCopy = JSON.parse(JSON.stringify(this.state.newData));\r\n\t\tdataCopy.Name = value;\r\n\t\tthis.setState({newData: dataCopy});\r\n\t}\r\n\t\r\n\tshowNameList = (nameSearch) => {\r\n\t\tif(nameSearch.length === 0) {\r\n\t\t\tthis.setState({nameMenuShow: false});\r\n\t\t}\r\n\t\telse {\r\n\t\t\tthis.setState({nameMenuShow: true});\r\n\t\t}\r\n\t}\t\r\n\r\n\tonClickRootClose = () => {\r\n\t\tif(this.state.nameMenuShow) {\r\n\t\t\tthis.setState({nameMenuShow: false});\r\n\t\t}\r\n\t\telse {\r\n\t\t\tthis.setState({nameMenuShow: true});\r\n\t\t}\r\n\t}\r\n\t\r\n\tshowAlert = (msg) => {\r\n\t\tthis.setState({showAlert: true, alertMessage: msg});\r\n\t}\r\n\t\r\n\thideAlert = () => {\r\n\t\tthis.setState({showAlert: false, alertMessage: \"\"});\r\n\t}\r\n\t\r\n\t/* SAVING METHODS */ \r\n\t\r\n\tvalidateFields = () => {\r\n\t\tif(this.state.entryType === null || Object.keys(this.state.newData).length === 0) {\r\n\t\t\tthis.showAlert(\"Cannot save data, you're missing some required fields!\");\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\tfor(var key in this.state.newData) {\r\n\t\t\tif(key === \"Notes\" || key === \"displayOrder\") {\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\t\t\telse if(this.state.newData[key].toString().trim().length === 0) {\r\n\t\t\t\tthis.showAlert(\"Cannot save data, you're missing some required fields!\");\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\telse if(this.state.entryType[key] === \"number\" && isNaN(Number(this.state.newData[key]))) {\r\n\t\t\t\tthis.showAlert(\"'\" + key + \"'\" + \" must be a number!\"); \r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\telse if(this.state.entryType[key] === \"string\" && !isNaN(Number(this.state.newData[key]))) {\r\n\t\t\t\tthis.showAlert(\"'\" + key + \"'\" + \" cannot be a number!\"); \r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tthis.state.newData[key] = this.state.newData[key].toString().trim();\r\n\t\t\t}\r\n\t\t}\r\n\t\tthis.hideAlert();\r\n\t\treturn true;\r\n\t}\r\n\t\r\n\thasTypeBeenEntered = () => {\r\n\t\tfor(var i = 0; i < this.state.data.userData.length; i++) {\r\n\t\t\tconst entry = this.state.data.userData[i];\r\n\t\t\tif(new Date(entry.Date).getTime() === this.props.selectedDate.getTime() && entry.Category === this.state.newData.Category && entry.Type === this.state.newData.Type) {\r\n\t\t\t\treturn i; //return index of entry\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn -1;\r\n\t}\r\n\t\r\n\tcalculateNewAmount = (dataIndex) => {\r\n\t\tif(dataIndex === -1) {\r\n\t\t\tthis.state.data.userData.push(this.state.newData);\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tvar calculationKey = null;\r\n\t\tfor(var key in this.state.entryType) {\r\n\t\t\tif(this.state.entryType[key] === \"number\") {\r\n\t\t\t\tcalculationKey = key;\r\n\t\t\t}\r\n\t\t}\r\n\t\tif(calculationKey === null) {\r\n\t\t\talert(\"Error: Could not calculate new amount -- null\");\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif(this.state.entryType.calculationType === \"add\") {\r\n\t\t\tvar newValue = (Number(this.state.data.userData[dataIndex][calculationKey]) + Number(this.state.newData[calculationKey]));\r\n\t\t\tconsole.log(newValue);\r\n\t\t\tif(Math.floor(newValue) !== newValue) {\r\n\t\t\t\tnewValue = newValue.toFixed(2);\r\n\t\t\t}\r\n\t\t\tthis.state.data.userData[dataIndex][calculationKey] = newValue.toString();\r\n\t\t}\r\n\t\telse if(this.state.entryType.calculationType === \"subtract\") {\r\n\t\t\tvar newValue = (Number(this.state.data.userData[dataIndex][calculationKey]) - Number(this.state.newData[calculationKey]));\r\n\t\t\tif(Math.floor(newValue) !== newValue) {\r\n\t\t\t\tnewValue = newValue.toFixed(2);\r\n\t\t\t}\r\n\t\t\tthis.state.data.userData[dataIndex][calculationKey] = newValue.toString();\r\n\t\t}\r\n\t\telse if(this.state.entryType.calculationType === \"multiply\") {\r\n\t\t\tvar newValue = (Number(this.state.data.userData[dataIndex][calculationKey]) * Number(this.state.newData[calculationKey]));\r\n\t\t\tif(Math.floor(newValue) !== newValue) {\r\n\t\t\t\tnewValue = newValue.toFixed(2);\r\n\t\t\t}\r\n\t\t\tthis.state.data.userData[dataIndex][calculationKey] = newValue.toString();\r\n\t\t}\r\n\t\telse if(this.state.entryType.calculationType === \"divide\") {\r\n\t\t\tvar newValue = (Number(this.state.data.userData[dataIndex][calculationKey]) / Number(this.state.newData[calculationKey]));\r\n\t\t\tif(Math.floor(newValue) !== newValue) {\r\n\t\t\t\tnewValue = newValue.toFixed(2);\r\n\t\t\t}\r\n\t\t\tthis.state.data.userData[dataIndex][calculationKey] = newValue.toString();\r\n\t\t}\r\n\t\telse if(this.state.entryType.calculationType === \"average\") {\r\n\t\t\tvar newValue = (Number(this.state.data.userData[dataIndex][calculationKey]) + Number(this.state.newData[calculationKey]));\r\n\t\t\tnewValue = newValue / 2;\r\n\t\t\tif(Math.floor(newValue) !== newValue) {\r\n\t\t\t\tnewValue = newValue.toFixed(2);\r\n\t\t\t}\r\n\t\t\tthis.state.data.userData[dataIndex][calculationKey] = newValue.toString();\r\n\t\t}\r\n\t\telse if(this.state.entryType.calculationType === \"none\") {\r\n\t\t\tthis.state.data.userData.push(this.state.newData);\r\n\t\t}\r\n\t}\r\n\t\r\n\t//calls post api to save data to database\r\n\tsaveNewData = async () => {\r\n\t\tif(!this.validateFields()) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\t//this.props.toggleSaveBar();\r\n\t\tvar nameExists = false;\r\n\t\tif(this.state.newData.Name !== undefined && this.state.newData.Name !== null) {\r\n\t\t\tvar currentName = this.state.newData.Name;\r\n\t\t\tfor(var i = 0; i < this.state.data.entryNames.length; i++) {\r\n\t\t\t\tif(currentName === this.state.data.entryNames[i].Name) {\r\n\t\t\t\t\tnameExists = true;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif(!nameExists) {\r\n\t\t\t\tvar newName = {};\r\n\t\t\t\tnewName.Name = currentName;\r\n\t\t\t\tnewName.Category = this.state.newData.Category;\r\n\t\t\t\tnewName.Type = this.state.newData.Type;\r\n\t\t\t\tthis.state.data.entryNames.push(newName);\r\n\t\t\t}\r\n\t\t}\r\n\t\tthis.state.data.userData.push(this.state.newData);\r\n\t\tawait this.props.saveData(this.state.data, \"save\", \"AddModal\"); //need to make this saveData() function more dynamic \r\n\t\tthis.props.reloadCalendar(); //reloads calendar component so changes are seen immediately without waiting for response from server\r\n\t\tthis.closeModal();\r\n\t}\r\n\t\r\n\t/* MODAL RENDERING METHODS */\r\n\t\r\n\tcloseModal = () => {\r\n\t\tthis.props.toggleAddModal();\r\n\t\tthis.setState({newData: {}, showAlert: false, alertMessage: \"\"});\r\n\t}\r\n\t\r\n\tresetModal = () => {\r\n\t\tthis.setState({newData: {}});\r\n\t}\r\n\t\r\n\t//onChange event handler for when user enters something in new data field \r\n\tonChangeNewData = (e) => {\r\n\t\tvar newDataCopy;\r\n\t\tvar entry = null;\r\n\t\tconst key = [e.target.name][0];\r\n\t\tconst value = e.target.value;\r\n\t\tnewDataCopy = this.state.newData;\r\n\t\tif(newDataCopy === null || newDataCopy === undefined) {\r\n\t\t\tnewDataCopy = {};\r\n\t\t}\r\n\t\tif(key === \"Category\") {\r\n\t\t\tnewDataCopy = {[key]: value, \"Type\": \"\"};\r\n\t\t}\r\n\t\telse if(key === \"Type\") {\r\n\t\t\tnewDataCopy = {\"Category\": this.state.newData.Category, [key]: value};\r\n\t\t\tfor(var i = 0; i < this.props.data.metaData.entryTypes.length; i++) {\r\n\t\t\t\tconst entryType = this.props.data.metaData.entryTypes[i];\r\n\t\t\t\tif(entryType.Category === this.state.newData.Category && entryType.Type === value) {\r\n\t\t\t\t\tfor(var x = 0; x < entryType.displayOrder.length; x++) {\r\n\t\t\t\t\t\tconst entryKey = entryType.displayOrder[x];\r\n\t\t\t\t\t\tif(entryKey !== \"Category\" && entryKey !== \"Type\") {\r\n\t\t\t\t\t\t\tnewDataCopy[entryKey] = \"\";\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tnewDataCopy.displayOrder = entryType.displayOrder;\r\n\t\t\t\t\tnewDataCopy.Date = this.props.selectedDate.toString();\r\n\t\t\t\t\tnewDataCopy.calculationType = entryType.calculationType;\r\n\t\t\t\t\tentry = entryType;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\telse if(key === \"Name\") {\r\n\t\t\tthis.showNameList(value);\r\n\t\t\tnewDataCopy[key] = value;\r\n\t\t\tentry = this.state.entryType;\r\n\t\t}\r\n\t\telse {\r\n\t\t\tnewDataCopy[key] = value;\r\n\t\t\tentry = this.state.entryType;\r\n\t\t}\r\n\t\tthis.setState({newData: newDataCopy, entryType: entry});\r\n\t}\r\n\r\n\t//creates input fields from metaData \r\n\tcreateForm = () => {\r\n\t\tif(this.props.data === null) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\tvar inputs;\r\n\t\tconst newDataKeys = Object.keys(this.state.newData);\r\n\t\t//const newDataKeys = this.state.newData.displayOrder;\r\n\t\tif(newDataKeys.length === 0) {\r\n\t\t\tinputs = <ListGroup horizontal>\r\n\t\t\t\t\t\t<ListGroup.Item style = {{width: \"50%\"}}>\r\n\t\t\t\t\t\t\tCategory\r\n\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t<ListGroup.Item style = {{width: \"50%\"}}>\r\n\t\t\t\t\t\t\t<FormControl as = \"select\" name = \"Category\" onChange = {(e) => {this.onChangeNewData(e)}}>\r\n\t\t\t\t\t\t\t\t<option  value = \"\" selected disabled hidden> Select </option>\r\n\t\t\t\t\t\t\t\t{this.props.data.metaData.categories.map((category) => {\r\n\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t<option value = {category}>\r\n\t\t\t\t\t\t\t\t\t\t\t{category}\r\n\t\t\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t</FormControl>\r\n\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t</ListGroup>\r\n\t\t\treturn inputs;\r\n\t\t}\r\n\t\tinputs = newDataKeys.map((field) => {\r\n\t\t\tif(field === \"Category\") {\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<ListGroup horizontal> \r\n\t\t\t\t\t\t<ListGroup.Item style = {{width: \"50%\"}}>\r\n\t\t\t\t\t\t\t{field}\r\n\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t<ListGroup.Item style = {{width: \"50%\"}}>\r\n\t\t\t\t\t\t\t<FormControl as = \"select\" value = {this.state.newData[field]} name = {field} onChange = {(e) => {this.onChangeNewData(e)}}>\r\n\t\t\t\t\t\t\t\t<option  value = \"\" selected disabled hidden> Select </option>\r\n\t\t\t\t\t\t\t\t{this.props.data.metaData.categories.map((category) => {\r\n\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t<option value = {category}>\r\n\t\t\t\t\t\t\t\t\t\t\t{category}\r\n\t\t\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t</FormControl>\r\n\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t</ListGroup>\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t\telse if(field === \"Type\") {\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<ListGroup horizontal>\r\n\t\t\t\t\t\t<ListGroup.Item style = {{width: \"50%\"}}>\r\n\t\t\t\t\t\t\t{field}\r\n\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t<ListGroup.Item style = {{width: \"50%\"}}>\r\n\t\t\t\t\t\t\t<FormControl as = \"select\" value = {this.state.newData[field]} name = {field} onChange = {(e) => {this.onChangeNewData(e)}}>\r\n\t\t\t\t\t\t\t\t<option  value = \"\" selected disabled hidden> Select </option>\r\n\t\t\t\t\t\t\t\t{this.props.data.metaData.entryTypes.map((entry) => {\r\n\t\t\t\t\t\t\t\t\tif(entry.Category === this.state.newData.Category) {\r\n\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t<option value = {entry.Type}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{entry.Type}\r\n\t\t\t\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t</FormControl>\r\n\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t</ListGroup>\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tif(field !== \"displayOrder\" && field !== \"Date\" && field !== \"calculationType\") {\r\n\t\t\t\t\tif(field === \"Name\") {\r\n\t\t\t\t\t\tvar nameList = [];\r\n\t\t\t\t\t\tfor(var i = 0; i < this.state.data.entryNames.length ; i++) {\r\n\t\t\t\t\t\t\tvar nameData = this.state.data.entryNames[i];\r\n\t\t\t\t\t\t\tif(this.state.newData.Category === nameData.Category && this.state.newData.Type === nameData.Type) {\r\n\t\t\t\t\t\t\t\tnameList.push(nameData.Name);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<ListGroup horizontal>\r\n\t\t\t\t\t\t\t\t<ListGroup.Item style = {{width: \"50%\"}}>\r\n\t\t\t\t\t\t\t\t\t{field}\r\n\t\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t\t<ListGroup.Item style = {{width: \"50%\"}}>\r\n\t\t\t\t\t\t\t\t\t<InputGroup>\r\n\t\t\t\t\t\t\t\t\t\t<Dropdown show = {this.state.nameMenuShow} as = {InputGroup.Prepend} onToggle = {this.onClickRootClose.bind(this)}>\r\n\t\t\t\t\t\t\t\t\t\t\t<Dropdown.Toggle variant = \"outline-secondary\" eventKey = \"00\"> </Dropdown.Toggle>\r\n\t\t\t\t\t\t\t\t\t\t\t<Dropdown.Menu rootCloseEvent = \"click\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t{nameList.map((name) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Dropdown.Item onSelect = {this.onSelectName.bind(this, name)} >\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{name}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Dropdown.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t\t\t</Dropdown.Menu>\r\n\t\t\t\t\t\t\t\t\t\t</Dropdown> \r\n\t\t\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\t\t\tas = \"input\"\r\n\t\t\t\t\t\t\t\t\t\t\tautoComplete = \"off\"\r\n\t\t\t\t\t\t\t\t\t\t\tname = {field}\r\n\t\t\t\t\t\t\t\t\t\t\tvalue = {this.state.newData[field]}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange = {(e) => {this.onChangeNewData(e)}}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</InputGroup> \r\n\t\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t</ListGroup>\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<ListGroup horizontal>\r\n\t\t\t\t\t\t\t\t<ListGroup.Item style = {{width: \"50%\"}}>\r\n\t\t\t\t\t\t\t\t\t{field}\r\n\t\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t\t<ListGroup.Item style = {{width: \"50%\"}}>\r\n\t\t\t\t\t\t\t\t\t<FormControl as = \"input\" value = {this.state.newData[field]} name = {field} onChange = {(e) => {this.onChangeNewData(e)}} />\r\n\t\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t</ListGroup>\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t\treturn <div> {inputs} </div>\r\n\t}\r\n\t\r\n\trender () {\r\n\t\tconst formInputs = this.createForm()\r\n\t\tconst dateString = this.props.toDateString(this.props.selectedDate)\r\n\t\treturn (\r\n\t\t\t<Modal \r\n\t\t\t\tshow={this.props.addModalShow}\r\n\t\t\t\tcentered = {true}\r\n\t\t\t\tscrollable = {true}\r\n\t\t\t\tsize = \"lg\"\r\n\t\t\t\tonExited = {this.resetModal}\r\n\t\t\t>\r\n\t\t\t  <Modal.Header>\r\n\t\t\t\t<h4 className = \"modal-header-tag\"> Add Training Data </h4>\r\n\t\t\t\t<h4 className = \"modal-header-tag\"> {dateString} </h4>\r\n\t\t\t\t{/*<Button variant = \"primary\"> Add </Button>*/}\r\n\t\t\t  </Modal.Header>\r\n\t\t\t  \r\n\t\t\t  <Modal.Body>\r\n\t\t\t\t{formInputs}\r\n\t\t\t  </Modal.Body>\r\n\t\t\t\t\r\n\t\t\t  \r\n\t\t\t\t{!this.state.showAlert\r\n\t\t\t\t?\r\n\t\t\t\t\t<Modal.Footer>\r\n\t\t\t\t\t\t<div className = \"loader-container\">\r\n\t\t\t\t\t\t\t<Loader type=\"ThreeDots\" \r\n\t\t\t\t\t\t\t\tcolor=\"#00BFFF\" \r\n\t\t\t\t\t\t\t\theight={80} \r\n\t\t\t\t\t\t\t\twidth={80} \r\n\t\t\t\t\t\t\t\tvisible = {this.props.isSaving}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<Button variant = \"primary\" disabled = {this.props.isSaving} onClick = {this.closeModal}> Close </Button>\r\n\t\t\t\t\t\t<Button variant = \"primary\" disabled = {this.props.isSaving} onClick = {this.saveNewData}> Save </Button>\r\n\t\t\t\t\t</Modal.Footer>\r\n\t\t\t\t\r\n\t\t\t\t:\r\n\t\t\t\t\t<Modal.Footer>\r\n\t\t\t\t\t\t<div className = \"alert-container\">\r\n\t\t\t\t\t\t\t<Alert className = \"error-alert\" variant = \"danger\" onClose = {this.hideAlert.bind(this)} dismissible>\r\n\t\t\t\t\t\t\t\t<p> {this.state.alertMessage} </p>\r\n\t\t\t\t\t\t\t</Alert>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className = \"loader-container\">\r\n\t\t\t\t\t\t\t<Loader type=\"ThreeDots\" \r\n\t\t\t\t\t\t\t\tcolor=\"#00BFFF\" \r\n\t\t\t\t\t\t\t\theight={80} \r\n\t\t\t\t\t\t\t\twidth={80} \r\n\t\t\t\t\t\t\t\tvisible = {this.props.isSaving}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<Button variant = \"primary\" disabled = {this.props.isSaving} onClick = {this.closeModal}> Close </Button>\r\n\t\t\t\t\t\t<Button variant = \"primary\" disabled = {this.props.isSaving} onClick = {this.saveNewData}> Save </Button>\r\n\t\t\t\t\t</Modal.Footer>\r\n\t\t\t\t}\r\n\t\t\t</Modal>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default AddModal;","import React, { Component } from 'react';\r\nimport Modal from \"react-bootstrap/Modal\";\r\nimport \"bootstrap/dist/css/bootstrap.min.css\";\r\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\r\nimport Loader from 'react-loader-spinner';\r\nimport Row from 'react-bootstrap/Row';\r\nimport Col from 'react-bootstrap/Col';\r\nimport Button from 'react-bootstrap/Button';\r\nimport Form from 'react-bootstrap/Form';\r\nimport FormControl from 'react-bootstrap/FormControl';\r\nimport InputGroup from 'react-bootstrap/InputGroup';\r\nimport '../td-css/EditModal.css';\r\nimport Alert from 'react-bootstrap/Alert';\r\nimport Dropdown from 'react-bootstrap/Dropdown';\r\nimport ListGroup from 'react-bootstrap/ListGroup';\r\n\r\n//PROPS\r\n\t//data\r\n\t//editModalShow\r\n\t//selectedDate\r\n\t//toDateString()\r\n\t//isSaving\r\n\t//dataToEdit\r\n\t//editIndex\r\n\t//toggleEditModal()\r\n\t//toggleSaveBar()\r\n\t//reloadCalendar()\r\n\t//saveData()\r\nclass EditModal extends Component {\r\n\t\r\n\tstate = {\r\n\t\tdataToEdit: null,\r\n\t\thasLoaded: false,\r\n\t\tentryType: null,\r\n\t\tshowAlert: false,\r\n\t\talertMessage: \"\",\r\n\t\tnameMenuShow: false\r\n\t}\r\n\r\n\tcomponentDidMount = () => {\r\n\t\tthis.setState({dataToEdit: this.props.dataToEdit});\r\n\t}\r\n\tcomponentDidUpdate = () => {\r\n\t\tif(this.state.dataToEdit === null && this.props.dataToEdit !== null) {\r\n\t\t\tthis.setState({dataToEdit: this.props.dataToEdit});\r\n\t\t\tfor(var i = 0; i < this.props.data.metaData.entryTypes.length; i++) {\r\n\t\t\t\tif(this.props.dataToEdit.Category === this.props.data.metaData.entryTypes[i].Category && this.props.dataToEdit.Type === this.props.data.metaData.entryTypes[i].Type) {\r\n\t\t\t\t\tthis.setState({entryType: this.props.data.metaData.entryTypes[i]});\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\tonSelectName = (value) => {\r\n\t\tconsole.log(\"yoo\");\r\n\t\tvar dataCopy = JSON.parse(JSON.stringify(this.state.dataToEdit));\r\n\t\tdataCopy.Name = value;\r\n\t\tconsole.log(dataCopy.Name);\r\n\t\tthis.setState({dataToEdit: dataCopy});\r\n\t}\r\n\t\r\n\tshowNameList = (nameSearch) => {\r\n\t\tif(nameSearch.length === 0) {\r\n\t\t\tthis.setState({nameMenuShow: false});\r\n\t\t}\r\n\t\telse {\r\n\t\t\tthis.setState({nameMenuShow: true});\r\n\t\t}\r\n\t}\t\r\n\t\r\n\tonClickRootClose = () => {\r\n\t\tif(this.state.nameMenuShow) {\r\n\t\t\tthis.setState({nameMenuShow: false});\r\n\t\t}\r\n\t\telse {\r\n\t\t\tthis.setState({nameMenuShow: true});\r\n\t\t}\r\n\t}\r\n\t\r\n\tshowAlert = (msg) => {\r\n\t\tthis.setState({showAlert: true, alertMessage: msg});\r\n\t}\r\n\t\r\n\thideAlert = () => {\r\n\t\tthis.setState({showAlert: false});\r\n\t}\r\n\t\r\n\tcloseModal = () => {\r\n\t\tthis.props.toggleEditModal(null);\r\n\t\tthis.setState({dataToEdit: null, hasLoaded: false});\r\n\t\tthis.setState({newData: {}, showAlert: false, alertMessage: \"\"});\r\n\t}\r\n\t\r\n\tresetModal = () => {\r\n\t\tthis.setState({dataToEdit: null, hasLoaded: false});\r\n\t\tthis.setState({newData: {}, showAlert: false, alertMessage: \"\"});\r\n\t}\r\n\t\r\n\tvalidateFields = () => {\r\n\t\tif(this.state.entryType === null) {\r\n\t\t\tthis.showAlert(\"Cannot save data, you're missing some required fields!\");\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\tfor(var key in this.state.dataToEdit) {\r\n\t\t\tif(key === \"Notes\" || key === \"displayOrder\") {\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\t\t\telse if(this.state.dataToEdit[key].toString().trim().length === 0) {\r\n\t\t\t\tthis.showAlert(\"Cannot save data, you're missing some required fields!\");\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\telse if(this.state.entryType[key] === \"number\" && isNaN(Number(this.state.dataToEdit[key]))) {\r\n\t\t\t\tthis.showAlert(\"'\" + key + \"'\" + \" must be a number!\"); \r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\telse if(this.state.entryType[key] === \"string\" && !isNaN(Number(this.state.dataToEdit[key]))) {\r\n\t\t\t\tthis.showAlert(\"'\" + key + \"'\" + \" cannot be a number!\"); \r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tthis.state.dataToEdit[key] = this.state.dataToEdit[key].toString().trim();\r\n\t\t\t}\r\n\t\t}\r\n\t\tthis.hideAlert();\r\n\t\treturn true;\r\n\t}\r\n\t\r\n\tonChangeEdit = (e) => {\r\n\t\tvar copy = JSON.parse(JSON.stringify(this.state.dataToEdit));\r\n\t\tconst key = [e.target.name][0];\r\n\t\tconst value = e.target.value;\r\n\t\tif(key === \"Name\") {\r\n\t\t\tthis.showNameList(value);\r\n\t\t\tcopy[key] = value;\r\n\t\t}\r\n\t\telse {\r\n\t\t\tcopy[key] = value;\r\n\t\t}\r\n\t\tthis.setState({dataToEdit: copy});\r\n\t}\r\n\t\r\n\tonSelectName = (value) => {\r\n\t\tvar dataCopy = JSON.parse(JSON.stringify(this.state.dataToEdit));\r\n\t\tdataCopy.Name = value;\r\n\t\tthis.setState({dataToEdit: dataCopy});\r\n\t}\r\n\t\r\n\tsaveEdit = async () => {\r\n\t\tvar data = JSON.parse(JSON.stringify(this.props.data));\r\n\t\tvar nameExists = false;\r\n\t\tif(this.validateFields()) {\r\n\t\t\tif(this.state.dataToEdit.Name !== undefined && this.state.dataToEdit.Name !== null) {\r\n\t\t\t\tfor(var i = 0; i < data.entryNames.length; i++) {\r\n\t\t\t\t\tif(this.state.dataToEdit.Name === data.entryNames[i].Name) {\r\n\t\t\t\t\t\tnameExists = true;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tif(!nameExists) {\r\n\t\t\t\t\tvar newName = {};\r\n\t\t\t\t\tnewName.Name = this.state.dataToEdit.Name\r\n\t\t\t\t\tnewName.Category = this.state.dataToEdit.Category;\r\n\t\t\t\t\tnewName.Type = this.state.dataToEdit.Type;\r\n\t\t\t\t\tdata.entryNames.push(newName);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tdata.userData[this.props.editIndex] = this.state.dataToEdit;\r\n\t\t\tawait this.props.saveData(data, \"save\", \"EditModal\");\r\n\t\t\tthis.props.reloadCalendar();\r\n\t\t\tthis.closeModal();\r\n\t\t}\r\n\t\telse {\r\n\t\t\treturn;\r\n\t\t}\r\n\t}\r\n\t\r\n\tcreateEditFields = () => {\r\n\t\tif(this.state.dataToEdit === null || this.state.dataToEdit == undefined) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\tconst editFields = this.state.dataToEdit.displayOrder.map((key) => {\r\n\t\t\tif(key === \"Category\" || key === \"Type\") {\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<ListGroup horizontal>\r\n\t\t\t\t\t\t<ListGroup.Item style = {{width: \"50%\"}}>\r\n\t\t\t\t\t\t\t{key}\r\n\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t<ListGroup.Item style = {{width: \"50%\"}}>\r\n\t\t\t\t\t\t\t\t<FormControl\r\n\t\t\t\t\t\t\t\t\tas = \"input\"\r\n\t\t\t\t\t\t\t\t\tname = {key}\r\n\t\t\t\t\t\t\t\t\tvalue = {this.state.dataToEdit[key]}\r\n\t\t\t\t\t\t\t\t\tdisabled = {true}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t</ListGroup>\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t\telse if(key === \"Name\") {\r\n\t\t\t\tvar nameList = [];\r\n\t\t\t\tfor(var i = 0; i < this.props.data.entryNames.length ; i++) {\r\n\t\t\t\t\tvar nameData = this.props.data.entryNames[i];\r\n\t\t\t\t\tif(this.state.dataToEdit.Category === nameData.Category && this.state.dataToEdit.Type === nameData.Type) {\r\n\t\t\t\t\t\tnameList.push(nameData.Name);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<ListGroup horizontal>\r\n\t\t\t\t\t\t<ListGroup.Item style = {{width: \"50%\"}}>\r\n\t\t\t\t\t\t\t{key}\r\n\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t<ListGroup.Item style = {{width: \"50%\"}}>\r\n\t\t\t\t\t\t\t<InputGroup>\r\n\t\t\t\t\t\t\t\t<Dropdown show = {this.state.nameMenuShow} as = {InputGroup.Prepend} onToggle = {this.onClickRootClose.bind(this)}>\r\n\t\t\t\t\t\t\t\t\t<Dropdown.Toggle variant = \"outline-secondary\" eventKey = \"00\"> </Dropdown.Toggle>\r\n\t\t\t\t\t\t\t\t\t<Dropdown.Menu rootCloseEvent = \"click\">\r\n\t\t\t\t\t\t\t\t\t\t{nameList.map((name) => {\r\n\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Dropdown.Item onSelect = {this.onSelectName.bind(this, name)} >\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{name}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Dropdown.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t</Dropdown.Menu>\r\n\t\t\t\t\t\t\t\t</Dropdown> \r\n\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\tas = \"input\"\r\n\t\t\t\t\t\t\t\t\tautoComplete = \"off\"\r\n\t\t\t\t\t\t\t\t\tname = {key}\r\n\t\t\t\t\t\t\t\t\tvalue = {this.state.dataToEdit[key]}\r\n\t\t\t\t\t\t\t\t\tonChange = {(e) => {this.onChangeEdit(e)}}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</InputGroup> \r\n\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t</ListGroup>\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<ListGroup horizontal>\r\n\t\t\t\t\t\t<ListGroup.Item style = {{width: \"50%\"}}>\r\n\t\t\t\t\t\t\t{key}\r\n\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t<ListGroup.Item style = {{width: \"50%\"}}>\r\n\t\t\t\t\t\t\t<FormControl\r\n\t\t\t\t\t\t\t\tas = \"input\"\r\n\t\t\t\t\t\t\t\tname = {key}\r\n\t\t\t\t\t\t\t\tvalue = {this.state.dataToEdit[key]}\r\n\t\t\t\t\t\t\t\tonChange = {(e) => {this.onChangeEdit(e)}}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t</ListGroup>\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t});\r\n\t\treturn <div> {editFields} </div>\r\n\t}\r\n\t\r\n\trender() {\r\n\t\tconst inputs = this.createEditFields();\r\n\t\tconst dateString = this.props.toDateString(this.props.selectedDate);\r\n\t\treturn (\r\n\t\t\t<Modal \r\n\t\t\t\tshow={this.props.editModalShow}\r\n\t\t\t\tcentered = {true}\r\n\t\t\t\tscrollable = {true}\r\n\t\t\t\tsize = \"lg\"\r\n\t\t\t\tonExited = {this.resetModal}\r\n\t\t\t>\r\n\t\t\t  <Modal.Header>\r\n\t\t\t\t<h4 className = \"modal-header-tag\"> Edit Training Data </h4>\r\n\t\t\t\t<h4 className = \"modal-header-tag\"> {dateString} </h4>\r\n\t\t\t  </Modal.Header>\r\n\t\t\t  \r\n\t\t\t  <Modal.Body>\r\n\t\t\t\t{inputs}\r\n\t\t\t  </Modal.Body>\r\n\t\t\t  \r\n\t\t\t\t{!this.state.showAlert\r\n\t\t\t\t\r\n\t\t\t\t?\r\n\t\t\t\t\t<Modal.Footer>\r\n\t\t\t\t\t\t<div className = \"loader-container\">\r\n\t\t\t\t\t\t\t<Loader type=\"ThreeDots\" \r\n\t\t\t\t\t\t\t\tcolor=\"#00BFFF\" \r\n\t\t\t\t\t\t\t\theight={80} \r\n\t\t\t\t\t\t\t\twidth={80} \r\n\t\t\t\t\t\t\t\tvisible = {this.props.isSaving}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<Button variant = \"primary\" disabled = {this.props.isSaving} onClick = {this.closeModal}> Close </Button>\r\n\t\t\t\t\t\t<Button variant = \"primary\" disabled = {this.props.isSaving} onClick = {(e) => {this.saveEdit(e)}}> Save </Button>\r\n\t\t\t\t\t</Modal.Footer>\r\n\t\t\t\t\r\n\t\t\t\t:\r\n\t\t\t\t\r\n\t\t\t\t\t<Modal.Footer>\r\n\t\t\t\t\t\t<Alert className = \"error-alert\" variant = \"danger\" onClose = {this.hideAlert.bind(this)} dismissible>\r\n\t\t\t\t\t\t\t<p> {this.state.alertMessage} </p>\r\n\t\t\t\t\t\t</Alert>\r\n\t\t\t\t\t\t<div className = \"loader-container\">\r\n\t\t\t\t\t\t\t<Loader type=\"ThreeDots\" \r\n\t\t\t\t\t\t\t\tcolor=\"#00BFFF\" \r\n\t\t\t\t\t\t\t\theight={80} \r\n\t\t\t\t\t\t\t\twidth={80} \r\n\t\t\t\t\t\t\t\tvisible = {this.props.isSaving}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<Button variant = \"primary\" disabled = {this.props.isSaving} onClick = {this.closeModal}> Close </Button>\r\n\t\t\t\t\t\t<Button variant = \"primary\" disabled = {this.props.isSaving} onClick = {(e) => {this.saveEdit(e)}}> Save </Button>\r\n\t\t\t\t\t</Modal.Footer>\r\n\t\t\t\t}\r\n\t\t\t</Modal>\t\t\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default EditModal; ","import React, { Component } from 'react';\r\nimport Container from 'react-bootstrap/Container';\r\nimport Row from 'react-bootstrap/Row';\r\nimport Col from 'react-bootstrap/Col';\r\nimport Button from 'react-bootstrap/Button';\r\nimport {Calendar as ReactCalendar} from 'react-calendar';\r\nimport '../td-css/Calendar.css';\r\nimport AddModal from './AddModal.js';\r\nimport EditModal from './EditModal.js';\r\nimport Accordion from 'react-bootstrap/Accordion';\r\nimport Card from 'react-bootstrap/Card';\r\nimport ListGroup from 'react-bootstrap/ListGroup';\r\nimport Overlay from 'react-bootstrap/Overlay';\r\nimport OverlayTrigger from 'react-bootstrap/OverlayTrigger';\r\nimport Popover from 'react-bootstrap/Popover';\r\nimport PopoverContent from 'react-bootstrap/PopoverContent';\r\nimport PopoverTitle from 'react-bootstrap/PopoverTitle';\r\nimport uuid from 'react-uuid';\r\nimport Table from 'react-bootstrap/Table';\r\n\r\n//PROPS\r\n\t//data \r\n\t//onClickAdd()\r\n\t//addModalShow\r\n\t//isSaving\r\n\t//toggleSaveBar()\r\n\t//toggleAddModal()\r\n\t//saveData()\r\nclass Calendar extends Component {\r\n\t\r\n\tstate = {\r\n\t\tselectedDate: null,\r\n\t\tselectedDateString: null,\r\n\t\tminDate: null,\r\n\t\tisDataOnDate: null,\r\n\t\thasLoaded: false, //flag to determine if data has loaded, mainly using it for initially determining if selected date has data \r\n\t\tdisplayData: null,\r\n\t\teventKey: 0,\r\n\t\tdataToEdit: null,\r\n\t\teditIndex: -1,\r\n\t\teventKey: -1\r\n\t}\r\n\t\r\n\t/* COMPONENT MOUNTING AND UPDATING METHODS */ \r\n\r\n\tcomponentDidMount = () => {\r\n\t\tthis.setState({selectedDate: this.formatNewDate(), selectedDateString: this.toDateString(this.formatNewDate())});\r\n\t}\r\n\r\n\tcomponentDidUpdate = () => {\r\n\t\tif(this.state.selectedDateString !== this.toDateString(this.state.selectedDate)){\r\n\t\t\tthis.setState({selectedDateString: this.toDateString(this.state.selectedDate), isDataOnDate: this.isSelectedDateInDateList()});\r\n\t\t}\r\n\t\tif(!this.state.hasLoaded && this.props.data !== null) {\r\n\t\t\tthis.setState({hasLoaded: true, minDate: this.formatDate(this.props.data.birthday), isDataOnDate: this.isSelectedDateInDateList()});\r\n\t\t}\r\n\t\tif(this.props.dataToEdit !== this.props.dataToEdit) {\r\n\t\t\tthis.setState({dataToEdit: this.props.dataToEdit});\r\n\t\t}\r\n\t\tif(this.state.eventKey > 1000) {\r\n\t\t\tthis.setState({eventKey: -1});\r\n\t\t}\r\n\t}\r\n\t\r\n\t//onclick event to handle edit button click\r\n\tonClickEdit = (index) => {\r\n\t\tthis.setState({editIndex: index});\r\n\t\tthis.props.toggleEditModal(this.props.data.userData[index]);\r\n\t}\r\n\t\r\n\t/* CALENDAR METHODS */\r\n\t\r\n\t//reloads after save from Add Modal\r\n\treloadCalendar = () => {\r\n\t\tthis.setState({hasLoaded: false});\r\n\t}\r\n\t\r\n\t//returns true if selected date is in dateList, false if not\r\n\tisSelectedDateInDateList = () => {\r\n\t\tif(this.props.data === null || this.props.data === undefined || this.state.selectedDate === null || this.state.selectedDate === undefined) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\tconst dateList = this.createDateList();\r\n\t\tfor(var i = 0; i < dateList.length; i++) {\r\n\t\t\tconst date = dateList[i];\r\n\t\t\tif(date.getTime() === this.state.selectedDate.getTime()) {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n\t\r\n\t//creates dateList to mark calendar \r\n\tcreateDateList = () => {\r\n\t\tif(this.props.data === null || this.props.data === undefined) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\tconst dateList = [];\r\n\t\tfor(var i = 0; i < this.props.data.userData.length; i++) {\r\n\t\t\tconst data = this.props.data.userData[i];\r\n\t\t\tconst dateString = data.Date;\r\n\t\t\tconst date = this.formatDate(dateString);\r\n\t\t\tdateList.push(date);\r\n\t\t}\r\n\t\treturn dateList;\r\n\t}\r\n\t\r\n\t//used to set today's date to zero hours, minutes, and seconds\r\n\tformatNewDate () {\r\n\t\tvar today = new Date();\r\n\t\tvar formatToday = new Date(today.getFullYear(), today.getMonth(), today.getDate(), 0, 0, 0);\r\n\t\treturn formatToday;\r\n\t}\r\n\t\r\n\t//used to format a new date based on date string\r\n\tformatDate = (dateString) => {\r\n\t\tvar date = new Date(dateString);\r\n\t\tvar formattedDate = new Date(date.getFullYear(), date.getMonth(), date.getDate(), 0, 0, 0);\r\n\t\treturn formattedDate;\r\n\t}\r\n\t\r\n\t//converts date into a string\r\n\ttoDateString = (date) => {\r\n\t\tif(date === null || date === undefined) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\tvar formattedDate = require('dateformat');\r\n\t\treturn formattedDate(date.toString(), \"fullDate\");\r\n\t}\r\n\t\r\n\t//onclick event handler when a day on the calendar is selected\r\n\tselectDay = (value) => {\r\n\t\tthis.setState({selectedDate: value});\r\n\t}\r\n\t\r\n\t//onclick event handler to delete an entry\r\n\tdeleteEntry = (index) => {\r\n\t\tconsole.log(index);\r\n\t\tvar approveDelete = window.confirm(\"Are you sure you want to delete this entry?\");\r\n\t\tif(approveDelete) {\r\n\t\t\tthis.props.data.userData.splice(index, 1);\r\n\t\t\tthis.props.saveData(this.props.data, \"delete\", \"Calendar\");\r\n\t\t}\r\n\t\telse {\r\n\t\t\treturn;\r\n\t\t}\r\n\t}\r\n\t\r\n\t/* DATA DISPLAY METHODS */ \r\n\t\r\n\tsortByDisplayName = (entry) => {\r\n\t\tconst displayOrder = entry.displayOrder;\r\n\t\tconst orderedJson = {};\r\n\t\tfor(var i = 0; i < displayOrder.length; i++) {\r\n\t\t\torderedJson[displayOrder[i]] = entry[displayOrder[i]];\r\n\t\t}\r\n\t\treturn orderedJson;\r\n\t}\r\n\t\r\n\tcalculateTotals = (data) => {\r\n\t\tvar totalList = [];\r\n\t\tfor(var i = 0; i < this.props.data.metaData.entryTypes.length; i++) {\r\n\t\t\tvar entryType = this.props.data.metaData.entryTypes[i];\r\n\t\t\tvar total = {Category: \"\", Type: \"\", calculationType: \"\", numOfEntries: 0, total: 0};\r\n\t\t\tfor(var x = 0; x < data.length; x++) {\r\n\t\t\t\tvar entry = data[x];\r\n\t\t\t\tvar numKey = \"\";\r\n\t\t\t\tfor(var key in entry) {\r\n\t\t\t\t\tif(!isNaN(entry[key]) && entry[key].length !== 0) {\r\n\t\t\t\t\t\tnumKey = key;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tif(entryType.Category === entry.Category && entryType.Type === entry.Type && entryType.calculationType !== \"none\" && numKey !== \"\") {\r\n\t\t\t\t\ttotal.Category = entry.Category;\r\n\t\t\t\t\ttotal.Type = entry.Type;\r\n\t\t\t\t\ttotal.calculationType = entryType.calculationType;\r\n\t\t\t\t\ttotal.numOfEntries = total.numOfEntries + 1;\r\n\t\t\t\t\ttotal.total = total.total + Number(entry[numKey]);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif(total.Category !== \"\" && total.Type !== \"\" && total.calculationType !== \"none\" && total.total !== 0) {\r\n\t\t\t\ttotalList.push(total);\r\n\t\t\t}\r\n\t\t}\r\n\t\tconsole.log(totalList);\r\n\t\tif(totalList.length === 0) {\r\n\t\t\treturn totalList;\r\n\t\t}\r\n\t\tvar results = [];\r\n\t\tfor(i = 0; i < totalList.length; i++) {\r\n\t\t\tvar total = totalList[i];\r\n\t\t\tvar result = {};\r\n\t\t\tif(total.numOfEntries === 1) {\r\n\t\t\t\tresult.Category = total.Category;\r\n\t\t\t\tresult.Type = total.Type;\r\n\t\t\t\tresult[total.Type] = total.total;\r\n\t\t\t\tresult.calculationType = total.calculationType.charAt(0).toUpperCase() + total.calculationType.slice(1);\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\t//only going to support add and average for now, since subtract, multiply, and divide don't really make sense for the given categories and types\r\n\t\t\t\tif(total.calculationType === \"add\") {\r\n\t\t\t\t\tresult.Category = total.Category;\r\n\t\t\t\t\tresult.Type = total.Type;\r\n\t\t\t\t\tresult[total.Type] = total.total;\r\n\t\t\t\t\tresult.calculationType = total.calculationType.charAt(0).toUpperCase() + total.calculationType.slice(1);\r\n\t\t\t\t}\r\n\t\t\t\telse if(total.calculationType === \"average\") {\r\n\t\t\t\t\tresult.Category = total.Category;\r\n\t\t\t\t\tresult.Type = total.Type;\r\n\t\t\t\t\tresult[total.Type] = (total.total / total.numOfEntries).toFixed(2);\r\n\t\t\t\t\tresult.calculationType = total.calculationType.charAt(0).toUpperCase() + total.calculationType.slice(1);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tresults.push(result);\r\n\t\t}\r\n\t\tconsole.log(results);\r\n\t\treturn results;\r\n\t}\r\n\t\r\n\tgoalAchieved = (entry) => {\r\n\t\tvar numKey = \"Amount\";\r\n\t\tfor(var key in entry) {\r\n\t\t\tif(!isNaN(entry[key]) && entry[key].toString().trim().length !== 0) {\r\n\t\t\t\tnumKey = key;\r\n\t\t\t\tconsole.log(numKey);\r\n\t\t\t}\r\n\t\t}\r\n\t\tfor(var i = 0; i < this.props.data.goals.length; i++) {\r\n\t\t\tvar goal = this.props.data.goals[i];\r\n\t\t\tif(goal[\"Goal Type\"] === entry.Category) {\r\n\t\t\t\tif(!goal.deletable) {\r\n\t\t\t\t\tif(Number(goal.Fields[entry.Type]) === Number(entry[numKey])) {\r\n\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tvar isAchieved = false;\r\n\t\t\t\t\tfor(var key in goal.Fields) {\r\n\t\t\t\t\t\tif(goal.Fields[key] === entry[key]) {\r\n\t\t\t\t\t\t\tisAchieved = true;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\tisAchieved = false;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(isAchieved) {\r\n\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n\t\r\n\tdisplayData = () => {\r\n\t\tif(this.state.selectedDate === null || this.state.selectedDate === undefined || this.props.data === null || this.props.data === undefined) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\tconst enteredCategories = [];\r\n\t\tconst entries = [];\r\n\t\tfor(var i = 0; i < this.props.data.userData.length; i++) {\r\n\t\t\tif(new Date(this.props.data.userData[i].Date).getTime() === this.state.selectedDate.getTime()) {\r\n\t\t\t\tentries.push(this.props.data.userData[i]);\r\n\t\t\t\tif(!enteredCategories.includes(this.props.data.userData[i].Category)) {\r\n\t\t\t\t\tenteredCategories.push(this.props.data.userData[i].Category);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tconst totals = this.calculateTotals(entries);\r\n\t\t\r\n\t\tconst cards = enteredCategories.map((category, catIndex) => {\r\n\t\t\tthis.state.eventKey++;\r\n\t\t\treturn (\r\n\t\t\t\t<Card key = {uuid}>\r\n\t\t\t\t\t<Card.Header>\r\n\t\t\t\t\t\t<Accordion.Toggle as = {Button} variant = \"link\" eventKey = {this.state.eventKey}>\r\n\t\t\t\t\t\t\t{category}\r\n\t\t\t\t\t\t</Accordion.Toggle>\r\n\t\t\t\t\t</Card.Header>\r\n\t\t\t\t\t<Accordion.Collapse eventKey = {this.state.eventKey}>\r\n\t\t\t\t\t\t<Card.Body>\r\n\t\t\t\t\t\t\t{this.props.data.userData.map((entry, index) => {\r\n\t\t\t\t\t\t\t\tif(new Date(entry.Date).getTime() === this.state.selectedDate.getTime() && category === entry.Category) {\r\n\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t{this.goalAchieved(entry) && entry.calculationType === \"none\"\r\n\t\t\t\t\t\t\t\t\t\t\t?\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div> Goal Achieved 🏆 </div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{entry.displayOrder.map((key) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tif(key !== \"Notes\") {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ListGroup horizontal key = {uuid()}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ListGroup.Item style = {{width: \"40%\"}}> <strong> {key} </strong> </ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ListGroup.Item style = {{width: \"60%\"}}> {entry[key]} </ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</ListGroup>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tconst popover = (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Popover>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Popover.Title as = \"h3\"> {key} </Popover.Title>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Popover.Content> {entry[key]} </Popover.Content>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Popover>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div key = {uuid()}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<OverlayTrigger trigger = \"click\" placement = \"right\" overlay = {popover} rootClose = {true}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button variant = \"success\"> {key} </Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</OverlayTrigger>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button variant = \"light\" className = \"deleteEditButtons\" onClick = {this.deleteEntry.bind(this, index)}> 🗑️ </Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button variant = \"light\" className = \"deleteEditButtons\" onClick = {this.onClickEdit.bind(this, index)}> ✏️ </Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<hr style = {{border: \"1px solid black\"}} />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t:\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{entry.displayOrder.map((key) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tif(key !== \"Notes\") {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ListGroup horizontal key = {uuid()}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ListGroup.Item style = {{width: \"40%\"}}> <strong> {key} </strong> </ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ListGroup.Item style = {{width: \"60%\"}}> {entry[key]} </ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</ListGroup>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tconst popover = (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Popover>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Popover.Title as = \"h3\"> {key} </Popover.Title>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Popover.Content> {entry[key]} </Popover.Content>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Popover>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div key = {uuid()}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<OverlayTrigger trigger = \"click\" placement = \"right\" overlay = {popover} rootClose = {true}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button variant = \"success\"> {key} </Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</OverlayTrigger>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button variant = \"light\" className = \"deleteEditButtons\" onClick = {this.deleteEntry.bind(this, index)}> 🗑️ </Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button variant = \"light\" className = \"deleteEditButtons\" onClick = {this.onClickEdit.bind(this, index)}> ✏️ </Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<hr style = {{border: \"1px solid black\"}} />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\treturn null;\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t</Card.Body>\r\n\t\t\t\t\t</Accordion.Collapse>\r\n\t\t\t\t</Card>\r\n\t\t\t)\r\n\t\t});\r\n\t\treturn (\r\n\t\t\t<Accordion> \r\n\t\t\t\t{cards} \r\n\t\t\t\t<Card key = {uuid()}>\r\n\t\t\t\t\t<Card.Header>\r\n\t\t\t\t\t\t<Accordion.Toggle as = {Button} variant = \"link\" eventKey = \"total\">\r\n\t\t\t\t\t\t\tData Totals \r\n\t\t\t\t\t\t</Accordion.Toggle>\r\n\t\t\t\t\t</Card.Header>\r\n\t\t\t\t\t<Accordion.Collapse eventKey = \"total\">\r\n\t\t\t\t\t\t<Card.Body>\r\n\t\t\t\t\t\t{totals.map((total) => {\r\n\t\t\t\t\t\t\tif(this.goalAchieved(total)) {\r\n\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t<div> Goal Achieved 🏆 </div>\r\n\t\t\t\t\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t\t\t\t\t<ListGroup horizontal key = {uuid()}>\r\n\t\t\t\t\t\t\t\t\t\t\t<ListGroup.Item style = {{width: \"50%\"}}> <strong> {total.Type} </strong> </ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t<ListGroup.Item style = {{width: \"50%\"}}> {total[total.Type]} </ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t</ListGroup>\r\n\t\t\t\t\t\t\t\t\t\t<hr style = {{border: \"1px solid black\"}} />\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t<ListGroup horizontal key = {uuid()}>\r\n\t\t\t\t\t\t\t\t\t\t<ListGroup.Item style = {{width: \"50%\"}}> <strong> {total.Type} </strong> </ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t<ListGroup.Item style = {{width: \"50%\"}}> {total[total.Type]} </ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t</ListGroup>\r\n\t\t\t\t\t\t\t\t\t<hr style = {{border: \"1px solid black\"}} />\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t</Card.Body>\r\n\t\t\t\t\t</Accordion.Collapse>\r\n\t\t\t\t</Card>\r\n\t\t\t</Accordion>\r\n\t\t)\r\n\t}\r\n\t\r\n\trender() {\r\n\t\tconst markedCalendar = ({activeStartDate, date, view}) => {\r\n\t\t\tif(this.props.data === null || this.props.data == undefined) {\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t\tif(view === \"month\" && this.createDateList().find(x => x.getTime() === date.getTime())) {\r\n\t\t\t\treturn <div> 💪 </div>\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tconst displayData = this.displayData();\r\n\t\treturn (\r\n\t\t\t<Container fluid>\r\n\t\t\t\t<Row>\r\n\t\t\t\t\t<AddModal \r\n\t\t\t\t\t\tdata = {this.props.data} \r\n\t\t\t\t\t\tselectedDate = {this.state.selectedDate}\r\n\t\t\t\t\t\tsaveData = {this.props.saveData}\r\n\t\t\t\t\t\ttoDateString = {this.toDateString}\r\n\t\t\t\t\t\taddModalShow = {this.props.addModalShow}\r\n\t\t\t\t\t\tisSaving = {this.props.isSaving}\r\n\t\t\t\t\t\ttoggleAddModal = {this.props.toggleAddModal}\r\n\t\t\t\t\t\ttoggleSaveBar = {this.props.toggleSaveBar}\r\n\t\t\t\t\t\treloadCalendar = {this.reloadCalendar}\r\n\t\t\t\t\t\tcreateDateList = {this.createDateList}\r\n\t\t\t\t\t/> \r\n\t\t\t\t</Row>\r\n\t\t\t\t<Row>\r\n\t\t\t\t\t<EditModal \r\n\t\t\t\t\t\tdata = {this.props.data}\r\n\t\t\t\t\t\teditModalShow = {this.props.editModalShow}\r\n\t\t\t\t\t\tselectedDate = {this.state.selectedDate}\r\n\t\t\t\t\t\ttoDateString = {this.toDateString}\r\n\t\t\t\t\t\tisSaving = {this.props.isSaving}\r\n\t\t\t\t\t\ttoggleEditModal = {this.props.toggleEditModal}\r\n\t\t\t\t\t\ttoggleSaveBar = {this.props.toggleSaveBar}\r\n\t\t\t\t\t\treloadCalendar = {this.reloadCalendar}\r\n\t\t\t\t\t\tsaveData = {this.props.saveData}\r\n\t\t\t\t\t\tdataToEdit = {this.props.dataToEdit}\r\n\t\t\t\t\t\teditIndex = {this.state.editIndex}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Row>\r\n\t\t\t\t<Row>\r\n\t\t\t\t\t<Col sm = {5}>\r\n\t\t\t\t\t\t{this.state.isDataOnDate \r\n\t\t\t\t\t\t?\r\n\t\t\t\t\t\t<div className = \"calendar-container\">\r\n\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t<Col sm = {11}>\r\n\t\t\t\t\t\t\t\t\t<h2 className = \"date-string\"> {this.state.selectedDateString} </h2>\r\n\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t<Col sm = {1}>\r\n\t\t\t\t\t\t\t\t\t<Button variant = \"primary\" className = \"add-data-button\" onClick = {this.props.toggleAddModal}> + </Button>\r\n\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t{displayData}\r\n\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t:\r\n\t\t\t\t\t\t<div className = \"calendar-container\">\r\n\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t<Col sm = {11}>\r\n\t\t\t\t\t\t\t\t\t<h2 className = \"date-string\"> {this.state.selectedDateString} </h2>\r\n\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t<Col sm = {1}>\r\n\t\t\t\t\t\t\t\t\t<Button variant = \"primary\" className = \"add-data-button\" onClick = {this.props.toggleAddModal}> + </Button>\r\n\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t<Col sm = {6}>\r\n\t\t\t\t\t\t\t\t\t<p style = {{marginLeft: \"1%\"}}> Nothing to see here... </p>\r\n\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<Col sm = {7}>\r\n\t\t\t\t\t\t<div className = \"calendar-container\">\r\n\t\t\t\t\t\t\t<ReactCalendar \r\n\t\t\t\t\t\t\t\tminDate = {this.state.minDate}\r\n\t\t\t\t\t\t\t\tshowNeighboringMonth = {false}\r\n\t\t\t\t\t\t\t\tonClickDay = {this.selectDay}\r\n\t\t\t\t\t\t\t\ttileContent = {markedCalendar}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t</Row>\r\n\t\t\t</Container>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default Calendar;","import React, { Component } from 'react';\r\nimport Container from 'react-bootstrap/Container';\r\nimport Row from 'react-bootstrap/Row';\r\nimport Col from 'react-bootstrap/Col';\r\nimport Button from 'react-bootstrap/Button';\r\nimport Dropdown from 'react-bootstrap/Dropdown';\r\nimport FormControl from 'react-bootstrap/FormControl';\r\nimport Form from 'react-bootstrap/Form';\r\nimport { LineChart, Line, XAxis, YAxis, CartesianGrid, Tooltip, Legend, ResponsiveContainer } from 'recharts';\r\nimport '../td-css/Graph.css';\r\n//import DatePicker from 'react-date-picker';\r\nimport DatePicker from 'react-datepicker';\r\nimport Accordion from 'react-bootstrap/Accordion';\r\nimport Card from 'react-bootstrap/Card';\r\n//import DatePicker from 'react-date-picker/dist/entry.nostyle';\r\n//PROPS\r\n\t//data\r\nclass Graph extends Component {\r\n\t\r\n\tstate = {\r\n\t\ttestData: [\r\n\t\t\t{name: \"test1\", data: 1},\r\n\t\t\t{name: \"test2\", data: 2},\r\n\t\t\t{name: \"test3\", data: 3},\r\n\t\t\t{name: \"test4\", data: 4},\r\n\t\t],\r\n\t\tgraphOption: \"Graph Options\",\r\n\t\tstartDate: null,\r\n\t\tendDate: null,\r\n\t\tgraphData: [],\r\n\t\tlineColors: [\"Aqua\", \"Black\", \"Blue\", \"BlueViolet\", \"Brown\", \"Chocolate\", \"Crimson\", \"DarkGreen\", \"DeepPink\", \"LightSeaGreen\", \"Maroon\",\r\n\t\t\t\t\t\"Navy\", \"Olive\", \"MidnightBlue\", \"Tomato\"],\r\n\t\tusedColors: [],\r\n\t\tcolorIndex: -1,\r\n\t\tgraphFilters: [],\r\n\t\trangeValue: null\r\n\t}\r\n\t\r\n\tcomponentDidUpdate = () => {\r\n\t\tif(this.state.colorIndex > this.state.lineColors.length) {\r\n\t\t\tthis.setState({colorIndex: -1});\r\n\t\t}\r\n\t}\r\n\t\r\n\tonSelectOption = (option) => {\r\n\t\tthis.setState({graphOption: option, graphFilters: []});\r\n\t}\r\n\t\r\n\tonSelectStartDate = (date) => {\r\n\t\tthis.setState({startDate: date});\r\n\t}\r\n\t\r\n\tonSelectEndDate = (date) => {\r\n\t\tthis.setState({endDate: date});\r\n\t}\r\n\t\r\n\tonChangeSlider = (e) => {\r\n\t\tconsole.log(e.target.value);\r\n\t\tthis.setState({rangeValue: e.target.value});\r\n\t}\r\n\t\r\n\tonSelectFilter = (filterName) => {\r\n\t\tvar filtersCopy = this.state.graphFilters.slice();\r\n\t\tif(!filtersCopy.includes(filterName)) {\r\n\t\t\tfiltersCopy.push(filterName);\r\n\t\t\tthis.setState({graphFilters: filtersCopy});\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tfiltersCopy.splice(filtersCopy.indexOf(filterName), 1);\r\n\t\tthis.setState({graphFilters: filtersCopy});\r\n\t}\r\n\t\r\n\tcreateOptionDropdown = () => {\r\n\t\tif(this.props.data === null || this.props.data === undefined) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\treturn (\r\n\t\t\t<Dropdown className = \"options-button\">\r\n\t\t\t\t<Dropdown.Toggle variant = \"primary\">\r\n\t\t\t\t\t{this.state.graphOption}\r\n\t\t\t\t</Dropdown.Toggle>\r\n\t\t\t\t<Dropdown.Menu>\r\n\t\t\t\t\t{this.props.data.metaData.categories.map((category, index) => {\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<Dropdown.Header>\r\n\t\t\t\t\t\t\t\t\t<strong> {category} </strong>\r\n\t\t\t\t\t\t\t\t</Dropdown.Header>\r\n\t\t\t\t\t\t\t\t{this.props.data.metaData.entryTypes.map((entry) => {\r\n\t\t\t\t\t\t\t\t\tif(category === entry.Category) {\r\n\t\t\t\t\t\t\t\t\t\tfor(var key in entry) {\r\n\t\t\t\t\t\t\t\t\t\t\tif(entry[key] === \"number\") {\r\n\t\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Dropdown.Item onSelect = {this.onSelectOption.bind(this, entry.Type)}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{entry.Type}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Dropdown.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t})}\r\n\t\t\t\t</Dropdown.Menu>\r\n\t\t\t</Dropdown>\r\n\t\t)\r\n\t}\r\n\t\r\n\tcreateDateDropdown = () => {\r\n\t\treturn (\r\n\t\t\t<Dropdown className = \"options-button\">\r\n\t\t\t\t<Dropdown.Toggle variant = \"primary\">\r\n\t\t\t\t\tDate Range\r\n\t\t\t\t</Dropdown.Toggle>\r\n\t\t\t\t<Dropdown.Menu>\r\n\t\t\t\t\t<Dropdown.Item as = {this.dateOption}> </Dropdown.Item>\r\n\t\t\t\t</Dropdown.Menu>\r\n\t\t\t</Dropdown>\r\n\t\t);\r\n\t}\r\n\t\r\n\tfilterGraphData = (graphData) => {\r\n\t\tif(this.state.graphFilters === null || this.state.graphFilters.length === 0 || graphData === null || graphData.length === 0) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\tvar filteredGraphData = [];\r\n\t\tvar numericFilters = [];\r\n\t\t//apply name filters first\r\n\t\tfor(var i = 0; i < graphData.length; i++) {\r\n\t\t\tvar entry = graphData[i];\r\n\t\t\tfor(var x = 0; x < this.state.graphFilters.length; x++) {\r\n\t\t\t\tvar filter = this.state.graphFilters[x];\r\n\t\t\t\tfor(var key in entry) {\r\n\t\t\t\t\tif(entry[key] === filter) {\r\n\t\t\t\t\t\tfilteredGraphData.push(entry);\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse if(!isNaN(entry[filter])){\r\n\t\t\t\t\t\tif(!numericFilters.includes(filter)) {\r\n\t\t\t\t\t\t\tnumericFilters.push(filter);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\t//apply numeric filters now\r\n\t\tif(filteredGraphData.length === 0) {\r\n\t\t\tfor(i = 0; i < graphData.length; i++) {\r\n\t\t\t\tvar entry = graphData[i];\r\n\t\t\t\tvar filteredEntry = {};\r\n\t\t\t\tfor(x = 0; x < this.state.graphFilters.length; x++) {\r\n\t\t\t\t\tvar filter = this.state.graphFilters[x];\r\n\t\t\t\t\tif(Object.keys(entry).includes(filter)) {\r\n\t\t\t\t\t\tfilteredEntry[filter] = entry[filter];\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tfilteredEntry[\"Name\"] = entry[\"Name\"];\r\n\t\t\t\tfilteredEntry[\"Date\"] = entry[\"Date\"];\r\n\t\t\t\tfilteredGraphData.push(filteredEntry);\r\n\t\t\t}\r\n\t\t\tconsole.log(filteredGraphData);\r\n\t\t\treturn filteredGraphData\r\n\t\t}\r\n\t\telse {\r\n\t\t\tconsole.log(numericFilters);\r\n\t\t\tif(numericFilters.length === 0) {\r\n\t\t\t\treturn filteredGraphData;\r\n\t\t\t}\r\n\t\t\tvar finalFilteredGraphData = [];\r\n\t\t\tfor(i = 0; i < filteredGraphData.length; i++) {\r\n\t\t\t\tvar entry = filteredGraphData[i];\r\n\t\t\t\tvar filteredEntry = {};\r\n\t\t\t\tfor(x = 0; x < this.state.graphFilters.length; x++) {\r\n\t\t\t\t\tvar filter = this.state.graphFilters[x];\r\n\t\t\t\t\tif(Object.keys(entry).includes(filter)) {\r\n\t\t\t\t\t\tfilteredEntry[filter] = entry[filter];\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t\tfilteredEntry[\"Name\"] = entry[\"Name\"];\r\n\t\t\t\tfilteredEntry[\"Date\"] = entry[\"Date\"];\r\n\t\t\t\tfinalFilteredGraphData.push(filteredEntry);\r\n\t\t\t}\r\n\t\t\tconsole.log(finalFilteredGraphData);\r\n\t\t\treturn finalFilteredGraphData;\r\n\t\t}\r\n\t\treturn null;\r\n\t}\r\n\t\r\n\tgetGraphData = () => {\r\n\t\tvar graphData = [];\r\n\t\tif(this.state.startDate === null || this.state.endDate === null || this.state.graphOption === \"Graph Options\" || this.state.startDate.getTime() > this.state.endDate.getTime()) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\tfor(var i = 0; i < this.props.data.userData.length; i++) {\r\n\t\t\tconst entry = this.props.data.userData[i];\r\n\t\t\tconst entryDate = new Date(entry.Date);\r\n\t\t\tif(this.state.startDate.getTime() <= entryDate.getTime() && entryDate.getTime() <= this.state.endDate.getTime() && entry.Type === this.state.graphOption) {\r\n\t\t\t\tvar graphEntry = {};\r\n\t\t\t\tfor(var key in entry) {\r\n\t\t\t\t\tif(!isNaN(Number(entry[key])) && entry[key].length !== 0 || key === \"Name\") {\r\n\t\t\t\t\t\tgraphEntry[key] = entry[key];\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tgraphEntry.Date = entryDate.toLocaleDateString();\r\n\t\t\t\tgraphData.push(graphEntry);\r\n\t\t\t}\r\n\t\t}\r\n\t\t//sorting graph data by date\r\n\t\tfor(i = 0; i < graphData.length; i++) {\t\t\r\n\t\t\tvar min = i; \r\n\t\t\tfor(var x = i + 1; x < graphData.length; x++) {\r\n\t\t\t\tif(new Date(graphData[min].Date).getTime() > new Date(graphData[x].Date).getTime()) {\r\n\t\t\t\t\tmin = x;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif(min !== i) {\r\n\t\t\t\tvar temp = graphData[i];\r\n\t\t\t\tgraphData[i] = graphData[min];\r\n\t\t\t\tgraphData[min] = temp;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn graphData;\r\n\t}\r\n\t\r\n\tcreateLines = (graphData) => {\r\n\t\tif(graphData === null) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\tvar dataKeys = [];\r\n\t\tfor(var i = 0; i < graphData.length; i++) {\r\n\t\t\tvar entry = graphData[i];\r\n\t\t\tfor(var key in entry) {\r\n\t\t\t\tif(!isNaN(Number(entry[key])) && entry[key].length !== 0 && !dataKeys.includes(key) || key === \"Name\" && !dataKeys.includes(key)) {\r\n\t\t\t\t\tdataKeys.push(key);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tconsole.log(dataKeys);\r\n\t\tconst lines = dataKeys.map((dataKey, index) => {\r\n\t\t\treturn (\r\n\t\t\t\t<Line dataKey = {dataKey} stroke = {this.state.lineColors[index]}/>\r\n\t\t\t);\r\n\t\t});\r\n\t\treturn lines;\r\n\t}\r\n\t\r\n\tgetLegendData = (graphData) => {\r\n\t\tif(graphData === null) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\tvar legendData = [];\r\n\t\tfor(var i = 0; i < graphData.length; i++) {\r\n\t\t\tvar entry = graphData[i];\r\n\t\t\tfor(var key in entry) {\r\n\t\t\t\t//if(!isNaN(Number(entry[key])) && entry[key].length !== 0 && !legendData.includes(key))\r\n\t\t\t\tif(entry[key].length !== 0 && !legendData.includes(key) && key !== \"Date\" && key !== \"Notes\") {\r\n\t\t\t\t\tlegendData.push(key);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tvar matchingColorIndex = -1;\r\n\t\tif(legendData.length === 1) {\r\n\t\t\tmatchingColorIndex = this.state.colorIndex;\r\n\t\t}\r\n\t\telse {\r\n\t\t\tmatchingColorIndex = this.state.colorIndex - legendData.length;\r\n\t\t}\r\n\t\tfor(i = 0; i < legendData.length; i++) {\r\n\t\t\tconsole.log(this.state.lineColors[matchingColorIndex]);\r\n\t\t\tlegendData[i] = {\"color\": this.state.lineColors[i], dataKey: legendData[i], \"type\": \"line\", \"value\": legendData[i]}\r\n\t\t\tmatchingColorIndex++;\r\n\t\t}\r\n\t\tconsole.log(legendData);\r\n\t\treturn legendData;\r\n\t}\r\n\r\n\t\r\n\tcreateStringFilters = (graphData) => {\r\n\t\tif(graphData === null || graphData === undefined || graphData.length === 0) {\r\n\t\t\treturn <div> </div>;\r\n\t\t}\r\n\t\tvar filters = [];\r\n\t\tvar filterData = [];\r\n\t\tfor(var i = 0; i < graphData.length; i++) {\r\n\t\t\tvar entry = graphData[i];\r\n\t\t\tfor(var key in entry) {\r\n\t\t\t\tif(!isNaN(Number(entry[key])) && entry[key].length !== 0 && !filters.includes(key) || this.props.data.metaData.graphFilterConstants.includes(key) && !filters.includes(key)) {\r\n\t\t\t\t\tfilters.push(key);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tif(filters.length < 1) {\r\n\t\t\treturn <div> </div>;\r\n\t\t}\r\n\t\tfor(i = 0; i < filters.length; i++) {\r\n\t\t\tvar filter = filters[i];\r\n\t\t\tif(!isNaN(graphData[0][filter])) {\r\n\t\t\t\tfilterData.push(filter);\r\n\t\t\t}\r\n\t\t\tfor(var x = 0; x < graphData.length; x++) {\r\n\t\t\t\tif(isNaN(graphData[x][filter]) && !filterData.includes(graphData[x][filter])) {\r\n\t\t\t\t\tfilterData.push(graphData[x][filter]);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tif(filterData === null || filterData === undefined || filterData.length === 0) {\r\n\t\t\treturn <div> </div>;\r\n\t\t}\r\n\t\treturn (\r\n\t\t\t\t<Card>\r\n\t\t\t\t\t<Card.Body>\r\n\t\t\t\t\t\t<Card.Title> \r\n\t\t\t\t\t\t\tShow By \r\n\t\t\t\t\t\t</Card.Title>\r\n\t\t\t\t\t\t{filterData.length === 1\r\n\t\t\t\t\t\t\t?\r\n\t\t\t\t\t\t\t\t<Form.Check type = \"checkbox\" label = {filterData[0]} onClick = {this.onSelectFilter.bind(this, filterData[0])}/> \r\n\t\t\t\t\t\t\t:\r\n\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t{filterData.map((data) => {\r\n\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Check type = \"checkbox\" label = {data} onClick = {this.onSelectFilter.bind(this, data)}/> \r\n\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t</Card.Body>\r\n\t\t\t\t</Card>\r\n\t\t)\r\n\t}\r\n\t\r\n\tcreateNumFilters = (graphData) => {\r\n\t\tif(graphData === null) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\tvar rangeSliders;\r\n\t\tvar sliderLabels = [];\r\n\t\t\r\n\t\tif(this.state.graphFilters.length === 0) {\r\n\t\t\tfor(var i = 0; i < graphData.length; i++) {\r\n\t\t\t\tvar entry = graphData[i];\r\n\t\t\t\tfor(var key in entry) {\r\n\t\t\t\t\tif(!isNaN(entry[key]) && !sliderLabels.includes(key)) {\r\n\t\t\t\t\t\tsliderLabels.push(key);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif(sliderLabels.length === 0) {\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t\trangeSliders = sliderLabels.map((label, index) => {\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<Form>\r\n\t\t\t\t\t\t<Form.Group controlId = {index}>\r\n\t\t\t\t\t\t\t<Form.Label> {label} </Form.Label>\r\n\t\t\t\t\t\t\t<Form.Control type = \"range\" />\r\n\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t</Form>\r\n\t\t\t\t)\r\n\t\t\t});\r\n\t\t}\r\n\t\telse {\r\n\t\t\tfor(var i = 0; i < graphData.length; i++) {\r\n\t\t\t\tvar entry = graphData[i];\r\n\t\t\t\tfor(var key in entry) {\r\n\t\t\t\t\tif(!isNaN(entry[key]) && !sliderLabels.includes(key) && !this.state.graphFilters.includes(key)) {\r\n\t\t\t\t\t\tsliderLabels.push(key);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif(sliderLabels.length === 0) {\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t\trangeSliders = sliderLabels.map((label, index) => {\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<Form>\r\n\t\t\t\t\t\t<Form.Group controlId = {index}>\r\n\t\t\t\t\t\t\t<Form.Label> {label} </Form.Label>\r\n\t\t\t\t\t\t\t<Form.Control type = \"range\" />\r\n\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t</Form>\r\n\t\t\t\t)\r\n\t\t\t});\r\n\t\t}\r\n\t\treturn rangeSliders;\r\n\t}\r\n\t\r\n\tgetMaxValue = (graphData) => {\r\n\t\tif(graphData === null || graphData === undefined) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\tvar max = 0;\r\n\t\tfor(var i = 0; i < graphData.length; i++) {\r\n\t\t\tvar entry = graphData[i];\r\n\t\t\tfor(var key in entry) {\r\n\t\t\t\tif(!isNaN(entry[key])) {\r\n\t\t\t\t\tif(Number(entry[key]) > max) {\r\n\t\t\t\t\t\tmax = Number(entry[key]);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tif(this.state.rangeValue === null) {\r\n\t\t\tthis.state.rangeValue = max;\r\n\t\t}\r\n\t\treturn max;\r\n\t}\r\n\t\r\n\trender() {\r\n\t\tconst startPicker = <Form.Control\r\n\t\t\t\t\t\t\t\ttype = \"input\"\r\n\t\t\t\t\t\t\t/>\r\n\t\tconst endPicker = <Form.Control\r\n\t\t\t\t\t\t\t\ttype = \"input\"\r\n\t\t\t\t\t\t\t/>\r\n\t\tconst dropdownOption = this.createOptionDropdown();\r\n\t\tvar graphData = this.getGraphData();\r\n\t\tconst stringFilters = this.createStringFilters(graphData);\r\n\t\tconst rangeSliders = this.createNumFilters(graphData);\r\n\t\tconst filteredGraphData = this.filterGraphData(graphData);\r\n\t\tvar legendPayload;\r\n\t\tvar lines;\r\n\t\tvar maxValue;\r\n\t\tif(filteredGraphData !== null) {\r\n\t\t\tlines = this.createLines(filteredGraphData);\r\n\t\t\t//legendPayload = this.getLegendData(filteredGraphData);\r\n\t\t\tmaxValue = this.getMaxValue(filteredGraphData);\r\n\t\t\tgraphData = filteredGraphData;\r\n\t\t}\r\n\t\telse {\r\n\t\t\tlines = this.createLines(graphData);\r\n\t\t\t//legendPayload = this.getLegendData(graphData);\r\n\t\t\tmaxValue = this.getMaxValue(graphData);\r\n\t\t}\r\n\t\t\r\n\t\treturn (\r\n\t\t\t<Container fluid> \r\n\t\t\t\t<Row>\r\n\t\t\t\t\t<Col sm = {2}>\r\n\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t{dropdownOption}\r\n\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t<p> <u> Start Date </u> </p>\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t<DatePicker\r\n\t\t\t\t\t\t\t\t\t\t\tselected = {this.state.startDate}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange = {this.onSelectStartDate}\r\n\t\t\t\t\t\t\t\t\t\t\tcustomInput = {startPicker}\r\n\t\t\t\t\t\t\t\t\t\t\tplaceholderText = \"mm/dd/yyyy\"\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t<p> <u> End Date </u> </p>\t\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t<DatePicker\r\n\t\t\t\t\t\t\t\t\t\t\tselected = {this.state.endDate}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange = {this.onSelectEndDate}\r\n\t\t\t\t\t\t\t\t\t\t\tcustomInput = {endPicker}\r\n\t\t\t\t\t\t\t\t\t\t\tplaceholderText = \"mm/dd/yyyy\"\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t{stringFilters}\r\n\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t</Row> \r\n\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t{/*\r\n\t\t\t\t\t\t\t<Form>\r\n\t\t\t\t\t\t\t\t<Form.Group controlId = {23}>\r\n\t\t\t\t\t\t\t\t\t{maxValue === null\r\n\t\t\t\t\t\t\t\t\t\t?\r\n\t\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Form.Label> <strong> Toggle Y-Axis: </strong> N/A </Form.Label>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Form.Control type = \"range\" disabled = {true}/>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t:\r\n\t\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Form.Label> <strong> Toggle Y-Axis: </strong> {this.state.rangeValue} </Form.Label>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Form.Control type = \"range\" value = {this.state.rangeValue} max = {this.state.rangeValue} onChange = {(e) => {this.onChangeSlider(e)}}/>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t</Form>\r\n\t\t\t\t\t\t*/}\r\n\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t\t<Col sm = {10}>\r\n\t\t\t\t\t\t<div className = \"graph-container\">\r\n\t\t\t\t\t\t{graphData === null ?\r\n\t\t\t\t\t\t\t<h3> <i> Graph Title </i> </h3>\r\n\t\t\t\t\t\t\t:\r\n\t\t\t\t\t\t\t<h3> {this.state.graphOption} </h3>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t<ResponsiveContainer>\r\n\t\t\t\t\t\t\t\t<LineChart \r\n\t\t\t\t\t\t\t\t\tdata = {graphData}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<XAxis dataKey = \"Date\"/>\r\n\t\t\t\t\t\t\t\t\t<YAxis type = \"number\" domain = {[0, maxValue]}/>\r\n\t\t\t\t\t\t\t\t\t <CartesianGrid strokeDasharray=\"3 3\" />\r\n\t\t\t\t\t\t\t\t\t<Tooltip/>\r\n\t\t\t\t\t\t\t\t\t<Legend />\r\n\t\t\t\t\t\t\t\t\t{lines}\r\n\t\t\t\t\t\t\t\t</LineChart>\r\n\t\t\t\t\t\t\t</ResponsiveContainer>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t</Row>\r\n\t\t\t</Container>\r\n\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default Graph;","import React, { Component } from 'react';\r\nimport Container from 'react-bootstrap/Container';\r\nimport Row from 'react-bootstrap/Row';\r\nimport Col from 'react-bootstrap/Col';\r\nimport Button from 'react-bootstrap/Button';\r\nimport AddModal from './AddModal.js';\r\nimport EditModal from './EditModal.js';\r\nimport Accordion from 'react-bootstrap/Accordion';\r\nimport Card from 'react-bootstrap/Card';\r\nimport ListGroup from 'react-bootstrap/ListGroup';\r\nimport Overlay from 'react-bootstrap/Overlay';\r\nimport OverlayTrigger from 'react-bootstrap/OverlayTrigger';\r\nimport Popover from 'react-bootstrap/Popover';\r\nimport PopoverContent from 'react-bootstrap/PopoverContent';\r\nimport PopoverTitle from 'react-bootstrap/PopoverTitle';\r\nimport uuid from 'react-uuid';\r\nimport Table from 'react-bootstrap/Table';\r\nimport '../td-css/DataList.css';\r\nimport DatePicker from 'react-datepicker';\r\nimport Dropdown from 'react-bootstrap/Dropdown';\r\nimport Form from 'react-bootstrap/Form';\r\nimport FormControl from 'react-bootstrap/FormControl';\r\n\r\n//props\r\n\t//data\r\nclass DataList extends Component {\r\n\t\r\n\tstate = {\r\n\t\tstartDate: null,\r\n\t\tendDate: null,\r\n\t\tlistOption: \"List Options\",\r\n\t\tlistFilters: [],\r\n\t\tallChecked: true,\r\n\t\tselectedDate: null\r\n\t}\r\n\t\r\n\tonSelectOption = (option) => {\r\n\t\tvar filtersCopy = this.state.listFilters.slice();\r\n\t\tif(option === \"All\") {\r\n\t\t\tthis.setState({listFilters: [], allChecked: !this.state.allChecked});\r\n\t\t\treturn;\r\n\t\t}\r\n\t\telse if(!filtersCopy.includes(option)) {\r\n\t\t\tfiltersCopy.push(option);\r\n\t\t}\r\n\t\telse if(filtersCopy.includes(option)) {\r\n\t\t\tfiltersCopy.splice(filtersCopy.indexOf(option), 1);\r\n\t\t}\r\n\t\tthis.setState({listFilters: filtersCopy, allChecked: false});\r\n\t}\r\n\t\r\n\ttoggleAddModal = async (date) => {\r\n\t\tawait this.setState({selectedDate: new Date(date)});\r\n\t\tthis.props.toggleAddModal();\r\n\t}\r\n\t\r\n\tonSelectEndDate = (date) => {\r\n\t\tthis.setState({endDate: date});\r\n\t}\r\n\t\r\n\tonSelectStartDate = (date) => {\r\n\t\tthis.setState({startDate: date});\r\n\t}\r\n\t\r\n\t//onclick event to handle edit button click\r\n\tonClickEdit = async (index, date) => {\r\n\t\tawait this.setState({editIndex: index, selectedDate: new Date(date)});\r\n\t\tthis.props.toggleEditModal(this.props.data.userData[index]);\r\n\t}\r\n\t\r\n\t//onclick event handler to delete an entry\r\n\tdeleteEntry = (index) => {\r\n\t\tconsole.log(index);\r\n\t\tvar approveDelete = window.confirm(\"Are you sure you want to delete this entry?\");\r\n\t\tif(approveDelete) {\r\n\t\t\tthis.props.data.userData.splice(index, 1);\r\n\t\t\tthis.props.saveData(this.props.data, \"delete\", \"Calendar\");\r\n\t\t}\r\n\t\telse {\r\n\t\t\treturn;\r\n\t\t}\r\n\t}\r\n\t\r\n\treload = () => {\r\n\t\tthis.forceUpdate();\r\n\t}\r\n\t\r\n\tgoalAchieved = (entry) => {\r\n\t\tvar numKey = \"Amount\";\r\n\t\tfor(var key in entry) {\r\n\t\t\tif(!isNaN(entry[key]) && entry[key].toString().trim().length !== 0) {\r\n\t\t\t\tnumKey = key;\r\n\t\t\t\tconsole.log(numKey);\r\n\t\t\t}\r\n\t\t}\r\n\t\tfor(var i = 0; i < this.props.data.goals.length; i++) {\r\n\t\t\tvar goal = this.props.data.goals[i];\r\n\t\t\tif(goal[\"Goal Type\"] === entry.Category) {\r\n\t\t\t\tif(!goal.deletable) {\r\n\t\t\t\t\tif(Number(goal.Fields[entry.Type]) === Number(entry[numKey])) {\r\n\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tvar isAchieved = false;\r\n\t\t\t\t\tfor(var key in goal.Fields) {\r\n\t\t\t\t\t\tif(goal.Fields[key] === entry[key]) {\r\n\t\t\t\t\t\t\tisAchieved = true;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\tisAchieved = false;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(isAchieved) {\r\n\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n\t\r\n\tcreateOptionDropdown = () => {\r\n\t\tif(this.props.data === null || this.props.data === undefined) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\treturn (\r\n\t\t\t<Dropdown>\r\n\t\t\t\t<Dropdown.Toggle variant = \"primary\">\r\n\t\t\t\t\t{this.state.listOption}\r\n\t\t\t\t</Dropdown.Toggle>\r\n\t\t\t\t<Dropdown.Menu>\r\n\t\t\t\t\t<div style = {{margin: \"5%\"}}>\r\n\t\t\t\t\t\t{this.state.startDate === null || this.state.endDate === null || this.state.startDate.getTime() > this.state.endDate.getTime()\r\n\t\t\t\t\t\t\t?\r\n\t\t\t\t\t\t\t\t<Form.Check \r\n\t\t\t\t\t\t\t\ttype = \"checkbox\"\r\n\t\t\t\t\t\t\t\tlabel = \"All\"\r\n\t\t\t\t\t\t\t\tchecked = {true}\r\n\t\t\t\t\t\t\t\tdisabled = {true}\r\n\t\t\t\t\t\t\t\tonChange = {this.onSelectOption.bind(this, \"All\")}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t:\r\n\t\t\t\t\t\t\t\t<Form.Check \r\n\t\t\t\t\t\t\t\ttype = \"checkbox\"\r\n\t\t\t\t\t\t\t\tlabel = \"All\"\r\n\t\t\t\t\t\t\t\tchecked = {this.state.allChecked}\r\n\t\t\t\t\t\t\t\tonChange = {this.onSelectOption.bind(this, \"All\")}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t{this.props.data.metaData.categories.map((category, index) => {\t\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<Dropdown.Header>\r\n\t\t\t\t\t\t\t\t\t<strong> {category} </strong>\r\n\t\t\t\t\t\t\t\t</Dropdown.Header>\r\n\t\t\t\t\t\t\t\t{this.props.data.metaData.entryTypes.map((entry) => {\r\n\t\t\t\t\t\t\t\t\tif(category === entry.Category) {\r\n\t\t\t\t\t\t\t\t\t\tif(this.state.startDate === null || this.state.endDate === null || this.state.startDate.getTime() > this.state.endDate.getTime()) {\r\n\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div style = {{margin: \"5%\"}}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Check \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype = \"checkbox\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel = {entry.Type}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tchecked = {false}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled = {true}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange = {this.onSelectOption.bind(this, entry.Type)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\telse if(this.state.listFilters.length === 0) {\r\n\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div style = {{margin: \"5%\"}}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Check \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype = \"checkbox\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel = {entry.Type}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tchecked = {false}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange = {this.onSelectOption.bind(this, entry.Type)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t<div style = {{margin: \"5%\"}}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Form.Check \r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype = \"checkbox\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tlabel = {entry.Type}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange = {this.onSelectOption.bind(this, entry.Type)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t})}\r\n\t\t\t\t</Dropdown.Menu>\r\n\t\t\t</Dropdown>\r\n\t\t);\r\n\t}\r\n\t\r\n\tcalculateTotals = (data) => {\r\n\t\tconsole.log(data);\r\n\t\tvar totalList = [];\r\n\t\tfor(var i = 0; i < this.props.data.metaData.entryTypes.length; i++) {\r\n\t\t\tvar entryType = this.props.data.metaData.entryTypes[i];\r\n\t\t\tvar total = {Category: \"\", Type: \"\", calculationType: \"\", numOfEntries: 0, total: 0};\r\n\t\t\tfor(var x = 0; x < data.length; x++) {\r\n\t\t\t\tvar entry = data[x];\r\n\t\t\t\tvar numKey = \"\";\r\n\t\t\t\tfor(var key in entry) {\r\n\t\t\t\t\tif(!isNaN(entry[key]) && entry[key].length !== 0) {\r\n\t\t\t\t\t\tnumKey = key;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tif(entryType.Category === entry.Category && entryType.Type === entry.Type && entryType.calculationType !== \"none\" && numKey !== \"\") {\r\n\t\t\t\t\ttotal.Category = entry.Category;\r\n\t\t\t\t\ttotal.Type = entry.Type;\r\n\t\t\t\t\ttotal.calculationType = entryType.calculationType;\r\n\t\t\t\t\ttotal.numOfEntries = total.numOfEntries + 1;\r\n\t\t\t\t\ttotal.total = total.total + Number(entry[numKey]);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif(total.Category !== \"\" && total.Type !== \"\" && total.calculationType !== \"none\" && total.total !== 0) {\r\n\t\t\t\ttotalList.push(total);\r\n\t\t\t}\r\n\t\t}\r\n\t\tif(totalList.length === 0) {\r\n\t\t\treturn totalList;\r\n\t\t}\r\n\t\tvar results = [];\r\n\t\tfor(i = 0; i < totalList.length; i++) {\r\n\t\t\tvar total = totalList[i];\r\n\t\t\tvar result = {};\r\n\t\t\tif(total.numOfEntries === 1) {\r\n\t\t\t\tresult.Category = total.Category;\r\n\t\t\t\tresult.Type = total.Type;\r\n\t\t\t\tresult.Amount = total.total;\r\n\t\t\t\tresult.calculationType = total.calculationType.charAt(0).toUpperCase() + total.calculationType.slice(1);\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\t//only going to support add and average for now, since subtract, multiply, and divide don't really make sense for the given categories and types\r\n\t\t\t\tif(total.calculationType === \"add\") {\r\n\t\t\t\t\tresult.Category = total.Category;\r\n\t\t\t\t\tresult.Type = total.Type;\r\n\t\t\t\t\tresult.Amount = total.total;\r\n\t\t\t\t\tresult.calculationType = total.calculationType.charAt(0).toUpperCase() + total.calculationType.slice(1);\r\n\t\t\t\t}\r\n\t\t\t\telse if(total.calculationType === \"average\") {\r\n\t\t\t\t\tresult.Category = total.Category;\r\n\t\t\t\t\tresult.Type = total.Type;\r\n\t\t\t\t\tresult.Amount = (total.total / total.numOfEntries).toFixed(2);\r\n\t\t\t\t\tresult.calculationType = total.calculationType.charAt(0).toUpperCase() + total.calculationType.slice(1);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tresults.push(result);\r\n\t\t}\r\n\t\treturn results;\r\n\t}\r\n\t\r\n\ttoDateString = (date) => {\r\n\t\tif(date === null || date === undefined) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\tvar formattedDate = require('dateformat');\r\n\t\treturn formattedDate(date.toString(), \"fullDate\");\r\n\t}\r\n\t\r\n\tgetListData = () => {\r\n\t\tvar listData = [];\r\n\t\tif(this.state.startDate === null || this.state.endDate === null || this.state.startDate.getTime() > this.state.endDate.getTime()) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\t\r\n\t\tif(this.state.listFilters.length === 0 && !this.state.allChecked) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\t//all checkbox is selected\r\n\t\telse if(this.state.listFilters.length === 0 && this.state.allChecked) {\r\n\t\t\tfor(var i = 0; i < this.props.data.userData.length; i++) {\r\n\t\t\t\tconst entry = this.props.data.userData[i];\r\n\t\t\t\tconst entryDate = new Date(entry.Date);\r\n\t\t\t\tif(this.state.startDate.getTime() <= entryDate.getTime() && entryDate.getTime() <= this.state.endDate.getTime()) {\r\n\t\t\t\t\tentry.Date = entryDate.toLocaleDateString();\r\n\t\t\t\t\tlistData.push(entry);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\t//all is not selected and other checkboxes have been selected\r\n\t\telse {\r\n\t\t\tfor(var i = 0; i < this.props.data.userData.length; i++) {\r\n\t\t\t\tconst entry = this.props.data.userData[i];\r\n\t\t\t\tconst entryDate = new Date(entry.Date);\r\n\t\t\t\tif(this.state.startDate.getTime() <= entryDate.getTime() && entryDate.getTime() <= this.state.endDate.getTime() && this.state.listFilters.includes(entry.Type)) {\r\n\t\t\t\t\tlistData.push(entry);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\t//sorting list data by date\r\n\t\tfor(i = 0; i < listData.length; i++) {\t\t\r\n\t\t\tvar min = i; \r\n\t\t\tfor(var x = i + 1; x < listData.length; x++) {\r\n\t\t\t\tif(new Date(listData[min].Date).getTime() > new Date(listData[x].Date).getTime()) {\r\n\t\t\t\t\tmin = x;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif(min !== i) {\r\n\t\t\t\tvar temp = listData[i];\r\n\t\t\t\tlistData[i] = listData[min];\r\n\t\t\t\tlistData[min] = temp;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn listData;\r\n\t}\r\n\t\r\n\tdisplayData = (listData) => {\r\n\t\tif(listData === null || listData === undefined) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\tconst dateStrings = [];\r\n\t\tfor(var i = 0; i < listData.length; i++) {\r\n\t\t\tif(this.state.startDate.getTime() <= new Date(listData[i].Date).getTime() && new Date(listData[i].Date).getTime() <= this.state.endDate.getTime()) {\r\n\t\t\t\tvar dateString = this.toDateString(new Date(listData[i].Date));\r\n\t\t\t\tif(!dateStrings.includes(dateString)) {\r\n\t\t\t\t\tdateStrings.push(dateString);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tconst cards = dateStrings.map((date, index) => {\r\n\t\t\tvar totalList = [];\r\n\t\t\treturn (\r\n\t\t\t\t<Card key = {uuid()}>\r\n\t\t\t\t\t<Card.Header>\r\n\t\t\t\t\t\t<Button variant = \"primary\" onClick = {this.toggleAddModal.bind(this, date)} style = {{float: \"right\"}}> + </Button>\r\n\t\t\t\t\t\t<Accordion.Toggle as = {Button} variant = \"link\" eventKey = {index}>\r\n\t\t\t\t\t\t\t{date}\r\n\t\t\t\t\t\t</Accordion.Toggle>\r\n\t\t\t\t\t</Card.Header>\r\n\t\t\t\t\t<Accordion.Collapse eventKey = {index}>\r\n\t\t\t\t\t\t<Card.Body>\r\n\t\t\t\t\t\t\t{this.props.data.userData.map((entry, index) => {\r\n\t\t\t\t\t\t\t\tif(this.state.listFilters.length === 0) {\r\n\t\t\t\t\t\t\t\t\tif(new Date(entry.Date).getTime() === new Date(date).getTime()) {\r\n\t\t\t\t\t\t\t\t\t\ttotalList.push(entry);\r\n\t\t\t\t\t\t\t\t\t\tif(this.goalAchieved(entry) && entry.calculationType === \"none\") {\r\n\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div> Goal Achieved 🏆 </div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{entry.displayOrder.map((key) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tif(key !== \"Notes\") {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ListGroup horizontal key = {uuid()}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ListGroup.Item style = {{width: \"40%\"}}> <strong> {key} </strong> </ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ListGroup.Item style = {{width: \"60%\"}}> {entry[key]} </ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</ListGroup>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tconst popover = (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Popover>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Popover.Title as = \"h3\"> {key} </Popover.Title>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Popover.Content> {entry[key]} </Popover.Content>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Popover>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div key = {uuid()}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<OverlayTrigger trigger = \"click\" placement = \"right\" overlay = {popover} rootClose = {true}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button variant = \"success\"> {key} </Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</OverlayTrigger>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button variant = \"light\" className = \"deleteEditButtons\" onClick = {this.deleteEntry.bind(this, index)}> 🗑️ </Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button variant = \"light\" className = \"deleteEditButtons\" onClick = {this.onClickEdit.bind(this, index, date)}> ✏️ </Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<hr style = {{border: \"1px solid black\"}} />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\tentry.displayOrder.map((key) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\tif(key !== \"Notes\") {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ListGroup horizontal key = {uuid()}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ListGroup.Item style = {{width: \"40%\"}}> <strong> {key} </strong> </ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ListGroup.Item style = {{width: \"60%\"}}> {entry[key]} </ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</ListGroup>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\tconst popover = (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Popover>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Popover.Title as = \"h3\"> {key} </Popover.Title>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Popover.Content> {entry[key]} </Popover.Content>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Popover>\r\n\t\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div key = {uuid()}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<OverlayTrigger trigger = \"click\" placement = \"right\" overlay = {popover} rootClose = {true}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button variant = \"success\"> {key} </Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</OverlayTrigger>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button variant = \"light\" className = \"deleteEditButtons\" onClick = {this.deleteEntry.bind(this, index)}> 🗑️ </Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button variant = \"light\" className = \"deleteEditButtons\" onClick = {this.onClickEdit.bind(this, index, date)}> ✏️ </Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<hr style = {{border: \"1px solid black\"}} />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\t\t\tif(new Date(entry.Date).getTime() === new Date(date).getTime() && this.state.listFilters.includes(entry.Type)) {\r\n\t\t\t\t\t\t\t\t\t\ttotalList.push(entry);\r\n\t\t\t\t\t\t\t\t\t\tif(this.goalAchieved(entry) && entry.calculationType === \"none\") {\r\n\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div> Goal Achieved 🏆 </div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{entry.displayOrder.map((key) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tif(key !== \"Notes\") {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ListGroup horizontal key = {uuid()}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ListGroup.Item style = {{width: \"40%\"}}> <strong> {key} </strong> </ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ListGroup.Item style = {{width: \"60%\"}}> {entry[key]} </ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</ListGroup>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tconst popover = (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Popover>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Popover.Title as = \"h3\"> {key} </Popover.Title>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Popover.Content> {entry[key]} </Popover.Content>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Popover>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div key = {uuid()}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<OverlayTrigger trigger = \"click\" placement = \"right\" overlay = {popover} rootClose = {true}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button variant = \"success\"> {key} </Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</OverlayTrigger>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button variant = \"light\" className = \"deleteEditButtons\" onClick = {this.deleteEntry.bind(this, index)}> 🗑️ </Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button variant = \"light\" className = \"deleteEditButtons\" onClick = {this.onClickEdit.bind(this, index, date)}> ✏️ </Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<hr style = {{border: \"1px solid black\"}} />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\tentry.displayOrder.map((key) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\tif(key !== \"Notes\") {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ListGroup horizontal key = {uuid()}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ListGroup.Item style = {{width: \"40%\"}}> <strong> {key} </strong> </ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ListGroup.Item style = {{width: \"60%\"}}> {entry[key]} </ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</ListGroup>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\tconst popover = (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Popover>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Popover.Title as = \"h3\"> {key} </Popover.Title>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Popover.Content> {entry[key]} </Popover.Content>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Popover>\r\n\t\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div key = {uuid()}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<OverlayTrigger trigger = \"click\" placement = \"right\" overlay = {popover} rootClose = {true}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button variant = \"success\"> {key} </Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</OverlayTrigger>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button variant = \"light\" className = \"deleteEditButtons\" onClick = {this.deleteEntry.bind(this, index)}> 🗑️ </Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button variant = \"light\" className = \"deleteEditButtons\" onClick = {this.onClickEdit.bind(this, index, date)}> ✏️ </Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<hr style = {{border: \"1px solid black\"}} />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t{this.calculateTotals(totalList).map((total) => {\r\n\t\t\t\t\t\t\t\t\tconsole.log(total);\r\n\t\t\t\t\t\t\t\t\tif(this.goalAchieved(total)) {\r\n\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div> Goal Achieved 🏆 </div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<ListGroup horizontal key = {uuid()}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{total.calculationType === \"Add\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t?\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ListGroup.Item style = {{width: \"50%\"}}> <strong> Total {total.Type}: </strong> </ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t:\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ListGroup.Item style = {{width: \"50%\"}}> <strong> {total.calculationType} {total.Type}: </strong> </ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<ListGroup.Item style = {{width: \"50%\"}}> {total.Amount} </ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</ListGroup>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t<ListGroup horizontal key = {uuid()}>\r\n\t\t\t\t\t\t\t\t\t\t\t{total.calculationType === \"Add\"\r\n\t\t\t\t\t\t\t\t\t\t\t?\r\n\t\t\t\t\t\t\t\t\t\t\t\t<ListGroup.Item style = {{width: \"50%\"}}> <strong> Total {total.Type}: </strong> </ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t:\r\n\t\t\t\t\t\t\t\t\t\t\t\t<ListGroup.Item style = {{width: \"50%\"}}> <strong> {total.calculationType} {total.Type}: </strong> </ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t<ListGroup.Item style = {{width: \"50%\"}}> {total.Amount} </ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t</ListGroup>\r\n\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</Card.Body>\r\n\t\t\t\t\t</Accordion.Collapse>\r\n\t\t\t\t</Card>\r\n\t\t\t);\r\n\t\t});\r\n\t\treturn (\r\n\t\t\t<Accordion> \r\n\t\t\t\t{cards} \r\n\t\t\t</Accordion>\r\n\t\t)\r\n\t}\r\n\t\r\n\trender() {\r\n\t\tconst startPicker = <Form.Control\r\n\t\t\t\t\t\t\t\ttype = \"input\"\r\n\t\t\t\t\t\t\t/>\r\n\t\tconst endPicker = <Form.Control\r\n\t\t\t\t\t\t\t\ttype = \"input\"\r\n\t\t\t\t\t\t\t/>\r\n\t\tconst optionDropdown = this.createOptionDropdown();\r\n\t\tconst listData = this.getListData();\r\n\t\tconst displayData = this.displayData(listData);\r\n\t\treturn (\r\n\t\t\t<Container fluid>\r\n\t\t\t{this.state.selectedDate === null\r\n\t\t\t?\r\n\t\t\t\t<div> </div>\r\n\t\t\t:\r\n\t\t\t\t<Row>\r\n\t\t\t\t\t<AddModal \r\n\t\t\t\t\t\tdata = {this.props.data} \r\n\t\t\t\t\t\tselectedDate = {this.state.selectedDate}\r\n\t\t\t\t\t\tsaveData = {this.props.saveData}\r\n\t\t\t\t\t\ttoDateString = {this.toDateString}\r\n\t\t\t\t\t\taddModalShow = {this.props.addModalShow}\r\n\t\t\t\t\t\tisSaving = {this.props.isSaving}\r\n\t\t\t\t\t\ttoggleAddModal = {this.props.toggleAddModal}\r\n\t\t\t\t\t\ttoggleSaveBar = {this.props.toggleSaveBar}\r\n\t\t\t\t\t\treloadCalendar = {this.reload}\r\n\t\t\t\t\t\tcreateDateList = {this.createDateList}\r\n\t\t\t\t\t/> \r\n\r\n\t\t\t\t\t<EditModal \r\n\t\t\t\t\t\tdata = {this.props.data}\r\n\t\t\t\t\t\teditModalShow = {this.props.editModalShow}\r\n\t\t\t\t\t\tselectedDate = {this.state.selectedDate}\r\n\t\t\t\t\t\ttoDateString = {this.toDateString}\r\n\t\t\t\t\t\tisSaving = {this.props.isSaving}\r\n\t\t\t\t\t\ttoggleEditModal = {this.props.toggleEditModal}\r\n\t\t\t\t\t\ttoggleSaveBar = {this.props.toggleSaveBar}\r\n\t\t\t\t\t\treloadCalendar = {this.reload}\r\n\t\t\t\t\t\tsaveData = {this.props.saveData}\r\n\t\t\t\t\t\tdataToEdit = {this.props.dataToEdit}\r\n\t\t\t\t\t\teditIndex = {this.state.editIndex}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Row>\r\n\t\t\t}\r\n\t\t\t\t<Row>\r\n\t\t\t\t\t<Col sm = {2}>\r\n\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t{optionDropdown}\r\n\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t<p> <u> Start Date </u> </p>\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t<DatePicker\r\n\t\t\t\t\t\t\t\t\t\t\tselected = {this.state.startDate}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange = {this.onSelectStartDate}\r\n\t\t\t\t\t\t\t\t\t\t\tcustomInput = {startPicker}\r\n\t\t\t\t\t\t\t\t\t\t\tplaceholderText = \"mm/dd/yyyy\"\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t<Col style = {{marginBottom: \"1%\"}}>\r\n\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t<p> <u> End Date </u> </p>\t\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t<DatePicker\r\n\t\t\t\t\t\t\t\t\t\t\tselected = {this.state.endDate}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange = {this.onSelectEndDate}\r\n\t\t\t\t\t\t\t\t\t\t\tcustomInput = {endPicker}\r\n\t\t\t\t\t\t\t\t\t\t\tplaceholderText = \"mm/dd/yyyy\"\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t{this.state.allChecked \r\n\t\t\t\t\t\t\t\t?\r\n\t\t\t\t\t\t\t\t\t<Card>\r\n\t\t\t\t\t\t\t\t\t\t<Card.Body>\r\n\t\t\t\t\t\t\t\t\t\t\t<Card.Title>\r\n\t\t\t\t\t\t\t\t\t\t\t\tOptions Selected\r\n\t\t\t\t\t\t\t\t\t\t\t</Card.Title>\r\n\t\t\t\t\t\t\t\t\t\t\t<Card.Text>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<li> All </li>\r\n\t\t\t\t\t\t\t\t\t\t\t</Card.Text>\r\n\t\t\t\t\t\t\t\t\t\t</Card.Body>\r\n\t\t\t\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t\t\t\t:\r\n\t\t\t\t\t\t\t\t\t<Card>\r\n\t\t\t\t\t\t\t\t\t\t<Card.Body>\r\n\t\t\t\t\t\t\t\t\t\t\t<Card.Title>\r\n\t\t\t\t\t\t\t\t\t\t\t\tOptions Selected\r\n\t\t\t\t\t\t\t\t\t\t\t</Card.Title>\r\n\t\t\t\t\t\t\t\t\t\t\t<Card.Text>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{this.state.listFilters.map((filter) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<li> {filter} </li>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t\t\t</Card.Text>\r\n\t\t\t\t\t\t\t\t\t\t</Card.Body>\r\n\t\t\t\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t\t<Col sm = {10}>\r\n\t\t\t\t\t\t<div className = \"list-container\">\r\n\t\t\t\t\t\t\t{this.state.startDate === null || this.state.endDate === null || this.state.startDate.getTime() > this.state.endDate.getTime()\r\n\t\t\t\t\t\t\t\t?\r\n\t\t\t\t\t\t\t\t\t<h3> <i> Select a start and end date to view your training data. </i> </h3>\r\n\t\t\t\t\t\t\t\t:\r\n\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t{displayData}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t}\t\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t</Row>\r\n\t\t\t</Container>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default DataList;","import React, { Component } from 'react';\r\nimport Container from 'react-bootstrap/Container';\r\nimport Row from 'react-bootstrap/Row';\r\nimport Col from 'react-bootstrap/Col';\r\nimport Button from 'react-bootstrap/Button';\r\nimport Accordion from 'react-bootstrap/Accordion';\r\nimport Card from 'react-bootstrap/Card';\r\nimport ListGroup from 'react-bootstrap/ListGroup';\r\nimport Overlay from 'react-bootstrap/Overlay';\r\nimport OverlayTrigger from 'react-bootstrap/OverlayTrigger';\r\nimport Popover from 'react-bootstrap/Popover';\r\nimport PopoverContent from 'react-bootstrap/PopoverContent';\r\nimport PopoverTitle from 'react-bootstrap/PopoverTitle';\r\nimport uuid from 'react-uuid';\r\nimport Table from 'react-bootstrap/Table';\r\nimport DatePicker from 'react-datepicker';\r\nimport Dropdown from 'react-bootstrap/Dropdown';\r\nimport Form from 'react-bootstrap/Form';\r\nimport FormControl from 'react-bootstrap/FormControl';\r\nimport CardDeck from 'react-bootstrap/CardDeck';\r\nimport Modal from \"react-bootstrap/Modal\";\r\nimport Alert from 'react-bootstrap/Alert';\r\nimport Pie from 'react-chartjs-2';\r\nimport InputGroup from 'react-bootstrap/InputGroup';\r\nimport DropdownButton from 'react-bootstrap/DropdownButton';\r\n\r\nclass Goals extends Component {\r\n\t\r\n\tstate = {\r\n\t\tediting: false,\r\n\t\tadding: false, \r\n\t\tgoalEditing: \"\",\r\n\t\tgoalAdding: \"\",\r\n\t\teditingData: {},\r\n\t\taddingData: {},\r\n\t\tgoalIndex: -1,\r\n\t\tdata: null,\r\n\t\tinvalidFields: false,\r\n\t\talertMessage: \"\",\r\n\t\tcolors: ['#0088FE', '#00C49F', '#FFBB28', '#FF8042'],\r\n\t\tnameMenuShow: false\r\n\t\t\r\n\t}\r\n\t\r\n\tcomponentDidMount = () => {\r\n\t\tthis.setState({data: this.props.data});\r\n\t}\r\n\t\r\n\topenEditModal = (category, index) => {\r\n\t\tvar editingData = this.state.data.goals[index];\r\n\t\tthis.setState({editing: true, goalEditing: category, editingData: editingData, goalIndex: index});\r\n\t}\r\n\t\r\n\tcloseEditModal = () => {\r\n\t\tthis.setState({editing: false, goalEditing: \"\", editingData: {}, goalIndex: -1, alertMessage: \"\", invalidFields: false});\r\n\t}\r\n\t\r\n\topenAddModal = (category) => {\r\n\t\tvar addingData = {};\r\n\t\tfor(var key in this.state.data.metaData.goalStructure) {\r\n\t\t\taddingData[key] = this.state.data.metaData.goalStructure[key];\r\n\t\t}\r\n\t\taddingData[\"Goal Type\"] = category;\r\n\t\taddingData.Fields = {};\r\n\t\tfor(var i = 0; i < this.state.data.metaData.entryTypes.length; i++) {\r\n\t\t\tvar entry = this.state.data.metaData.entryTypes[i];\r\n\t\t\tif(category === entry.Category) {\r\n\t\t\t\taddingData.Fields.Type = \"\";\r\n\t\t\t}\r\n\t\t}\r\n\t\tthis.setState({adding: true, goalAdding: category, addingData: addingData});\r\n\t}\r\n\t\r\n\tcloseAddModal = () => {\r\n\t\tthis.setState({adding: false, goalAdding: \"\", addingData: {}, alertMessage: \"\", invalidFields: false});\r\n\t}\r\n\t\r\n\tonChangeEdit = (e) => {\r\n\t\tvar name = [e.target.name][0];\r\n\t\tvar value = e.target.value;\r\n\t\tvar dataCopy = JSON.parse(JSON.stringify(this.state.editingData));\r\n\t\tdataCopy.Fields[name] = value;\r\n\t\tthis.setState({editingData: dataCopy});\r\n\t}\r\n\t\r\n\tonClickRootClose = () => {\r\n\t\tif(this.state.nameMenuShow) {\r\n\t\t\tthis.setState({nameMenuShow: false});\r\n\t\t}\r\n\t\telse {\r\n\t\t\tthis.setState({nameMenuShow: true});\r\n\t\t}\r\n\t}\r\n\t\r\n\tshowNameList = (nameSearch) => {\r\n\t\tif(nameSearch.length === 0) {\r\n\t\t\tthis.setState({nameMenuShow: false});\r\n\t\t}\r\n\t\telse {\r\n\t\t\tthis.setState({nameMenuShow: true});\r\n\t\t}\r\n\t}\r\n\t\r\n\tonSelectName = (value) => {\r\n\t\tvar dataCopy = JSON.parse(JSON.stringify(this.state.addingData));\r\n\t\tdataCopy.Fields.Name = value;\r\n\t\tthis.setState({addingData: dataCopy});\r\n\t}\r\n\t\r\n\tonChangeAdd = (e) => {\r\n\t\tvar name = [e.target.name][0];\r\n\t\tvar value = e.target.value;\r\n\t\tvar dataCopy = JSON.parse(JSON.stringify(this.state.addingData));\r\n\t\tif(name === \"Type\") {\r\n\t\t\tdataCopy.Fields = {};\r\n\t\t\tdataCopy.Fields[name] = value;\r\n\t\t\tfor(var i = 0; i < this.state.data.metaData.entryTypes.length; i++) {\r\n\t\t\t\tvar entry = this.state.data.metaData.entryTypes[i];\r\n\t\t\t\tif(entry.Category === this.state.goalAdding && entry.Type === value) {\r\n\t\t\t\t\tfor(var x = 0; x < entry.displayOrder.length; x++) {\r\n\t\t\t\t\t\tvar field = entry.displayOrder[x];\r\n\t\t\t\t\t\tif(entry[field] === \"string\" && field !== \"Notes\" && field !== \"Category\") {\r\n\t\t\t\t\t\t\tdataCopy.Fields[field] = \"\";\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse if(entry[field] === \"number\") {\r\n\t\t\t\t\t\t\tdataCopy.Fields[field] = 0;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\telse if(name === \"Name\") {\r\n\t\t\tthis.showNameList(value);\r\n\t\t\tdataCopy.Fields[name] = value;\r\n\t\t}\r\n\t\telse {\r\n\t\t\tdataCopy.Fields[name] = value;\r\n\t\t}\r\n\t\tthis.setState({addingData: dataCopy});\r\n\t}\r\n\t\r\n\tdeleteGoal = async (goalIndex) => {\r\n\t\tvar dataCopy = JSON.parse(JSON.stringify(this.state.data));\r\n\t\tif(window.confirm(\"Are you sure you want to delete this goal?\")) {\r\n\t\t\tdataCopy.goals.splice(goalIndex, 1);\r\n\t\t\tthis.setState({data: dataCopy});\r\n\t\t\tawait this.props.saveData(dataCopy, \"save\", \"Goals\");\r\n\t\t}\r\n\t}\r\n\t\r\n\tshowAlert = (msg) => {\r\n\t\tthis.setState({invalidFields: true, alertMessage: msg});\r\n\t}\r\n\t\r\n\thideAlert = () => {\r\n\t\tthis.setState({invalidFields: false, alertMessage: \"\"});\r\n\t}\r\n\t\r\n\tcheckEditFields = () => {\r\n\t\tvar entryType = null;\r\n\t\tfor(var i = 0; i < this.state.data.metaData.entryTypes.length; i++) {\r\n\t\t\tvar entry = this.state.data.metaData.entryTypes[i];\r\n\t\t\tconsole.log(entry);\r\n\t\t\tconsole.log(this.state.editingData);\r\n\t\t\tif(entry.Category === this.state.editingData[\"Goal Type\"] && Object.keys(this.state.editingData.Fields).includes(entry.Type)) {\r\n\t\t\t\tentryType = entry;\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\telse if(entry.Category === this.state.editingData[\"Goal Type\"] && this.state.editingData.Fields.Type === entry.Type) {\r\n\t\t\t\tentryType = entry;\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t\tif(entryType === null) {\r\n\t\t\talert(\"Sorry, an error occurred -- you cannot update this goal\");\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tfor(var key in this.state.editingData.Fields) {\r\n\t\t\tif(this.state.editingData.Fields[key].toString().trim().length === 0) {\r\n\t\t\t\tthis.showAlert(\"Cannot save data. You're missing some required fields!\");\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\telse if(entryType[key] === \"number\" && isNaN(this.state.editingData.Fields[key])) {\r\n\t\t\t\tthis.showAlert(\"'\" + key + \"' \" + \"must be a number!\");\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn true;\r\n\t}\r\n\t\r\n\tcheckAddFields = () => {\r\n\t\tvar entryType = null;\r\n\t\tfor(var i = 0; i < this.state.data.metaData.entryTypes.length; i++) {\r\n\t\t\tvar entry = this.state.data.metaData.entryTypes[i];\r\n\t\t\tif(entry.Category === this.state.addingData[\"Goal Type\"] && entry.Type === this.state.addingData.Fields.Type) {\r\n\t\t\t\tentryType = entry;\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t\tfor(var key in this.state.addingData.Fields) {\r\n\t\t\tif(this.state.addingData.Fields[key].toString().trim().length === 0) {\r\n\t\t\t\tthis.showAlert(\"Cannot save data. You're missing some required fields!\");\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\telse if(entryType[key] === \"number\" && isNaN(this.state.addingData.Fields[key])) {\r\n\t\t\t\tthis.showAlert(\"'\" + key + \"' \" + \"must be a number!\");\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn true;\r\n\t}\r\n\t\r\n\tonClickSaveEdit = async () => {\r\n\t\tif(this.checkEditFields()) {\r\n\t\t\tvar dataCopy = JSON.parse(JSON.stringify(this.state.data));\r\n\t\t\tfor(var key in this.state.editingData.Fields) {\r\n\t\t\t\tthis.state.editingData.Fields[key] = this.state.editingData.Fields[key].toString().trim();\r\n\t\t\t}\r\n\t\t\tthis.state.editingData.lastUpdated = new Date();\r\n\t\t\tdataCopy.goals[this.state.goalIndex] = this.state.editingData;\r\n\t\t\tthis.setState({data: dataCopy});\r\n\t\t\tawait this.props.saveData(dataCopy, \"save\", \"Goals\");\r\n\t\t\tthis.closeEditModal();\r\n\t\t}\r\n\t\telse {\r\n\t\t\treturn;\r\n\t\t}\r\n\t}\r\n\t\r\n\tonClickSaveAdd = async () => {\r\n\t\tif(this.checkAddFields()) {\r\n\t\t\tvar dataCopy = JSON.parse(JSON.stringify(this.state.data));\r\n\t\t\tfor(var key in this.state.addingData.Fields) {\r\n\t\t\t\tthis.state.addingData.Fields[key] = this.state.addingData.Fields[key].toString().trim();\r\n\t\t\t}\r\n\t\t\tthis.state.addingData.lastUpdated = new Date();\r\n\t\t\tthis.state.addingData.fieldOrder = Object.keys(this.state.addingData.Fields);\r\n\t\t\tdataCopy.goals.push(this.state.addingData);\r\n\t\t\tthis.setState({data: dataCopy});\r\n\t\t\tawait this.props.saveData(dataCopy, \"save\", \"Goals\");\r\n\t\t\tthis.closeAddModal();\r\n\t\t}\r\n\t\telse {\r\n\t\t\treturn;\r\n\t\t}\r\n\t}\r\n\t\r\n\tvalidateMacros = () => {\r\n\t\tvar percentageTotal = 0;\r\n\t\tfor(var key in this.state.editingData.Fields) {\r\n\t\t\tif(key !== \"Calories\") {\r\n\t\t\t\tpercentageTotal = percentageTotal + Number(this.state.editingData.Fields[key])\r\n\t\t\t}\r\n\t\t}\r\n\t\tif(percentageTotal !== 100) {\r\n\t\t\tthis.showAlert(\"Macronutrients must total 100%\");\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\treturn true;\r\n\t}\r\n\t\r\n\tconstructPieData = (fields) => {\r\n\t\tvar data = [];\r\n\t\tvar labels = [];\r\n\t\tfor(var key in fields) {\r\n\t\t\tif(key !== \"Calories\" && !isNaN(fields[key])) {\r\n\t\t\t\tdata.push(fields[key]);\r\n\t\t\t\tlabels.push(key);\r\n\t\t\t}\r\n\t\t}\r\n\t\tvar pieData = {\r\n\t\t\tdatasets: [{\r\n\t\t\t\tdata: data,\r\n\t\t\t\tbackgroundColor: [\r\n\t\t\t\t\t'#FF6384',\r\n\t\t\t\t\t'#36A2EB',\r\n\t\t\t\t\t'#FFCE56',\r\n\t\t\t\t\t'#484a47',\r\n\t\t\t\t\t'#a37774',\r\n\t\t\t\t\t'#e88873',\r\n\t\t\t\t\t'#e0ac9d',\r\n\t\t\t\t\t'#7ebdc2',\r\n\t\t\t\t\t'#f3dfa2',\r\n\t\t\t\t\t'#efe6dd',\r\n\t\t\t\t\t],\r\n\t\t\t\thoverBackgroundColor: [\r\n\t\t\t\t\t'#FF6384',\r\n\t\t\t\t\t'#36A2EB',\r\n\t\t\t\t\t'#FFCE56',\r\n\t\t\t\t\t'#484a47',\r\n\t\t\t\t\t'#a37774',\r\n\t\t\t\t\t'#e88873',\r\n\t\t\t\t\t'#e0ac9d',\r\n\t\t\t\t\t'#7ebdc2',\r\n\t\t\t\t\t'#f3dfa2',\r\n\t\t\t\t\t'#efe6dd',\r\n\t\t\t\t]\r\n\t\t\t}],\r\n\t\t\tlabels: labels,\r\n\t\t}\r\n\t\treturn pieData;\r\n\t}\r\n\t\r\n\trender() {\r\n\t\tif(this.state.data === null) {\r\n\t\t\treturn (\r\n\t\t\t\t<div> </div>\r\n\t\t\t);\r\n\t\t}\r\n\t\treturn (\r\n\t\t\t<Container fluid>\r\n\t\t\t\t{this.state.editing \r\n\t\t\t\t\t?\r\n\t\t\t\t\t\t<Modal size = \"lg\" show = {this.state.editing} onHide = {this.closeEditModal.bind(this)}>\r\n\t\t\t\t\t\t\t<Modal.Header closeButton>\r\n\t\t\t\t\t\t\t\t<Modal.Title> Edit {this.state.goalEditing} Goal </Modal.Title>\r\n\t\t\t\t\t\t\t</Modal.Header>\r\n\t\t\t\t\t\t\t<Modal.Body>\r\n\t\t\t\t\t\t\t{!this.state.editingData.deletable\r\n\t\t\t\t\t\t\t?\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t{this.state.editingData.fieldOrder.map((field) => {\r\n\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t<ListGroup horizontal>\r\n\t\t\t\t\t\t\t\t\t\t\t<ListGroup.Item style = {{width: \"50%\"}}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{field}\r\n\t\t\t\t\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t<ListGroup.Item style = {{width: \"50%\"}}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tas = \"input\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname = {field}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue = {this.state.editingData.Fields[field]}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange = {(e) => {this.onChangeEdit(e)}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t</ListGroup>\r\n\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t:\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t{this.state.editingData.fieldOrder.map((field) => {\r\n\t\t\t\t\t\t\t\t\tconsole.log(field);\r\n\t\t\t\t\t\t\t\t\tif(field === \"Type\") {\r\n\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t<ListGroup horizontal>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<ListGroup.Item style = {{width: \"50%\"}}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{field}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<ListGroup.Item style = {{width: \"50%\"}}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Control \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tas = \"select\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tname = {field}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue = {this.state.editingData.Fields[field]}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange = {(e) => {this.onChangeEdit(e)}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled = {true}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option  value = \"\" selected disabled hidden> Select </option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{this.props.data.metaData.entryTypes.map((entry) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif(this.state.goalEditing === entry.Category) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option value = {entry.Type}> {entry.Type} </option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Form.Control>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t</ListGroup>\r\n\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\telse if (field === \"Name\") {\r\n\t\t\t\t\t\t\t\t\t\tvar nameList = [];\r\n\t\t\t\t\t\t\t\t\t\tfor(var i = 0; i < this.state.data.entryNames.length ; i++) {\r\n\t\t\t\t\t\t\t\t\t\t\tvar nameData = this.state.data.entryNames[i];\r\n\t\t\t\t\t\t\t\t\t\t\tif(this.state.goalEditing === nameData.Category && this.state.editingData.Fields.Type === nameData.Type) {\r\n\t\t\t\t\t\t\t\t\t\t\t\tnameList.push(nameData.Name);\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t<ListGroup horizontal>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<ListGroup.Item style = {{width: \"50%\"}}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{field}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<ListGroup.Item style = {{width: \"50%\"}}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<InputGroup>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tas = \"input\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tautoComplete = \"off\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname = {field}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue = {this.state.editingData.Fields[field]}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange = {(e) => {this.onChangeEdit(e)}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Dropdown show = {this.state.nameMenuShow} as = {InputGroup.Prepend} onToggle = {this.onClickRootClose.bind(this)}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Dropdown.Toggle variant = \"outline-secondary\" eventKey = \"00\"> </Dropdown.Toggle>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Dropdown.Menu rootCloseEvent = \"click\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{nameList.map((name) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Dropdown.Item onSelect = {this.onSelectName.bind(this, name)} >\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{name}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Dropdown.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Dropdown.Menu>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Dropdown> \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</InputGroup> \r\n\t\t\t\t\t\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t</ListGroup>\r\n\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t<ListGroup horizontal>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<ListGroup.Item style = {{width: \"50%\"}}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{field}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<ListGroup.Item style = {{width: \"50%\"}}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tas = \"input\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tname = {field}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue = {this.state.editingData.Fields[field]}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange = {(e) => {this.onChangeEdit(e)}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t</ListGroup>\r\n\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t</Modal.Body>\r\n\t\t\t\t\t\t\t<Modal.Footer>\r\n\t\t\t\t\t\t\t\t{this.state.invalidFields \r\n\t\t\t\t\t\t\t\t\t?\r\n\t\t\t\t\t\t\t\t\t\t<Alert show = {this.state.invalidFields} variant = \"danger\" onClose = {this.hideAlert.bind(this)} dismissible>\r\n\t\t\t\t\t\t\t\t\t\t\t<p> {this.state.alertMessage} </p>\r\n\t\t\t\t\t\t\t\t\t\t</Alert>\r\n\t\t\t\t\t\t\t\t\t:\r\n\t\t\t\t\t\t\t\t\t\t<div> </div>\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t<Button variant = \"secondary\" onClick = {this.closeEditModal.bind(this)}> Close </Button>\r\n\t\t\t\t\t\t\t\t<Button variant = \"primary\" onClick = {this.onClickSaveEdit.bind(this)}> Save </Button>\r\n\t\t\t\t\t\t\t</Modal.Footer>\r\n\t\t\t\t\t\t</Modal>\r\n\t\t\t\t\t:\r\n\t\t\t\t\t<div> </div>\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t{this.state.adding \r\n\t\t\t\t\t?\r\n\t\t\t\t\t\t<Modal size = \"lg\" show = {this.state.adding} onHide = {this.closeAddModal.bind(this)}>\r\n\t\t\t\t\t\t\t<Modal.Header closeButton>\r\n\t\t\t\t\t\t\t\t<Modal.Title> Add {this.state.goalAdding} Goal </Modal.Title>\r\n\t\t\t\t\t\t\t</Modal.Header>\r\n\t\t\t\t\t\t\t<Modal.Body>\r\n\t\t\t\t\t\t\t{this.state.goalAdding !== \"Diet\" && this.state.goalAdding !== \"Body\"\r\n\t\t\t\t\t\t\t?\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t{Object.keys(this.state.addingData.Fields).map((field) => {\r\n\t\t\t\t\t\t\t\t\tif(field === \"Type\") {\r\n\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t<ListGroup horizontal>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<ListGroup.Item style = {{width: \"50%\"}}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{field}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<ListGroup.Item style = {{width: \"50%\"}}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Control \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tas = \"select\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tname = {field}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue = {this.state.addingData.Fields[field]}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange = {(e) => {this.onChangeAdd(e)}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option  value = \"\" selected disabled hidden> Select </option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{this.props.data.metaData.entryTypes.map((entry) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif(this.state.goalAdding === entry.Category) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option value = {entry.Type}> {entry.Type} </option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Form.Control>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t</ListGroup>\r\n\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\telse if (field === \"Name\") {\r\n\t\t\t\t\t\t\t\t\t\tvar nameList = [];\r\n\t\t\t\t\t\t\t\t\t\tfor(var i = 0; i < this.state.data.entryNames.length ; i++) {\r\n\t\t\t\t\t\t\t\t\t\t\tvar nameData = this.state.data.entryNames[i];\r\n\t\t\t\t\t\t\t\t\t\t\tif(this.state.goalAdding === nameData.Category && this.state.addingData.Fields.Type === nameData.Type) {\r\n\t\t\t\t\t\t\t\t\t\t\t\tnameList.push(nameData.Name);\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t<ListGroup horizontal>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<ListGroup.Item style = {{width: \"50%\"}}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{field}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<ListGroup.Item style = {{width: \"50%\"}}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<InputGroup>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tas = \"input\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tautoComplete = \"off\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname = {field}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue = {this.state.addingData.Fields[field]}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange = {(e) => {this.onChangeAdd(e)}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Dropdown show = {this.state.nameMenuShow} as = {InputGroup.Prepend} onToggle = {this.onClickRootClose.bind(this)}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Dropdown.Toggle variant = \"outline-secondary\" eventKey = \"00\"> </Dropdown.Toggle>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Dropdown.Menu rootCloseEvent = \"click\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{nameList.map((name) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Dropdown.Item onSelect = {this.onSelectName.bind(this, name)} >\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{name}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Dropdown.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Dropdown.Menu>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Dropdown> \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</InputGroup> \r\n\t\t\t\t\t\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t</ListGroup>\r\n\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t<ListGroup horizontal>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<ListGroup.Item style = {{width: \"50%\"}}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{field}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<ListGroup.Item style = {{width: \"50%\"}}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tas = \"input\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tname = {field}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue = {this.state.addingData.Fields[field]}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange = {(e) => {this.onChangeAdd(e)}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t</ListGroup>\r\n\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t:\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t{Object.keys(this.state.addingData.Fields).map((field) => {\r\n\t\t\t\t\t\t\t\t\tif(field === \"Type\") {\r\n\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t<ListGroup horizontal>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<ListGroup.Item style = {{width: \"50%\"}}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{field}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<ListGroup.Item style = {{width: \"50%\"}}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Control \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tas = \"select\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tname = {field}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue = {this.state.addingData.Fields[field]}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange = {(e) => {this.onChangeAdd(e)}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option  value = \"\" selected disabled hidden> Select </option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{this.props.data.metaData.entryTypes.map((entry) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif(this.state.goalAdding === entry.Category && !this.state.data.metaData.nonDeletableGoalFields.includes(entry.Type)) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option value = {entry.Type}> {entry.Type} </option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Form.Control>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t</ListGroup>\r\n\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\telse if (field === \"Name\") {\r\n\t\t\t\t\t\t\t\t\t\tvar nameList = [];\r\n\t\t\t\t\t\t\t\t\t\tfor(var i = 0; i < this.state.data.entryNames.length ; i++) {\r\n\t\t\t\t\t\t\t\t\t\t\tvar nameData = this.state.data.entryNames[i];\r\n\t\t\t\t\t\t\t\t\t\t\tif(this.state.goalAdding === nameData.Category && this.state.addingData.Fields.Type === nameData.Type) {\r\n\t\t\t\t\t\t\t\t\t\t\t\tnameList.push(nameData.Name);\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t<ListGroup horizontal>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<ListGroup.Item style = {{width: \"50%\"}}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{field}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<ListGroup.Item style = {{width: \"50%\"}}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<InputGroup>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tas = \"input\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tautoComplete = \"off\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname = {field}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue = {this.state.addingData.Fields[field]}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange = {(e) => {this.onChangeAdd(e)}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Dropdown show = {this.state.nameMenuShow} as = {InputGroup.Prepend} onToggle = {this.onClickRootClose.bind(this)}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Dropdown.Toggle variant = \"outline-secondary\" eventKey = \"00\"> </Dropdown.Toggle>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Dropdown.Menu rootCloseEvent = \"click\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{nameList.map((name) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Dropdown.Item onSelect = {this.onSelectName.bind(this, name)} >\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{name}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Dropdown.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Dropdown.Menu>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Dropdown> \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</InputGroup> \r\n\t\t\t\t\t\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t</ListGroup>\r\n\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t<ListGroup horizontal>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<ListGroup.Item style = {{width: \"50%\"}}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{field}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<ListGroup.Item style = {{width: \"50%\"}}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tas = \"input\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tname = {field}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue = {this.state.addingData.Fields[field]}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange = {(e) => {this.onChangeAdd(e)}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t</ListGroup>\r\n\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t</Modal.Body>\r\n\t\t\t\t\t\t\t<Modal.Footer>\r\n\t\t\t\t\t\t\t\t{this.state.invalidFields \r\n\t\t\t\t\t\t\t\t\t?\r\n\t\t\t\t\t\t\t\t\t\t<Alert show = {this.state.invalidFields} variant = \"danger\" onClose = {this.hideAlert.bind(this)} dismissible>\r\n\t\t\t\t\t\t\t\t\t\t\t<p> {this.state.alertMessage} </p>\r\n\t\t\t\t\t\t\t\t\t\t</Alert>\r\n\t\t\t\t\t\t\t\t\t:\r\n\t\t\t\t\t\t\t\t\t\t<div> </div>\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t<Button variant = \"secondary\" onClick = {this.closeAddModal.bind(this)}> Close </Button>\r\n\t\t\t\t\t\t\t\t<Button variant = \"primary\" onClick = {this.onClickSaveAdd.bind(this)}> Save </Button>\r\n\t\t\t\t\t\t\t</Modal.Footer>\r\n\t\t\t\t\t\t</Modal>\r\n\t\t\t\t\t:\r\n\t\t\t\t\t\t<div> </div>\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t{this.state.data.metaData.categories.map((category) => {\r\n\t\t\t\tvar lastUpdated = \"\";\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<Card>\r\n\t\t\t\t\t\t\t<Card.Body>\r\n\t\t\t\t\t\t\t\t<Card.Title> \r\n\t\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t\t{category} Goals \r\n\t\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t\t<Button variant = \"primary\" style = {{float: \"right\"}} onClick = {this.openAddModal.bind(this, category)}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t+\r\n\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t</Card.Title>\r\n\t\t\t\t\t\t\t\t<Card.Text>\r\n\t\t\t\t\t\t\t\t{this.state.data.goals.map((goal, goalIndex) => {\r\n\t\t\t\t\t\t\t\t\tvar pieData = this.constructPieData(goal.Fields);\r\n\t\t\t\t\t\t\t\t\tif(goal[\"Goal Type\"] === category) {\r\n\t\t\t\t\t\t\t\t\t\tif(goal.lastUpdated !== \"\") {\r\n\t\t\t\t\t\t\t\t\t\t\tif(lastUpdated === \"\") {\r\n\t\t\t\t\t\t\t\t\t\t\t\tlastUpdated = new Date(goal.lastUpdated);\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\t\t\t\t\t\tconsole.log(lastUpdated);\r\n\t\t\t\t\t\t\t\t\t\t\t\tif(new Date(lastUpdated).getTime() < new Date(goal.lastUpdated).getTime()) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tlastUpdated = new Date(goal.lastUpdated).toLocaleString();\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\treturn <div>\r\n\t\t\t\t\t\t\t\t\t\t<Row> \r\n\t\t\t\t\t\t\t\t\t\t\t<Col sm = {6}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{goal.fieldOrder.map((field) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ListGroup horizontal>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ListGroup.Item style = {{width: \"50%\"}} variant = \"primary\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{field}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ListGroup.Item style = {{width: \"50%\"}}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{goal.Fields[field]}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</ListGroup>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Row style = {{marginTop: \"1%\"}}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button variant = \"light\" \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle = {{float: \"left\", margin: \"1%\", backgroundColor: \"#E0E0E0\"}} \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick = {this.openEditModal.bind(this, category, goalIndex)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t> \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t✏️ \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{goal.deletable\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t?\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button variant = \"light\" style = {{float: \"left\", margin: \"1%\", backgroundColor: \"#E0E0E0\"}} onClick = {this.deleteGoal.bind(this, goalIndex)}> 🗑️ </Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t:\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div> </div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t<Col sm = {6}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Card>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Card.Body>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Card.Title> {category} Analysis </Card.Title>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Card.Text>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Pie data = {pieData} options={{ maintainAspectRatio: false }}/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Card.Text>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Card.Body>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<hr style = {{border: \"1px solid #DCDCDC\"}} />\r\n\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t</Card.Text>\r\n\t\t\t\t\t\t\t</Card.Body>\r\n\t\t\t\t\t\t\t<Card.Footer>\r\n\t\t\t\t\t\t\t\t<small className=\"text-muted\"> Last Updated: {lastUpdated.toLocaleString()}</small>\r\n\t\t\t\t\t\t\t</Card.Footer>\r\n\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t  )\r\n\t\t\t  })}\r\n\t\t\t</Container>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default Goals;","import React, { Component } from 'react';\r\nimport axios from 'axios';\r\nimport '../td-css/TrainingDiary.css';\r\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\r\nimport Loader from 'react-loader-spinner';\r\nimport Container from 'react-bootstrap/Container';\r\nimport Row from 'react-bootstrap/Row';\r\nimport Col from 'react-bootstrap/Col';\r\nimport Button from 'react-bootstrap/Button';\r\nimport ButtonGroup from 'react-bootstrap/ButtonGroup';\r\nimport ToggleButton from 'react-bootstrap/ToggleButton';\r\nimport Tabs from 'react-bootstrap/Tabs';\r\nimport TabContent from 'react-bootstrap/TabContent';\r\nimport Tab from 'react-bootstrap/Tab';\r\nimport Calendar from './Calendar.js';\r\nimport Graph from './Graph.js';\r\nimport DataList from './DataList.js';\r\nimport Goals from './Goals.js';\r\n//import TrackExercises from './TrackExercises.js';\r\n//PROPS: \r\n\t//data \r\n\t//logout()\r\n\t//saveData()\r\n\t//addModalShow\r\n\t//isSaving\r\n\t//toggleSaveBar()\r\n\t//toggleAddModal()\r\nclass TrainingDiary extends Component {\r\n\t\r\n\tstate = {\r\n\t\tdata: null,\r\n\t\tactiveTab: \"calendar\",\r\n\t} \r\n\t\r\n\t/* COMPONENT MOUNTING AND UPDATING METHODS */\r\n\t\r\n\tcomponentDidMount = () => {\r\n\t\tthis.setState({data: this.props.data});\r\n\t\tconsole.log(this.props.data);\r\n\t}\r\n\t\r\n\t/* GENERAL COMPONENT METHODS */ \r\n\t\r\n\t//toggles which tab is selected and rendered\r\n\ttoggleTabs = (tab) => {\r\n\t\tthis.setState({activeTab: tab});\r\n\t}\r\n\t\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<Container fluid>\r\n\t\t\t\t{/* row 1: header, settings Button, logout Button*/}\r\n\t\t\t\t<Row>\r\n\t\t\t\t\t<Col xs = {8}>\r\n\t\t\t\t\t\t<h1> Training Diary </h1>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t\t<Col xs = {4}>\r\n\t\t\t\t\t\t<Button variant = \"primary\" onClick = {this.props.logout} className = \"td-header-button\"> Logout </Button>\r\n\t\t\t\t\t\t<Button variant = \"primary\" className = \"td-header-button\" href = \"/profile\"> Profile </Button>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t</Row>\r\n\t\t\t\t\r\n\t\t\t\t<br/>\r\n\t\t\t\t\r\n\t\t\t\t{/* row 2: Tabs */}\r\n\t\t\t\t<Row style = {{height: \"75vh\"}}>\r\n\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t<Tabs activeKey = {this.state.activeTab} onSelect = {(tab) => {this.toggleTabs(tab)}}>\r\n\t\t\t\t\t\t\t\t<Tab eventKey = \"graph\" title = \"Graph 📉\">\r\n\t\t\t\t\t\t\t\t\t{this.state.activeTab !== \"graph\"\r\n\t\t\t\t\t\t\t\t\t?\r\n\t\t\t\t\t\t\t\t\t<div> </div>\r\n\t\t\t\t\t\t\t\t\t:\r\n\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t\t\t\t\t<Graph data = {this.props.data} />\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t</Tab>\r\n\t\t\t\t\t\t\t\t<Tab eventKey = \"calendar\" title = \"Calendar 📅\">\r\n\t\t\t\t\t\t\t\t\t{this.state.activeTab !== \"calendar\"\r\n\t\t\t\t\t\t\t\t\t?\r\n\t\t\t\t\t\t\t\t\t<div> </div>\r\n\t\t\t\t\t\t\t\t\t:\r\n\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t\t\t\t\t<Calendar \r\n\t\t\t\t\t\t\t\t\t\t\tdata = {this.props.data} \r\n\t\t\t\t\t\t\t\t\t\t\tsaveData = {this.props.saveData}\r\n\t\t\t\t\t\t\t\t\t\t\taddModalShow = {this.props.addModalShow}\r\n\t\t\t\t\t\t\t\t\t\t\teditModalShow = {this.props.editModalShow}\r\n\t\t\t\t\t\t\t\t\t\t\tisSaving = {this.props.isSaving}\r\n\t\t\t\t\t\t\t\t\t\t\ttoggleAddModal = {this.props.toggleAddModal}\r\n\t\t\t\t\t\t\t\t\t\t\ttoggleEditModal = {this.props.toggleEditModal}\r\n\t\t\t\t\t\t\t\t\t\t\ttoggleSaveBar = {this.props.toggleSaveBar}\r\n\t\t\t\t\t\t\t\t\t\t\tdataToEdit = {this.props.dataToEdit}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t</Tab>\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<Tab eventKey = \"dataList\" title = \"Data-List 📝\">\r\n\t\t\t\t\t\t\t\t\t{this.state.activeTab !== \"dataList\"\r\n\t\t\t\t\t\t\t\t\t?\r\n\t\t\t\t\t\t\t\t\t<div> </div>\r\n\t\t\t\t\t\t\t\t\t:\r\n\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t<br/> \r\n\t\t\t\t\t\t\t\t\t\t<DataList \r\n\t\t\t\t\t\t\t\t\t\t\tdata = {this.props.data} \r\n\t\t\t\t\t\t\t\t\t\t\tsaveData = {this.props.saveData}\r\n\t\t\t\t\t\t\t\t\t\t\taddModalShow = {this.props.addModalShow}\r\n\t\t\t\t\t\t\t\t\t\t\teditModalShow = {this.props.editModalShow}\r\n\t\t\t\t\t\t\t\t\t\t\tisSaving = {this.props.isSaving}\r\n\t\t\t\t\t\t\t\t\t\t\ttoggleAddModal = {this.props.toggleAddModal}\r\n\t\t\t\t\t\t\t\t\t\t\ttoggleEditModal = {this.props.toggleEditModal}\r\n\t\t\t\t\t\t\t\t\t\t\ttoggleSaveBar = {this.props.toggleSaveBar}\r\n\t\t\t\t\t\t\t\t\t\t\tdataToEdit = {this.props.dataToEdit}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t</Tab>\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<Tab eventKey = \"goals\" title = \"Goals 🎯\">\r\n\t\t\t\t\t\t\t\t\t{this.state.activeTab !== \"goals\"\r\n\t\t\t\t\t\t\t\t\t?\r\n\t\t\t\t\t\t\t\t\t<div> </div>\r\n\t\t\t\t\t\t\t\t\t:\r\n\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t\t\t\t\t<Goals \r\n\t\t\t\t\t\t\t\t\t\t\tdata = {this.props.data} \r\n\t\t\t\t\t\t\t\t\t\t\tsaveData = {this.props.saveData}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t</Tab>\r\n\t\t\t\t\t\t\t</Tabs>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t</Row>\r\n\t\t\t</Container>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default TrainingDiary;","import React, { Component } from 'react';\r\nimport Container from 'react-bootstrap/Container';\r\nimport Row from 'react-bootstrap/Row';\r\nimport Col from 'react-bootstrap/Col';\r\nimport Button from 'react-bootstrap/Button';\r\nimport Card from 'react-bootstrap/Card';\r\nimport ListGroup from 'react-bootstrap/ListGroup';\r\nimport Tabs from 'react-bootstrap/Tabs';\r\nimport TabContent from 'react-bootstrap/TabContent';\r\nimport Tab from 'react-bootstrap/Tab';\r\nimport Form from 'react-bootstrap/Form';\r\nimport DatePicker from \"react-datepicker\";\r\nimport subDays from \"date-fns/subDays\";\r\nimport subYears from \"date-fns/subYears\";\r\nimport \"react-datepicker/dist/react-datepicker.css\"\r\nimport Spinner from 'react-bootstrap/Spinner';\r\nimport Modal from \"react-bootstrap/Modal\";\r\nimport Dropdown from 'react-bootstrap/Dropdown';\r\nimport InputGroup from 'react-bootstrap/InputGroup';\r\nimport Alert from 'react-bootstrap/Alert';\r\n\r\nclass Profile extends Component {\r\n\t\r\n\tstate = {\r\n\t\tdata: null,\r\n\t\tvalidated: false,\r\n\t\tusername: \"\",\r\n\t\temail: \"\",\r\n\t\tbirthday: null,\r\n\t\toldPassword: \"\",\r\n\t\tnewPassword: \"\",\r\n\t\tconfirmNewPassword: \"\",\r\n\t\tsaving: false,\r\n\t\tshowModal: false,\r\n\t\tshowEditModal: false,\r\n\t\teditModalData: {},\r\n\t\taddModalData: {},\r\n\t\tfields: [],\r\n\t\tcategoryMenuShow: false,\r\n\t\tshowAlert: false,\r\n\t\talertMessage: \"\",\r\n\t\tentryTypeIndex: -1\r\n\t}\r\n\t\r\n\tcomponentDidMount = () => {\r\n\t\tthis.setState({data: this.props.data, username: this.props.data._id, email: this.props.data.email, birthday: new Date(this.props.data.birthday)});\r\n\t}\r\n\t\r\n\tonChangeAccountInfo = (e) => {\r\n\t\tvar name = [e.target.name][0];\r\n\t\tvar value = e.target.value;\r\n\t\tthis.setState({[name]: value});\r\n\t}\r\n\t\r\n\tonSelectBirthday = (date) => {\r\n\t\tthis.setState({birthday: date});\r\n\t}\r\n\t\r\n\thandleInfoSubmit = async (e) => {\r\n\t\tconst form = e.currentTarget;\r\n\t\tif(form.checkValidity() === false) {\r\n\t\t\te.preventDefault();\r\n\t\t\te.stopPropagation();\r\n\t\t}\r\n\t\tthis.setState({validated: true});\r\n\t\tvar requestBody = {};\r\n\t\tvar username = this.state.username.trim();\r\n\t\te.preventDefault();\r\n\t\tif(this.state.username.trim().length === 0 || this.state.email.trim().length === 0 || this.state.birthday === null) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif(this.state.username.trim() !== this.props.data._id) {\r\n\t\t\trequestBody._id = this.state.username.trim();\r\n\t\t\tusername = this.props.data._id;\r\n\t\t}\r\n\t\tif(this.state.email.trim() !== this.props.data.email) {\r\n\t\t\trequestBody.email = this.state.email.trim();\r\n\t\t}\r\n\t\tif(new Date(this.state.birthday).getTime() !== new Date(this.props.data.birthday).getTime()) {\r\n\t\t\trequestBody.birthday = this.state.birthday;\r\n\t\t}\r\n\t\tif(Object.keys(requestBody).length === 0) {\r\n\t\t\talert(\"You did not make any changes\");\r\n\t\t\tthis.setState({validated: false});\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tthis.props.toggleSaving();\r\n\t\t//var requestBody = {prevUsername: this.props.data._id, prevEmail: this.props.data.email, newUsername: this.state.username, newEmail: this.state.email, birthday: this.state.birthday};\r\n\t\tvar dataCopy = JSON.parse(JSON.stringify(this.props.data));\r\n\t\tdataCopy._id = this.state.username;\r\n\t\tdataCopy.email = this.state.email;\r\n\t\tdataCopy.birthday = this.state.birthday;\r\n\t\tawait this.props.changeUsernameAndEmail(requestBody, dataCopy, this.props.token, username);\r\n\t\tthis.setState({validated: false});\r\n\t}\r\n\t\r\n\thandlePasswordSubmit = async (e) => {\r\n\t\tconst form = e.currentTarget;\r\n\t\tif(form.checkValidity() === false) {\r\n\t\t\te.preventDefault();\r\n\t\t\te.stopPropagation();\r\n\t\t}\r\n\t\tthis.setState({validated: true});\r\n\t\te.preventDefault();\r\n\t\tif(this.state.oldPassword.trim().length === 0 || this.state.newPassword.trim().length === 0 || this.state.confirmNewPassword.trim().length === 0) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif(this.state.newPassword !== this.state.confirmNewPassword) {\r\n\t\t\talert(\"Cannot proceed -- New password does not match confirmation password\");\r\n\t\t\tthis.setState({validated: false});\r\n\t\t\treturn; \r\n\t\t}\r\n\t\tif(this.state.newPassword === this.state.oldPassword) {\r\n\t\t\talert(\"Cannot proceed -- New password is the same as the old password\");\r\n\t\t\tthis.setState({validated: false});\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tthis.props.toggleSaving();\r\n\t\tvar requestBody = {oldPassword: this.state.oldPassword, newPassword: this.state.newPassword}\r\n\t\tvar dataCopy = JSON.parse(JSON.stringify(this.props.data));\r\n\t\tawait this.props.changePassword(requestBody, dataCopy, this.props.token);\r\n\t\tthis.forceUpdate();\r\n\t\tthis.setState({validated: false});\r\n\t}\r\n\t\r\n\tresetFields = () => {\r\n\t\tthis.setState({validated: false, oldPassword: \"\", newPassword: \"\", confirmNewPassword: \"\", username: this.props.data._id, email: this.props.data.email, birthday: new Date(this.props.data.birthday)});\r\n\t}\r\n\t\r\n\topenEditModal = async (index) => {\r\n\t\tvar editData = {};\r\n\t\tvar fields = [];\r\n\t\tconst entryType = this.props.data.metaData.entryTypes[index];\r\n\t\teditData.Category = entryType.Category;\r\n\t\teditData.Type = entryType.Type;\r\n\t\teditData.Notes = \"string\";\r\n\t\tfor(var i = 0; i < entryType.displayOrder.length; i++) {\r\n\t\t\tvar key = entryType.displayOrder[i];\r\n\t\t\tif(key !== \"Category\" && key !== \"Type\" && key !== \"Notes\") {\r\n\t\t\t\tfields.push({fieldName: key, dataType: entryType[key]});\r\n\t\t\t}\r\n\t\t}\r\n\t\tawait this.setState({showEditModal: true, editModalData: editData, fields: fields, entryTypeIndex: index});\r\n\t}\r\n\t\r\n\tcloseEditModal = async () => {\r\n\t\tawait this.setState({showEditModal: false, editModalData: {}, fields: [], entryTypeIndex: -1});\r\n\t\tthis.hideAlert();\r\n\t}\r\n\t\r\n\tonChangeEditModal = (e) => {\r\n\t\tvar name = [e.target.name][0];\r\n\t\tvar value = e.target.value;\r\n\t\tvar copy = JSON.parse(JSON.stringify(this.state.editModalData));\r\n\t\tcopy[name] = value;\r\n\t\tthis.setState({editModalData: copy});\r\n\t}\r\n\t\r\n\topenAddModal = async () => {\r\n\t\tconst newData = {Category: \"\", Type: \"\", Notes: \"string\"};\r\n\t\tawait this.setState({showModal: true, addModalData: newData});\r\n\t}\r\n\t\r\n\tcloseAddModal = () => {\r\n\t\tthis.setState({addModalData: {}, fields: [], showModal: false});\r\n\t\tthis.hideAlert();\r\n\t}\r\n\t\r\n\tonChangeAddModal = (e) => {\r\n\t\tvar name = [e.target.name][0];\r\n\t\tvar value = e.target.value;\r\n\t\tvar copy = JSON.parse(JSON.stringify(this.state.addModalData));\r\n\t\tif(name === \"Category\") {\r\n\t\t\tthis.showCategoryList(value);\r\n\t\t}\r\n\t\tcopy[name] = value;\r\n\t\tthis.setState({addModalData: copy});\r\n\t}\r\n\t\r\n\tonSelectDropdown = (key, value) => {\r\n\t\tvar copy = JSON.parse(JSON.stringify(this.state.addModalData));\r\n\t\tcopy[key] = value;\r\n\t\tthis.setState({addModalData: copy});\r\n\t}\r\n\t\r\n\tonClickRootCloseCategory = () => {\r\n\t\tif(this.state.categoryMenuShow) {\r\n\t\t\tthis.setState({categoryMenuShow: false});\r\n\t\t}\r\n\t\telse {\r\n\t\t\tthis.setState({categoryMenuShow: true});\r\n\t\t}\r\n\t}\r\n\t\r\n\tshowCategoryList = (categorySearch) => {\r\n\t\tif(categorySearch.length === 0) {\r\n\t\t\tthis.setState({categoryMenuShow: false});\r\n\t\t}\r\n\t\telse {\r\n\t\t\tthis.setState({categoryMenuShow: true});\r\n\t\t}\r\n\t}\r\n\t\r\n\taddField = () => {\r\n\t\tvar newField = {fieldName: \"\", dataType: \"\"};\r\n\t\tvar copy = this.state.fields.slice();\r\n\t\tcopy.push(newField);\r\n\t\tthis.setState({fields: copy});\r\n\t}\r\n\t\r\n\tonChangeField = (e, index) => {\r\n\t\tvar name = [e.target.name][0];\r\n\t\tvar value = e.target.value;\r\n\t\tvar copy = this.state.fields.slice();\r\n\t\tcopy[index][name] = value;\r\n\t\tthis.setState({fields: copy});\r\n\t}\r\n\t\r\n\ttypeExists = (category, type) => {\r\n\t\tfor(var i = 0; i < this.props.data.metaData.entryTypes.length; i++) {\r\n\t\t\tvar entry = this.props.data.metaData.entryTypes[i];\r\n\t\t\tif(entry.Category === category && entry.Type === type) {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n\t\r\n\tvalidateFields = () => {\r\n\t\tvar defaultKeys = Object.keys(this.state.addModalData);\r\n\t\tvar fieldNames = [];\r\n\t\tif(Object.keys(this.state.addModalData).length === 0) {\r\n\t\t\tthis.showAlert(\"Cannot add new data, you're missing some required fields!\");\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\tfor(var key in this.state.addModalData) {\r\n\t\t\tif(this.state.addModalData[key].toString().trim().length === 0) {\r\n\t\t\t\tthis.showAlert(\"Cannot add new data, you're missing some required fields!\");\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t}\r\n\t\tfor(var i = 0; i < this.state.fields.length; i++) {\r\n\t\t\tvar newField = this.state.fields[i];\r\n\t\t\tfieldNames.push(newField.fieldName);\r\n\t\t\tfor(var key in newField) {\r\n\t\t\t\tif(newField[key].toString().trim().length === 0) {\r\n\t\t\t\t\tthis.showAlert(\"Cannot add new data, you're missing some required fields!\");\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tif(this.typeExists(this.state.addModalData.Category.trim(), this.state.addModalData.Type.trim())) {\r\n\t\t\tthis.showAlert(\"Cannot add new data -- \" + \"'\" + this.state.addModalData.Type + \"'\" +\r\n\t\t\t\" already exists under \" + \"'\" + this.state.addModalData.Category + \"'\" + \"!\");\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\tfor(var i = 0; i < this.state.fields.length; i++) {\r\n\t\t\tvar newField = this.state.fields[i];\r\n\t\t\tfor(var key in newField) {\r\n\t\t\t\tif(defaultKeys.includes(newField[key].toString().trim())) {\r\n\t\t\t\t\tthis.showAlert(\"Cannot add new data -- \" + \"the name \" + \"'\" + newField[key].toString().trim() + \"' already exists\");\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tconsole.log(fieldNames);\r\n\t\t\t\t\tvar count = 0;\r\n\t\t\t\t\tfor(var x = 0; x < fieldNames.length; x++) {\r\n\t\t\t\t\t\tif(newField[key].toString().trim() === fieldNames[x].toString().trim()) {\r\n\t\t\t\t\t\t\tcount++;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(count > 1) {\r\n\t\t\t\t\t\tthis.showAlert(\"Cannot add new data -- \" + \"the name \" + \"'\" + newField[key].toString().trim() + \"' is a duplicate\");\r\n\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn true;\r\n\t}\r\n\t\r\n\tvalidateEditFields = () => {\r\n\t\tvar defaultKeys = Object.keys(this.state.editModalData);\r\n\t\tvar fieldNames = [];\r\n\t\tvar prev = this.props.data.metaData.entryTypes[this.state.entryTypeIndex];\r\n\t\tif(Object.keys(this.state.editModalData).length === 0) {\r\n\t\t\tthis.showAlert(\"Cannot add new data, you're missing some required fields!\");\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\tfor(var key in this.state.editModalData) {\r\n\t\t\tif(this.state.editModalData[key].toString().trim().length === 0) {\r\n\t\t\t\tthis.showAlert(\"Cannot add new data, you're missing some required fields!\");\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t}\r\n\t\tfor(var i = 0; i < this.state.fields.length; i++) {\r\n\t\t\tvar newField = this.state.fields[i];\r\n\t\t\tfieldNames.push(newField.fieldName);\r\n\t\t\tfor(var key in newField) {\r\n\t\t\t\tif(newField[key].toString().trim().length === 0) {\r\n\t\t\t\t\tthis.showAlert(\"Cannot add new data, you're missing some required fields!\");\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tif(this.typeExists(this.state.editModalData.Category.trim(), this.state.editModalData.Type.trim()) && prev.Type !== this.state.editModalData.Type.trim()) {\r\n\t\t\tthis.showAlert(\"Cannot add new data -- \" + \"'\" + this.state.editModalData.Type + \"'\" +\r\n\t\t\t\" already exists under \" + \"'\" + this.state.editModalData.Category + \"'\" + \"!\");\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\tconsole.log(this.state.fields);\r\n\t\tfor(var i = 0; i < this.state.fields.length; i++) {\r\n\t\t\tvar newField = this.state.fields[i];\r\n\t\t\tfor(var key in newField) {\r\n\t\t\t\tif(defaultKeys.includes(newField[key].toString().trim())) {\r\n\t\t\t\t\tthis.showAlert(\"Cannot add new data -- \" + \"the name \" + \"'\" + newField[key] + \"' already exists\");\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tvar count = 0;\r\n\t\t\t\t\tfor(var x = 0; x < fieldNames.length; x++) {\r\n\t\t\t\t\t\tif(newField[key].toString().trim() === fieldNames[x].toString().trim()) {\r\n\t\t\t\t\t\t\tcount++;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(count > 1) {\r\n\t\t\t\t\t\tthis.showAlert(\"Cannot add new data -- \" + \"the name \" + \"'\" + newField[key].toString().trim() + \"' is a duplicate\");\r\n\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn true;\r\n\t}\r\n\t\r\n\tonClickSaveEdit = async () => {\r\n\t\tif(this.validateEditFields()) {\r\n\t\t\tvar dataCopy = JSON.parse(JSON.stringify(this.props.data));\r\n\t\t\tvar newData = {};\r\n\t\t\tvar displayOrder = [];\r\n\t\t\tnewData.Category = this.state.editModalData.Category.toString().trim();\r\n\t\t\tnewData.Type = this.state.editModalData.Type.toString().trim();\r\n\t\t\tfor(var i = 0; i < this.state.fields.length; i++) {\r\n\t\t\t\tvar newField = this.state.fields[i];\r\n\t\t\t\tvar fieldName = newField.fieldName.toString().trim();\r\n\t\t\t\tvar dataType = newField.dataType;\r\n\t\t\t\tnewData[fieldName] = dataType;\r\n\t\t\t}\r\n\t\t\tnewData.Notes = this.state.editModalData.Notes;\r\n\t\t\tdisplayOrder = Object.keys(newData);\r\n\t\t\tnewData.displayOrder = displayOrder;\r\n\t\t\tnewData.Date = \"string\";\r\n\t\t\tnewData.calculationType = \"none\";\r\n\t\t\tnewData.deletable = true;\r\n\t\t\tdataCopy.metaData.entryTypes[this.state.entryTypeIndex] = newData;\r\n\t\t\tawait this.props.saveData(dataCopy);\r\n\t\t\tthis.closeEditModal();\r\n\t\t\tthis.forceUpdate();\r\n\t\t}\r\n\t}\r\n\t\r\n\tonClickSave = async () => {\r\n\t\tif(this.validateFields()) {\r\n\t\t\tvar dataCopy = JSON.parse(JSON.stringify(this.props.data));\r\n\t\t\tvar newData = {};\r\n\t\t\tvar displayOrder = [];\r\n\t\t\tnewData.Category = this.state.addModalData.Category.toString().trim();\r\n\t\t\tnewData.Type = this.state.addModalData.Type.toString().trim();\r\n\t\t\tfor(var i = 0; i < this.state.fields.length; i++) {\r\n\t\t\t\tvar newField = this.state.fields[i];\r\n\t\t\t\tvar fieldName = newField.fieldName.toString().trim();\r\n\t\t\t\tvar dataType = newField.dataType;\r\n\t\t\t\tnewData[fieldName] = dataType;\r\n\t\t\t}\r\n\t\t\tnewData.Notes = this.state.addModalData.Notes;\r\n\t\t\tdisplayOrder = Object.keys(newData);\r\n\t\t\tnewData.displayOrder = displayOrder;\r\n\t\t\tnewData.Date = \"string\";\r\n\t\t\tnewData.calculationType = \"none\";\r\n\t\t\tnewData.deletable = true;\r\n\t\t\tdataCopy.metaData.entryTypes.push(newData);\r\n\t\t\tif(!dataCopy.metaData.categories.includes(newData.Category)) {\r\n\t\t\t\tdataCopy.metaData.categories.push(newData.Category);\r\n\t\t\t}\r\n\t\t\tawait this.props.saveData(dataCopy);\r\n\t\t\tthis.closeAddModal();\r\n\t\t\tthis.forceUpdate();\r\n\t\t}\r\n\t\telse {\r\n\t\t\treturn;\r\n\t\t}\r\n\t}\r\n\t\r\n\tdeleteData = async (index) => {\r\n\t\tvar approveDelete = window.confirm(\"Are you sure you want to delete this entry?\");\r\n\t\tif(approveDelete) {\r\n\t\t\tvar dataCopy = JSON.parse(JSON.stringify(this.props.data));\r\n\t\t\tdataCopy.metaData.entryTypes.splice(index, 1);\r\n\t\t\tawait this.props.saveData(dataCopy);\r\n\t\t\tthis.forceUpdate();\r\n\t\t}\r\n\t\telse {\r\n\t\t\treturn;\r\n\t\t}\r\n\t}\r\n\t\r\n\tdeleteCategory = async (category) => {\r\n\t\tvar approveDelete = window.confirm(\"All data linked to this category will be removed -- Are you sure you want to delete it? \");\r\n\t\tif(approveDelete) {\r\n\t\t\tvar dataCopy = JSON.parse(JSON.stringify(this.props.data));\r\n\t\t\tconsole.log(this.props.data);\r\n\t\t\tconsole.log(dataCopy);\r\n\t\t\tdataCopy.metaData.categories.splice(dataCopy.metaData.categories.indexOf(category), 1);\t\r\n\t\t\tvar newEntryTypes = [];\r\n\t\t\tvar newUserData = [];\r\n\t\t\tfor(var i = 0; i < dataCopy.metaData.entryTypes.length; i++) {\r\n\t\t\t\tvar entry = dataCopy.metaData.entryTypes[i];\r\n\t\t\t\tif(entry.Category !== category) {\r\n\t\t\t\t\tnewEntryTypes.push(entry);\r\n\t\t\t\t\t//dataCopy.metaData.entryTypes.splice(i, 1);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tfor(i = 0; i < dataCopy.userData.length; i++) {\r\n\t\t\t\tentry = dataCopy.userData[i];\r\n\t\t\t\tif(entry.Category !== category) {\r\n\t\t\t\t\tnewUserData.push(entry);\r\n\t\t\t\t\t//dataCopy.userData.splice(i, 1);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tdataCopy.metaData.entryTypes = newEntryTypes;\r\n\t\t\tdataCopy.userData = newUserData;\r\n\t\t\tawait this.props.saveData(dataCopy);\r\n\t\t\tthis.forceUpdate();\r\n\t\t}\r\n\t\telse {\r\n\t\t\treturn;\r\n\t\t}\r\n\t}\r\n\t\r\n\tshowAlert = (msg) => {\r\n\t\tthis.setState({showAlert: true, alertMessage: msg});\r\n\t}\r\n\t\r\n\thideAlert = () => {\r\n\t\tthis.setState({showAlert: false, alertMessage: \"\"});\r\n\t}\r\n\t\r\n\tremoveField = (index) => {\r\n\t\tvar copy = this.state.fields.slice();\r\n\t\tcopy.splice(index, 1);\r\n\t\tthis.setState({fields: copy});\r\n\t}\r\n\t\r\n\trender() {\r\n\t\tconst datePicker = <Form.Control\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\ttype = \"input\"\r\n\t\t\t\t\t\t\tvalue = {this.state.birthday}\r\n\t\t\t\t\t\t\tautoComplete = \"off\"\r\n\t\t\t\t\t\t\t/>\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t{this.state.showModal\r\n\t\t\t\t?\r\n\t\t\t\t\t<Modal show = {this.state.showModal} backdrop = \"static\" onHide = {this.closeAddModal.bind(this)} size = \"lg\">\r\n\t\t\t\t\t\t<Modal.Header closeButton>\r\n\t\t\t\t\t\t\t<Modal.Title>\r\n\t\t\t\t\t\t\t\tAdd Custom Training Data\r\n\t\t\t\t\t\t\t</Modal.Title>\r\n\t\t\t\t\t\t</Modal.Header>\r\n\t\t\t\t\t\t<Modal.Body>\r\n\t\t\t\t\t\t\t<h5> Category & Type </h5>\r\n\t\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t\t{Object.keys(this.state.addModalData).map((key) => {\r\n\t\t\t\t\t\t\t\tif(key === \"Category\") {\r\n\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Label> Category </Form.Label>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<InputGroup>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tas = \"input\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tautoComplete = \"off\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tname = {key}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue = {this.state.addModalData[key]}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange = {(e) => {this.onChangeAddModal(e)}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Dropdown show = {this.state.categoryMenuShow} as = {InputGroup.Prepend} onToggle = {this.onClickRootCloseCategory.bind(this)}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Dropdown.Toggle variant = \"outline-secondary\" eventKey = \"00\"> </Dropdown.Toggle>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Dropdown.Menu rootCloseEvent = \"click\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{this.props.data.metaData.categories.map((category) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Dropdown.Item onSelect = {this.onSelectDropdown.bind(this, key, category)} >\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{category}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Dropdown.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Dropdown.Menu>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Dropdown> \r\n\t\t\t\t\t\t\t\t\t\t\t\t</InputGroup> \r\n\t\t\t\t\t\t\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\telse if(key === \"Type\") {\r\n\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Form.Label> Type </Form.Label>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tas = \"input\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tautoComplete = \"off\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname = {key}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue = {this.state.addModalData[key]}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange = {(e) => {this.onChangeAddModal(e)}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<hr style = {{border: \"1px solid lightGray\"}} />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<h5> Fields  <Button variant = \"primary\" size = \"sm\" style = {{float: \"right\"}} onClick = {this.addField.bind(this)}> Add Field + </Button> </h5>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\telse if(this.state.fields.length !== 0) {\r\n\t\t\t\t\t\t\t\t\treturn this.state.fields.map((newField, index) => {\r\n\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Button variant = \"danger\" size = \"sm\" style = {{float:\"right\"}} onClick = {this.removeField.bind(this, index)}> X </Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Col sm = {6}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Label> Field Name </Form.Label>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tas = \"input\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tname = \"fieldName\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue = {newField.fieldName}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange = {(e) => {this.onChangeField(e, index)}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Col sm = {6}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Label> Data Type </Form.Label>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tas = \"select\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tname = \"dataType\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange = {(e) => {this.onChangeField(e, index)}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option selected disabled hidden> Select </option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option value = \"string\"> String </option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option value = \"number\"> Number </option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Form.Control>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t<Col sm = {6}>\r\n\t\t\t\t\t\t\t\t\t<Form.Label> Field Name </Form.Label>\r\n\t\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\t\tas = \"input\"\r\n\t\t\t\t\t\t\t\t\t\tname = \"Notes\"\r\n\t\t\t\t\t\t\t\t\t\tvalue = \"Notes\"\r\n\t\t\t\t\t\t\t\t\t\tdisabled = {true}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t<Col sm = {6}>\r\n\t\t\t\t\t\t\t\t\t<Form.Label> Data Type </Form.Label>\r\n\t\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\t\tas = \"select\"\r\n\t\t\t\t\t\t\t\t\t\tdisabled = {true}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<option value = \"string\"> String </option>\r\n\t\t\t\t\t\t\t\t\t</Form.Control>\r\n\t\t\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t</Modal.Body>\r\n\t\t\t\t\t\t{this.state.showAlert\r\n\t\t\t\t\t\t?\r\n\t\t\t\t\t\t<Modal.Footer>\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<Alert variant = \"danger\" onClose = {this.hideAlert.bind(this)} dismissible>\r\n\t\t\t\t\t\t\t\t\t<p> {this.state.alertMessage} </p>\r\n\t\t\t\t\t\t\t\t</Alert>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<Button variant = \"secondary\" onClick = {this.closeAddModal.bind(this)}> Close </Button>\r\n\t\t\t\t\t\t\t<Button variant = \"primary\" onClick = {this.onClickSave.bind(this)}> Save </Button>\r\n\t\t\t\t\t\t</Modal.Footer>\r\n\t\t\t\t\t\t:\r\n\t\t\t\t\t\t<Modal.Footer>\r\n\t\t\t\t\t\t\t<Button variant = \"secondary\" onClick = {this.closeAddModal.bind(this)}> Close </Button>\r\n\t\t\t\t\t\t\t<Button variant = \"primary\" onClick = {this.onClickSave.bind(this)}> Save </Button>\r\n\t\t\t\t\t\t</Modal.Footer>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t</Modal>\r\n\t\t\t\t: \r\n\t\t\t\t<div> </div>\r\n\t\t\t\t}\r\n\t\t\t\t{this.state.showEditModal\r\n\t\t\t\t?\r\n\t\t\t\t\t<Modal show = {this.state.showEditModal} backdrop = \"static\" onHide = {this.closeEditModal.bind(this)} size = \"lg\">\r\n\t\t\t\t\t\t<Modal.Header closeButton>\r\n\t\t\t\t\t\t\t<Modal.Title>\r\n\t\t\t\t\t\t\t\tEdit Custom Training Data\r\n\t\t\t\t\t\t\t</Modal.Title>\r\n\t\t\t\t\t\t</Modal.Header>\r\n\t\t\t\t\t\t<Modal.Body>\r\n\t\t\t\t\t\t\t<h5> Category & Type </h5>\r\n\t\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t\t{Object.keys(this.state.editModalData).map((key, index) => {\r\n\t\t\t\t\t\t\t\tif(key === \"Category\") {\r\n\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Label> Category </Form.Label>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tas = \"input\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tautoComplete = \"off\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname = {key}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue = {this.state.editModalData[key]}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange = {(e) => {this.onChangeEditModal(e)}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled = {true}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\telse if(key === \"Type\") {\r\n\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Form.Label> Type </Form.Label>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tas = \"input\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tautoComplete = \"off\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname = {key}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue = {this.state.editModalData[key]}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange = {(e) => {this.onChangeEditModal(e)}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<hr style = {{border: \"1px solid lightGray\"}} />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<h5> Fields  <Button variant = \"primary\" size = \"sm\" style = {{float: \"right\"}} onClick = {this.addField.bind(this)}> Add Field + </Button> </h5>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\telse if(this.state.fields.length !== 0) {\r\n\t\t\t\t\t\t\t\t\treturn this.state.fields.map((newField, index) => {\r\n\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Button variant = \"danger\" size = \"sm\" style = {{float:\"right\"}} onClick = {this.removeField.bind(this, index)}> X </Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Col sm = {6}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Label> Field Name </Form.Label>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tas = \"input\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tname = \"fieldName\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue = {newField.fieldName}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange = {(e) => {this.onChangeField(e, index)}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Col sm = {6}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Label> Data Type </Form.Label>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tas = \"select\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tname = \"dataType\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange = {(e) => {this.onChangeField(e, index)}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option selected hidden> {newField.dataType.charAt(0).toUpperCase() + newField.dataType.slice(1)} </option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option value = \"string\"> String </option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option value = \"number\"> Number </option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Form.Control>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t<Col sm = {6}>\r\n\t\t\t\t\t\t\t\t\t<Form.Label> Field Name </Form.Label>\r\n\t\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\t\tas = \"input\"\r\n\t\t\t\t\t\t\t\t\t\tname = \"Notes\"\r\n\t\t\t\t\t\t\t\t\t\tvalue = \"Notes\"\r\n\t\t\t\t\t\t\t\t\t\tdisabled = {true}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t<Col sm = {6}>\r\n\t\t\t\t\t\t\t\t\t<Form.Label> Data Type </Form.Label>\r\n\t\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\t\tas = \"select\"\r\n\t\t\t\t\t\t\t\t\t\tdisabled = {true}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<option value = \"string\"> String </option>\r\n\t\t\t\t\t\t\t\t\t</Form.Control>\r\n\t\t\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t</Modal.Body>\r\n\t\t\t\t\t\t{this.state.showAlert\r\n\t\t\t\t\t\t?\r\n\t\t\t\t\t\t<Modal.Footer>\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<Alert variant = \"danger\" onClose = {this.hideAlert.bind(this)} dismissible>\r\n\t\t\t\t\t\t\t\t\t<p> {this.state.alertMessage} </p>\r\n\t\t\t\t\t\t\t\t</Alert>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<Button variant = \"secondary\" onClick = {this.closeEditModal.bind(this)}> Close </Button>\r\n\t\t\t\t\t\t\t<Button variant = \"primary\" onClick = {this.onClickSaveEdit.bind(this)}> Save </Button>\r\n\t\t\t\t\t\t</Modal.Footer>\r\n\t\t\t\t\t\t:\r\n\t\t\t\t\t\t<Modal.Footer>\r\n\t\t\t\t\t\t\t<Button variant = \"secondary\" onClick = {this.closeEditModal.bind(this)}> Close </Button>\r\n\t\t\t\t\t\t\t<Button variant = \"primary\" onClick = {this.onClickSaveEdit.bind(this)}> Save </Button>\r\n\t\t\t\t\t\t</Modal.Footer>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t</Modal>\r\n\t\t\t\t:\r\n\t\t\t\t<div> </div>\r\n\t\t\t\t}\r\n\t\t\t\t<Row>\r\n\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t<h1 style = {{margin: \"1%\"}}> Training Diary </h1>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t\t<Col style = {{textAlign: \"right\"}}>\r\n\t\t\t\t\t\t<Button variant = \"success\" href = \"/\" style = {{margin: \"1%\"}}> Back to Home </Button>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t</Row>\r\n\t\t\t\t<Container>\r\n\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t<h3 style = {{margin: \"1%\"}}> Profile </h3>\r\n\t\t\t\t\t</Row>\r\n\t\t\t\t</Container>\r\n\t\t\t\t<Container style = {{border: \"1px solid lightGray\"}}>\r\n\t\t\t\t\t<Tabs variant = \"pills\" defaultActiveKey = \"editProfile\" onSelect = {this.resetFields.bind(this)}>\r\n\t\t\t\t\t\t<Tab eventKey = \"editProfile\" title = \"Edit Profile ✏️\">\r\n\t\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t\t<Form noValidate validated = {this.state.validated} onSubmit = {this.handleInfoSubmit}>\r\n\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t<Form.Label> Username </Form.Label>\r\n\t\t\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\t\t\t\ttype = \"input\"\r\n\t\t\t\t\t\t\t\t\t\t\tname = \"username\"\r\n\t\t\t\t\t\t\t\t\t\t\tvalue = {this.state.username}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange = {(e) => {this.onChangeAccountInfo(e)}}\r\n\t\t\t\t\t\t\t\t\t\t\tautoComplete = \"off\"\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t<Form.Label> Email </Form.Label>\r\n\t\t\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\t\t\t\ttype = \"input\"\r\n\t\t\t\t\t\t\t\t\t\t\tname = \"email\"\r\n\t\t\t\t\t\t\t\t\t\t\tvalue = {this.state.email}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange = {(e) => {this.onChangeAccountInfo(e)}}\r\n\t\t\t\t\t\t\t\t\t\t\tautoComplete = \"off\"\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t<Form.Label> Birthday </Form.Label>\r\n\t\t\t\t\t\t\t\t\t\t<DatePicker\r\n\t\t\t\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\t\t\t\tselected = {this.state.birthday}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange = {this.onSelectBirthday}\r\n\t\t\t\t\t\t\t\t\t\t\tminDate = {subYears(new Date(), 120)}\r\n\t\t\t\t\t\t\t\t\t\t\tmaxDate = {subDays(new Date(), 0)}\r\n\t\t\t\t\t\t\t\t\t\t\tshowYearDropdown\r\n\t\t\t\t\t\t\t\t\t\t\tscrollableYearDropdown\r\n\t\t\t\t\t\t\t\t\t\t\tshowMonthDropdown\r\n\t\t\t\t\t\t\t\t\t\t\tdropdownMode=\"select\"\r\n\t\t\t\t\t\t\t\t\t\t\tplaceholderText = \"Birthday\"\r\n\t\t\t\t\t\t\t\t\t\t\tcustomInput = {datePicker}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t{this.props.saving\r\n\t\t\t\t\t\t\t\t\t?\r\n\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t<Spinner animation = \"border\" variant = \"primary\" />\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t:\r\n\t\t\t\t\t\t\t\t\t<div> </div>\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t<Button type = \"submit\" style = {{float: \"right\"}}> Save </Button>\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t\t</Form>\r\n\t\t\t\t\t\t</Tab>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<Tab eventKey = \"changePassword\" title = \"Change Password 🔑\">\r\n\t\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t\t<Form noValidate validated = {this.state.validated} onSubmit = {this.handlePasswordSubmit}>\r\n\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t<Form.Label> Old Password </Form.Label> \r\n\t\t\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\t\t\trequired \r\n\t\t\t\t\t\t\t\t\t\t\ttype = \"password\"\r\n\t\t\t\t\t\t\t\t\t\t\tname = \"oldPassword\"\r\n\t\t\t\t\t\t\t\t\t\t\tvalue = {this.state.oldPassword}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange = {(e) => {this.onChangeAccountInfo(e)}}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t<br/> \r\n\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t<Form.Label> New Password </Form.Label> \r\n\t\t\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\t\t\trequired \r\n\t\t\t\t\t\t\t\t\t\t\ttype = \"password\"\r\n\t\t\t\t\t\t\t\t\t\t\tname = \"newPassword\"\r\n\t\t\t\t\t\t\t\t\t\t\tvalue = {this.state.newPassword}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange = {(e) => {this.onChangeAccountInfo(e)}}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t<br/> \t\r\n\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t<Form.Label> Confirm New Password </Form.Label> \r\n\t\t\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\t\t\trequired \r\n\t\t\t\t\t\t\t\t\t\t\ttype = \"password\"\r\n\t\t\t\t\t\t\t\t\t\t\tname = \"confirmNewPassword\"\r\n\t\t\t\t\t\t\t\t\t\t\tvalue = {this.state.confirmNewPassword}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange = {(e) => {this.onChangeAccountInfo(e)}}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t{this.props.saving\r\n\t\t\t\t\t\t\t\t\t?\r\n\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t<Spinner animation = \"border\" variant = \"primary\" />\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t:\r\n\t\t\t\t\t\t\t\t\t<div> </div>\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t<Button type = \"submit\" style = {{float: \"right\"}}> Save </Button>\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t\t</Form>\r\n\t\t\t\t\t\t</Tab>\r\n\t\t\t\t\t\t<Tab eventKey = \"accountStats\" title = \"Account Stats 📈\">\r\n\t\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t<Card>\r\n\t\t\t\t\t\t\t\t\t\t<Card.Body>\r\n\t\t\t\t\t\t\t\t\t\t\t<Card.Title>\r\n\t\t\t\t\t\t\t\t\t\t\t\tGoal Statistics 🎯\r\n\t\t\t\t\t\t\t\t\t\t\t\t<hr style = {{border: \"1px solid lightGray\"}} />\r\n\t\t\t\t\t\t\t\t\t\t\t</Card.Title>\r\n\t\t\t\t\t\t\t\t\t\t\t<Card.Text>\r\n\t\t\t\t\t\t\t\t\t\t\t{this.props.data.metaData.categories.map((category) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\tvar numGoals = 0;\r\n\t\t\t\t\t\t\t\t\t\t\t\tthis.props.data.goals.map((goal) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tif(goal[\"Goal Type\"] === category) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tnumGoals++;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<li> Number of {category} Goals: {numGoals} </li>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t\t\t</Card.Text>\r\n\t\t\t\t\t\t\t\t\t\t</Card.Body>\r\n\t\t\t\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t<Card>\r\n\t\t\t\t\t\t\t\t\t\t<Card.Body>\r\n\t\t\t\t\t\t\t\t\t\t\t<Card.Title>\r\n\t\t\t\t\t\t\t\t\t\t\t\tTraining Statistics 💪\r\n\t\t\t\t\t\t\t\t\t\t\t\t<hr style = {{border: \"1px solid lightGray\"}} />\r\n\t\t\t\t\t\t\t\t\t\t\t</Card.Title>\r\n\t\t\t\t\t\t\t\t\t\t\t<Card.Text>\r\n\t\t\t\t\t\t\t\t\t\t\t{this.props.data.metaData.categories.map((category) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\tvar numEntries = 0;\r\n\t\t\t\t\t\t\t\t\t\t\t\tthis.props.data.userData.map((entry) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tif(entry.Category === category) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tnumEntries++;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<li> Number of {category} Entries: {numEntries} </li>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t\t\t</Card.Text>\r\n\t\t\t\t\t\t\t\t\t\t</Card.Body>\r\n\t\t\t\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t</Tab>\r\n\t\t\t\t\t\t<Tab eventKey = \"customize\" title = \"Customize Data ⚙️\">\r\n\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t<h3>\r\n\t\t\t\t\t\t\t\t\tTraining Data Options\r\n\t\t\t\t\t\t\t\t\t<Button variant = \"primary\" style = {{float: \"right\"}} onClick = {this.openAddModal.bind(this)}> + </Button>\r\n\t\t\t\t\t\t\t\t</h3>\r\n\t\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t\tCustomize your data by editing, deleting, and adding to the options below.\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t{this.props.data.metaData.categories.map((category) => {\r\n\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t<Col sm = {12}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Card>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Card.Body>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Card.Title>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{category !== \"Diet\" && category !== \"Body\" && category !== \"Exercise\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t?\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{category}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button size = \"sm\" variant = \"light\" style = {{margin: \"1%\"}} onClick = {this.deleteCategory.bind(this, category)}> 🗑️ </Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t:\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{category}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Card.Title>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Card.Text>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{this.props.data.metaData.entryTypes.map((entry, entryIndex) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif(entry.Category === category) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif(entry.deletable) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Col sm = {4}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Card style = {{height: \"100%\"}}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Card.Title>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button size = \"sm\" variant = \"light\" style = {{float: \"right\"}} onClick = {this.deleteData.bind(this, entryIndex)}> 🗑️ </Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button size = \"sm\" variant = \"light\" style = {{float: \"right\"}} onClick = {this.openEditModal.bind(this, entryIndex)}> ✏️ </Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Card.Title>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Card.Body>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Card.Text> \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ListGroup horizontal>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ListGroup.Item style = {{width: \"100%\"}}> <strong> Category </strong> : {entry.Category} </ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</ListGroup>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ListGroup horizontal>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ListGroup.Item style = {{width: \"100%\"}}> <strong> Type </strong> : {entry.Type} </ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</ListGroup>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ListGroup horizontal>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ListGroup.Item style = {{width: \"100%\"}}> \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<strong> Fields </strong>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{entry.displayOrder.map((key) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif(key !== \"Category\" && key !== \"Type\") {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<li> {key} </li>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</ListGroup>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Card.Text>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Card.Body>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Col sm = {4} style = {{marginBottom: \"3%\"}}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Card style = {{height: \"100%\"}}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Card.Body>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Card.Text> \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ListGroup horizontal>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ListGroup.Item style = {{width: \"100%\"}}> <strong> Category </strong> : {entry.Category} </ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</ListGroup>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ListGroup horizontal>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ListGroup.Item style = {{width: \"100%\"}}> <strong> Type </strong> : {entry.Type} </ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</ListGroup>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ListGroup horizontal>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ListGroup.Item style = {{width: \"100%\"}}> \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<strong> Fields </strong>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{entry.displayOrder.map((key) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif(key !== \"Category\" && key !== \"Type\") {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<li> {key} </li>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</ListGroup>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Card.Text>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Card.Body>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Card.Text>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Card.Body>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t</Tab>\r\n\t\t\t\t\t</Tabs>\r\n\t\t\t\t</Container>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport default Profile;","import React, { Component } from 'react';\r\nimport Container from 'react-bootstrap/Container';\r\nimport Row from 'react-bootstrap/Row';\r\nimport Col from 'react-bootstrap/Col';\r\nimport Button from 'react-bootstrap/Button';\r\nimport Card from 'react-bootstrap/Card';\r\nimport ListGroup from 'react-bootstrap/ListGroup';\r\nimport Tabs from 'react-bootstrap/Tabs';\r\nimport TabContent from 'react-bootstrap/TabContent';\r\nimport Tab from 'react-bootstrap/Tab';\r\nimport Nav from 'react-bootstrap/Nav';\r\nimport Form from 'react-bootstrap/Form';\r\nimport Spinner from 'react-bootstrap/Spinner';\r\n\r\n\r\nclass ForgotCredentials extends Component {\r\n\t\r\n\tstate = {\r\n\t\tvalidated: false,\r\n\t\tpasswordValidated: false,\r\n\t\temail: \"\",\r\n\t\tusername: \"\",\r\n\t\ttempPassword: \"\",\r\n\t\tnewPassword: \"\",\r\n\t\tconfirmPassword: \"\",\r\n\t\tsaving: false\r\n\t}\r\n\t\r\n\thandleEmailSubmit = async (e) => {\r\n\t\tconst form = e.currentTarget;\r\n\t\tif(form.checkValidity() === false) {\r\n\t\t\te.preventDefault();\r\n\t\t\te.stopPropagation();\r\n\t\t}\r\n\t\tthis.setState({validated: true});\r\n\t\te.preventDefault();\r\n\t\tif(this.state.email.toString().trim().length === 0) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tawait this.props.toggleSaving();\r\n\t\tvar requestBody = {email: this.state.email.trim()}\r\n\t\tawait this.props.getTempCredentials(requestBody, this.state.email);\r\n\t\tthis.forceUpdate();\r\n\t\tthis.setState({validated: false});\r\n\t}\r\n\t\r\n\thandleTempSubmit = async (e) => {\r\n\t\tconst form = e.currentTarget;\r\n\t\tif(form.checkValidity() === false) {\r\n\t\t\te.preventDefault();\r\n\t\t\te.stopPropagation();\r\n\t\t}\r\n\t\tthis.setState({validated: true});\r\n\t\te.preventDefault();\r\n\t\tif(this.state.username.toString().trim().length === 0 || this.state.tempPassword.length === 0) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tthis.props.toggleSaving();\r\n\t\tvar requestBody = {username: this.state.username.trim(), tempPassword: this.state.tempPassword};\r\n\t\tawait this.props.validateTempCredentials(requestBody);\r\n\t\tthis.forceUpdate();\r\n\t\tthis.setState({validated: false});\r\n\t}\r\n\t\r\n\thandleNewPasswordSubmit = async (e) => {\r\n\t\tconst form = e.currentTarget;\r\n\t\tif(form.checkValidity() === false) {\r\n\t\t\te.preventDefault();\r\n\t\t\te.stopPropagation();\r\n\t\t}\r\n\t\tthis.setState({passwordValidated: true});\r\n\t\te.preventDefault();\r\n\t\tif(this.state.newPassword.length === 0 || this.state.confirmPassword.length === 0) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tvar requestBody = {password: this.state.newPassword};\r\n\t\tif(this.props.username.toString().length !== 0 && this.props.username !== undefined && this.props.token !== null && this.props.token !== undefined) {\r\n\t\t\tthis.props.toggleSaving();\r\n\t\t\tawait this.props.recoverPassword(this.props.username, this.props.token, requestBody);\r\n\t\t\tthis.setState({validated: false});\r\n\t\t}\r\n\t}\r\n\t\r\n\tonChangeField = (e) => {\r\n\t\tvar name = [e.target.name][0];\r\n\t\tvar value = e.target.value;\r\n\t\tthis.setState({[name]: value});\r\n\t}\r\n\t\r\n\t\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<Row>\r\n\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t<h1 style = {{margin: \"1%\"}}> Training Diary </h1>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t\t<Col style = {{textAlign: \"right\"}}>\r\n\t\t\t\t\t\t<Button variant = \"success\" href = \"/\" style = {{margin: \"1%\"}}> Back to Home </Button>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t</Row>\r\n\t\t\t\t<Container>\r\n\t\t\t\t\t<br/>\r\n\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t{this.props.recoveryDisabled\r\n\t\t\t\t\t\t?\r\n\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t<Card style = {{marginTop: \"5%\"}}>\r\n\t\t\t\t\t\t\t\t\t<Card.Header as = \"h4\"> Enter a New Password </Card.Header>\r\n\t\t\t\t\t\t\t\t\t<Card.Body>\r\n\t\t\t\t\t\t\t\t\t\t<Card.Text>\r\n\t\t\t\t\t\t\t\t\t\t\t<Form noValidate validated = {this.state.passwordValidated} onSubmit = {this.handleNewPasswordSubmit}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Form.Label> New Password </Form.Label>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype = \"password\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname = \"newPassword\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue = {this.state.newPassword}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange = {(e) => {this.onChangeField(e)}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tautoComplete = \"off\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Form.Label> Confirm New Password </Form.Label>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype = \"password\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname = \"confirmPassword\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue = {this.state.confirmPassword}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange = {(e) => {this.onChangeField(e)}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tautoComplete = \"off\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Row  style = {{textAlign: \"left\"}}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button type = \"submit\"> Submit </Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{this.props.saving \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t?\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Spinner animation = \"border\" variant = \"primary\" />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div> </div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t\t\t\t</Form>\t\t\r\n\t\t\t\t\t\t\t\t\t\t</Card.Text>\r\n\t\t\t\t\t\t\t\t\t</Card.Body>\r\n\t\t\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t:\r\n\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t<Card>\r\n\t\t\t\t\t\t\t\t<Card.Header as = \"h4\"> Recover Credentials </Card.Header>\r\n\t\t\t\t\t\t\t\t<Card.Body>\r\n\t\t\t\t\t\t\t\t\t{this.props.tempSuccess\r\n\t\t\t\t\t\t\t\t\t?\r\n\t\t\t\t\t\t\t\t\t\t<Card.Title>\r\n\t\t\t\t\t\t\t\t\t\t\tEmail sent! \r\n\t\t\t\t\t\t\t\t\t\t</Card.Title>\r\n\t\t\t\t\t\t\t\t\t:\r\n\t\t\t\t\t\t\t\t\t\t<Card.Title>\r\n\t\t\t\t\t\t\t\t\t\t\tEnter your email \r\n\t\t\t\t\t\t\t\t\t\t</Card.Title>\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t<Card.Text>\r\n\t\t\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t\t\t{this.props.tempSuccess\r\n\t\t\t\t\t\t\t\t\t\t\t?\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tEnter the <u>username</u> and <u>temporary password</u> sent to <strong> {this.props.email} </strong>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t:\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tWe'll send your username and a temporary password.\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t\t\t{this.props.tempSuccess\r\n\t\t\t\t\t\t\t\t\t\t\t?\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Form noValidate validated = {this.state.validated} onSubmit = {this.handleTempSubmit}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Label> Username </Form.Label>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype = \"input\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname = \"username\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue = {this.state.username}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange = {(e) => {this.onChangeField(e)}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tautoComplete = \"off\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled = {this.props.recoveryDisabled}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Label> Temporary Password (expires in 5 min.) </Form.Label>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype = \"password\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname = \"tempPassword\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue = {this.state.tempPassword}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange = {(e) => {this.onChangeField(e)}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tautoComplete = \"off\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled = {this.props.recoveryDisabled}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Row  style = {{textAlign: \"left\"}}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button type = \"submit\" disabled = {this.props.recoveryDisabled}> Submit </Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{this.props.saving \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t?\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Spinner animation = \"border\" variant = \"primary\" />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div> </div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Form>\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t:\r\n\t\t\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Form noValidate validated = {this.state.validated} onSubmit = {this.handleEmailSubmit}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Label> Email </Form.Label>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype = \"input\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tname = \"email\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue = {this.state.email}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange = {(e) => {this.onChangeField(e)}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tautoComplete = \"off\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Row  style = {{textAlign: \"left\"}}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button type = \"submit\" disabled = {this.props.recoveryDisabled}> Submit </Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{this.props.saving \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t?\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Spinner animation = \"border\" variant = \"primary\" />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div> </div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Form>\r\n\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t\t</Card.Text>\r\n\t\t\t\t\t\t\t\t</Card.Body>\r\n\t\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t</Row>\r\n\t\t\t\t</Container>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default ForgotCredentials;\r\n","import 'bootstrap/dist/css/bootstrap.min.css';\r\nimport React, { Component } from 'react';\r\nimport axios from 'axios';\r\nimport Button from 'react-bootstrap/Button';\r\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\r\nimport Loader from 'react-loader-spinner';\r\nimport Login from './login-components/Login.js';\r\nimport TrainingDiary from './td-components/TrainingDiary.js';\r\nimport Profile from './pages/Profile.js';\r\nimport ForgotCredentials from './pages/ForgotCredentials.js';\r\nimport { BrowserRouter as Router, Route, Switch } from 'react-router-dom';\r\n\r\nclass App extends Component {\r\n\tstate = {\r\n\t\tdata: null, //user data from database\r\n\t\tusername: \"\", //username\r\n\t\ttoken: null, //api token \r\n\t\twaitingForPage: false, //flag to render loader while page is initially loading\r\n\t\tisLoggedIn: false, //flag determining if user is logged in \r\n\t\tonLogin: true, //flag determining if user is on the login page \r\n\t\tonRegistration: false, //flag determining if user is on registration page ,\r\n\t\taddModalShow: false,\r\n\t\teditModalShow: false,\r\n\t\tisSaving: false,\r\n\t\tdataToEdit: null,\r\n\t\tauthLoading: false,\r\n\t\tdisabled: false,\r\n\t\ttempSuccess: false,\r\n\t\trecoveryEmail: \"\",\r\n\t\trecoveryDisabled: false,\r\n\t\tprofileAndCredSaving: false\r\n\t\t\r\n\t}\r\n\t\r\n\t/* COMPONENT MOUNT + UPDATE METHODS */\r\n\t\r\n\tcomponentDidMount = () => {\r\n\t\tthis.setState({waitingForPage: true});\r\n\t\tconst token = localStorage.getItem(\"token\");\r\n\t\tconst username = localStorage.getItem(\"username\");\r\n\t\taxios.post(`/verifyLogin/${username}`, {}, {headers: {\"token\": token}})\r\n\t\t\t.catch(function(error) {\r\n\t\t\t\treturn;\r\n\t\t\t})\r\n\t\t\t.then(res => this.handleVerificationResponse(res, username));\r\n\t}\r\n\t\r\n\t/* GENERAL COMPONENT METHODS */ \r\n\t\r\n\ttoggleSaveBar = () => {\r\n\t\tthis.setState({isSaving: !this.state.isSaving});\r\n\t}\r\n\t\r\n\t/* MODAL METHODS */\r\n\t\r\n\ttoggleAddModal = () => {\r\n\t\tthis.setState({addModalShow: !this.state.addModalShow});\r\n\t}\r\n\t\r\n\ttoggleEditModal = (dataToEdit) => {\r\n\t\tconsole.log(dataToEdit);\r\n\t\tthis.setState({editModalShow: !this.state.editModalShow, dataToEdit: dataToEdit});\r\n\t}\r\n\t\r\n\ttoggleProfAndCredLoader = () => {\r\n\t\tthis.setState({profileAndCredSaving: !this.state.profileAndCredSaving});\r\n\t}\r\n\t\r\n\t\r\n\t/* SERVER API METHODS */ \r\n\t\r\n\thandleGetResponse = (response, username) => {\r\n\t\ttry {\r\n\t\t\tvar status = Number(response.status);\r\n\t\t\tif(status === 200) {\r\n\t\t\t\tthis.toggleAuthLoader();\r\n\t\t\t\tthis.setState({token: response.headers.token, username: username, data: response.data, isLoggedIn: true, waitingForPage: false});\r\n\t\t\t\tlocalStorage.setItem(\"username\", username);\r\n\t\t\t\tlocalStorage.setItem(\"token\", response.headers.token);\r\n\t\t\t}\r\n\t\t}\r\n\t\tcatch(error) {\r\n\t\t\t//this.logout();\r\n\t\t}\r\n\t}\r\n\t\r\n\t//handles the response from server that verifies if user is still logged in\r\n\t//if successful, sends a request to get all user data\r\n\thandleVerificationResponse = (response, username) => {\r\n\t\tvar that = this;\r\n\t\ttry {\r\n\t\t\tif(localStorage.getItem(\"token\") === null || localStorage.getItem(\"username\") === null) {\r\n\t\t\t\tthis.setState({isLoggedIn: false, waitingForPage: false});\r\n\t\t\t\tlocalStorage.clear();  \r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tvar status = Number(response.status);\r\n\t\t\t\tif(status === 200) {\r\n\t\t\t\t\tlocalStorage.setItem(\"username\", username);\r\n\t\t\t\t\tlocalStorage.setItem(\"token\", response.headers.token);\r\n\t\t\t\t\taxios.get(`/getAllData/${username}`, {headers: {\"token\": response.headers.token}})\r\n\t\t\t\t\t\t.catch(function(error) {\r\n\t\t\t\t\t\t\talert(\"Internal Error -- could not get data -- redirecting to login page\");\r\n\t\t\t\t\t\t\tthat.logout();\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.then(res => this.handleGetResponse(res, username));\r\n\t\t\t\t}\r\n\t\t\t\telse if(status === 204) {\r\n\t\t\t\t\talert(\"Session expired. Logging you out\");\r\n\t\t\t\t\tthis.logout();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tcatch(error) {\r\n\t\t\tthis.logout();\r\n\t\t\treturn;\r\n\t\t}\r\n\t}\r\n\r\n\t//saves data by calling post api \r\n\tsaveData = (newData) => {\r\n\t\tconst username = this.state.data._id;\r\n\t\taxios.post(`/postData/${username}`, newData, {headers: {\"token\": this.state.token}})\r\n\t\t\t.catch(function(error) {\r\n\t\t\t\talert(\"Internal Error -- could not save data -- redirecting to login page\");\r\n\t\t\t})\r\n\t\t\t.then(res => this.handlePostResponse(res, newData));\r\n\t}\r\n\t\r\n\t//handles response from post request \r\n\thandlePostResponse = (response, newData) => {\r\n\t\ttry {\r\n\t\t\tvar status = Number(response.status);\r\n\t\t\tif(status === 200) {\r\n\t\t\t\tlocalStorage.setItem(\"token\", response.headers.token);\r\n\t\t\t\tthis.setState({token: response.headers.token});\r\n\t\t\t\tthis.setState({data: newData});\r\n\t\t\t}\r\n\t\t}\r\n\t\tcatch(error) {\r\n\t\t\tthis.logout();\r\n\t\t}\r\n\t}\r\n\t\r\n\t/* AUTH METHODS */ \r\n\t\r\n\tchangeUsernameAndEmail = (reqBody, newData, token, prevUsername) => {\r\n\t\tvar that = this;\r\n\t\taxios.post(`/postAccountInfo/${prevUsername}`, reqBody, {headers: {\"token\": token}})\r\n\t\t\t.catch(function(error) {\r\n\t\t\t\tif(error.response.status === 409) {\r\n\t\t\t\t\talert(\"Username or email already exists. Please choose another one\");\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\telse if(error.response.status === 401) {\r\n\t\t\t\t\talert(\"Session expired. Logging you out \");\r\n\t\t\t\t\tthat.logout();\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\talert(\"Internal Error -- could not update username & email\");\r\n\t\t\t})\r\n\t\t\t.then(res => this.handleChangeInfoResponse(res, newData));\r\n\t}\r\n\t\r\n\thandleChangeInfoResponse = (response, newData) => {\r\n\t\ttry {\r\n\t\t\tvar status = Number(response.status);\r\n\t\t\tif(status === 200) {\r\n\t\t\t\talert(\"Changed successfully\");\r\n\t\t\t\tthis.toggleProfAndCredLoader();\r\n\t\t\t\tlocalStorage.setItem(\"token\", response.headers.token);\r\n\t\t\t\tlocalStorage.setItem(\"username\", newData._id);\r\n\t\t\t\tthis.setState({token: response.headers.token});\r\n\t\t\t\tthis.setState({data: newData});\r\n\t\t\t}\r\n\t\t}\r\n\t\tcatch(error) {\r\n\t\t\tthis.toggleProfAndCredLoader();\r\n\t\t\treturn;\r\n\t\t}\r\n\t}\r\n\t\r\n\tchangePassword = (reqBody, newData, token) => {\r\n\t\tvar that = this;\r\n\t\tvar username = newData._id;\r\n\t\taxios.post(`/postCredentials/${username}`, reqBody, {headers: {\"token\": token}})\r\n\t\t\t.catch(function(error) {\r\n\t\t\t\tif(error.response.status === 409) {\r\n\t\t\t\t\talert(\"Old password is invalid\");\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\telse if(error.response.status === 401) {\r\n\t\t\t\t\talert(\"Session expired. Logging you out\");\r\n\t\t\t\t\tthat.logout();\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\talert(\"Internal Error -- could not change password\");\r\n\t\t\t})\r\n\t\t\t.then(res => this.handleChangePasswordResponse(res, newData));\r\n\t}\r\n\t\r\n\thandleChangePasswordResponse = (response, newData) => {\r\n\t\ttry {\r\n\t\t\tvar status = Number(response.status);\r\n\t\t\tif(status === 200) {\r\n\t\t\t\talert(\"Changed successfully\");\r\n\t\t\t\tthis.toggleProfAndCredLoader();\r\n\t\t\t\tlocalStorage.setItem(\"token\", response.headers.token);\r\n\t\t\t\tthis.setState({token: response.headers.token});\r\n\t\t\t\tthis.setState({data: newData});\r\n\t\t\t}\r\n\t\t}\r\n\t\tcatch(error) {\r\n\t\t\tthis.toggleProfAndCredLoader();\r\n\t\t\treturn;\r\n\t\t}\r\n\t}\r\n\t\r\n\tgetTempCredentials = (reqBody, email) => {\r\n\t\tvar that = this;\r\n\t\taxios.post(\"/getTempPassword\", reqBody)\r\n\t\t\t.catch(function(error) {\r\n\t\t\t\tif(error.response.status === 401) {\r\n\t\t\t\t\talert(\"The email you gave is not linked to any user\");\t\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\talert(\"Internal error -- could not get temporary credentials\");\r\n\t\t\t})\r\n\t\t\t.then(res => this.handleTempResponse(res, email));\r\n\t}\r\n\t\r\n\thandleTempResponse = (response, email) => {\r\n\t\ttry {\r\n\t\t\tvar status = Number(response.status);\r\n\t\t\tif(status === 200) {\r\n\t\t\t\tthis.toggleProfAndCredLoader();\r\n\t\t\t\tthis.setState({tempSuccess: true, recoveryEmail: email});\r\n\t\t\t}\r\n\t\t}\r\n\t\tcatch(error) {\r\n\t\t\tthis.toggleProfAndCredLoader();\r\n\t\t\treturn;\r\n\t\t}\r\n\t}\r\n\t\r\n\tvalidateTempCredentials = (reqBody) => {\r\n\t\tvar that = this;\r\n\t\taxios.post(\"/postTempPassword\", reqBody)\r\n\t\t\t.catch(function(error) {\r\n\t\t\t\tif(error.response.status === 401) {\r\n\t\t\t\t\talert(\"The username or temporary password you entered is invalid or expired\");\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\talert(\"Internal error -- could not process temporary credentials\");\r\n\t\t\t})\r\n\t\t\t.then(res => this.handleValidateTempResponse(res, reqBody.username));\r\n\t}\r\n\t\r\n\thandleValidateTempResponse = (response, username) => {\r\n\t\ttry {\r\n\t\t\tvar status = Number(response.status);\r\n\t\t\tif(status === 200) {\r\n\t\t\t\tthis.toggleProfAndCredLoader();\r\n\t\t\t\tthis.setState({recoveryDisabled: true, token: response.headers.token, username: username});\r\n\t\t\t}\r\n\t\t}\r\n\t\tcatch(error) {\r\n\t\t\tthis.toggleProfAndCredLoader();\r\n\t\t\treturn;\r\n\t\t}\r\n\t}\r\n\t\r\n\trecoverPassword = (username, token, reqBody) => {\r\n\t\tvar that = this;\r\n\t\taxios.post(`/postRecoveryPassword/${username}`, reqBody, {headers: {\"token\": token}})\r\n\t\t\t.catch(function(error) {\r\n\t\t\t\tif(error.response.status === 401) {\r\n\t\t\t\t\talert(\"Sorry -- You are unauthorized to perform this action\");\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\talert(\"Internal error -- could not change your password\");\r\n\t\t\t})\r\n\t\t\t.then(res => this.handleRecoveryResponse(res));\r\n\t}\r\n\t\r\n\thandleRecoveryResponse = (response) => {\r\n\t\ttry {\r\n\t\t\tvar status = Number(response.status);\r\n\t\t\tif(status === 200) {\r\n\t\t\t\talert(\"Password changed successfully. Redirecting to login page\");\r\n\t\t\t\tthis.toggleProfAndCredLoader();\r\n\t\t\t\tthis.setState({onLogin: true});\r\n\t\t\t\twindow.location.pathname = \"/\";\r\n\t\t\t}\r\n\t\t}\r\n\t\tcatch(error) {\r\n\t\t\tthis.toggleProfAndCredLoader();\r\n\t\t\treturn;\r\n\t\t}\r\n\t}\r\n\t\r\n\t\r\n\t\r\n\t//method passed in as props to Login.js\r\n\t//grants access to apis by setting App.js state and redirecting to TrainingDiary.js\r\n\t//only occurs if login was successful\r\n\tgrantAccess = (username, token) => {\r\n\t\tvar that = this;\r\n\t\taxios.get(`/getAllData/${username}`, {headers: {\"token\": token}})\r\n\t\t\t.catch(function(error) {\r\n\t\t\t\tif(error.response.status === 500) {\r\n\t\t\t\t\talert(\"Internal Error -- could not get data -- redirecting to login page\");\r\n\t\t\t\t\tthat.logout();\r\n\t\t\t\t}\r\n\t\t\t\telse if(error.response.status === 401) {\r\n\t\t\t\t\talert(\"Session expired, logging you out\");\r\n\t\t\t\t\tthat.logout();\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then(res => this.handleGetResponse(res, username));\r\n\t}\r\n\t\r\n\t//method passed in as props to Register.js\r\n\t//redirects to Login.js by setting App.js state \r\n\ttoLogin = () => {\r\n\t\tthis.setState({onLogin:true});\r\n\t}\r\n\t\r\n\t//method passed in as props to TrainingDiary.js\r\n\t//logs the user out, clears localStorage, and resets to original state\r\n\tlogout = async () => {\r\n\t\tawait localStorage.clear();\r\n\t\twindow.location.pathname = \"/\";\r\n\t}\r\n\t\r\n\ttoggleAuthLoader = () => {\r\n\t\tthis.setState({authLoading: !this.state.authLoading, disabled: !this.state.disabled});\r\n\t}\r\n\t\r\n\trender() {\r\n\t\tif(this.state.waitingForPage) {\r\n\t\t\treturn (\r\n\t\t\t\t<div style = {{textAlign: \"center\", marginTop: \"5%\"}}>\r\n\t\t\t\t\t<Loader type=\"TailSpin\" \r\n\t\t\t\t\t\tcolor=\"#00BFFF\" \r\n\t\t\t\t\t\theight={80} \r\n\t\t\t\t\t\twidth={80} \r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\t\t}\r\n\t\telse if(this.state.isLoggedIn) {\r\n\t\t\treturn (\r\n\t\t\t\t<Router>\r\n\t\t\t\t\t<Switch>\r\n\t\t\t\t\t\t<Route exact path = \"/\">\r\n\t\t\t\t\t\t\t<TrainingDiary \r\n\t\t\t\t\t\t\t\tdata = {this.state.data}\r\n\t\t\t\t\t\t\t\tlogout = {this.logout}\r\n\t\t\t\t\t\t\t\tsaveData = {this.saveData}\r\n\t\t\t\t\t\t\t\taddModalShow = {this.state.addModalShow}\r\n\t\t\t\t\t\t\t\teditModalShow = {this.state.editModalShow}\r\n\t\t\t\t\t\t\t\tisSaving = {this.state.isSaving}\r\n\t\t\t\t\t\t\t\ttoggleAddModal = {this.toggleAddModal}\r\n\t\t\t\t\t\t\t\ttoggleEditModal = {this.toggleEditModal}\r\n\t\t\t\t\t\t\t\ttoggleSaveBar = {this.toggleSaveBar}\r\n\t\t\t\t\t\t\t\tdataToEdit = {this.state.dataToEdit}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Route>\r\n\t\t\t\t\t\t<Route exact path = \"/profile\">\r\n\t\t\t\t\t\t\t<Profile \r\n\t\t\t\t\t\t\t\tdata = {this.state.data} \r\n\t\t\t\t\t\t\t\ttoken = {this.state.token} \r\n\t\t\t\t\t\t\t\tchangeUsernameAndEmail = {this.changeUsernameAndEmail}\r\n\t\t\t\t\t\t\t\tchangePassword = {this.changePassword}\r\n\t\t\t\t\t\t\t\tsaving = {this.state.profileAndCredSaving}\r\n\t\t\t\t\t\t\t\ttoggleSaving = {this.toggleProfAndCredLoader}\r\n\t\t\t\t\t\t\t\tsaveData = {this.saveData}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Route>\r\n\t\t\t\t\t\t<Route>\r\n\t\t\t\t\t\t\t<div style = {{textAlign: \"center\"}}>\r\n\t\t\t\t\t\t\t\t<h1> This page does not exist :( </h1>\r\n\t\t\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t\t\t<Button href = \"/\"> Back to main page 💪 </Button> \r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</Route>\r\n\t\t\t\t\t</Switch>\r\n\t\t\t\t</Router>\r\n\t\t\t);\r\n\t\t}\r\n\t\telse if(this.state.onLogin) {\r\n\t\t\treturn (\r\n\t\t\t\t<Router>\r\n\t\t\t\t\t<Switch>\r\n\t\t\t\t\t\t<Route exact path = \"/\">\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<Login \r\n\t\t\t\t\t\t\t\t\tgrantAccess = {this.grantAccess} \r\n\t\t\t\t\t\t\t\t\tauthLoading = {this.state.authLoading}\r\n\t\t\t\t\t\t\t\t\tdisabled = {this.state.disabled}\r\n\t\t\t\t\t\t\t\t\ttoggleAuthLoader = {this.toggleAuthLoader}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</Route>\r\n\t\t\t\t\t\t<Route exact path = \"/reset\">\r\n\t\t\t\t\t\t\t<ForgotCredentials \r\n\t\t\t\t\t\t\t\tgetTempCredentials = {this.getTempCredentials} \r\n\t\t\t\t\t\t\t\tvalidateTempCredentials = {this.validateTempCredentials} \r\n\t\t\t\t\t\t\t\ttempSuccess = {this.state.tempSuccess}\r\n\t\t\t\t\t\t\t\temail = {this.state.recoveryEmail}\r\n\t\t\t\t\t\t\t\trecoveryDisabled = {this.state.recoveryDisabled}\r\n\t\t\t\t\t\t\t\ttoken = {this.state.token}\r\n\t\t\t\t\t\t\t\tusername = {this.state.username}\r\n\t\t\t\t\t\t\t\trecoverPassword = {this.recoverPassword}\r\n\t\t\t\t\t\t\t\tsaving = {this.state.profileAndCredSaving}\r\n\t\t\t\t\t\t\t\ttoggleSaving = {this.toggleProfAndCredLoader}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Route>\r\n\t\t\t\t\t\t<Route>\r\n\t\t\t\t\t\t\t<div style = {{textAlign: \"center\"}}>\r\n\t\t\t\t\t\t\t\t<h1> This page does not exist :( </h1>\r\n\t\t\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t\t\t<Button href = \"/\"> Back to main page 💪 </Button> \r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</Route>\r\n\t\t\t\t\t</Switch>\r\n\t\t\t\t</Router>\r\n\t\t\t);\r\n\t\t}\r\n\t\treturn (\r\n\t\t<div> hi </div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default App;","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}