{"version":3,"sources":["login-components/Login.js","td-components/AddModal.js","td-components/EditModal.js","td-components/Calendar.js","td-components/Graph.js","td-components/DataList.js","td-components/Goals.js","td-components/TrainingDiary.js","pages/Profile.js","pages/ForgotCredentials.js","App.js","serviceWorker.js","index.js"],"names":["Login","state","validated","onLogin","loginUsername","loginPassword","registerUsername","registerPassword","email","birthday","handleLoginResponse","response","Number","status","props","grantAccess","headers","token","localStorage","setItem","error","toggleAuthLoader","login","toString","trim","length","axios","post","username","password","catch","alert","then","res","handleRegistrationResponse","register","handleSubmit","e","currentTarget","checkValidity","preventDefault","stopPropagation","setState","onChangeLogin","name","target","value","onSelectBirthday","date","toggleTab","tabToRender","datePicker","Form","Control","required","type","this","autoComplete","Jumbotron","Container","fluid","Row","Col","lg","Figure","Image","src","width","height","Tabs","defaultActiveKey","onSelect","bind","Tab","eventKey","title","noValidate","onSubmit","Label","placeholder","onChange","Button","disabled","authLoading","style","float","marginTop","color","to","sm","selected","minDate","subYears","Date","maxDate","subDays","showYearDropdown","scrollableYearDropdown","showMonthDropdown","dropdownMode","placeholderText","customInput","Component","AddModal","data","newData","entryType","showAlert","alertMessage","nameMenuShow","componentDidMount","componentDidUpdate","onSelectName","dataCopy","JSON","parse","stringify","Name","showNameList","nameSearch","onClickRootClose","msg","hideAlert","validateFields","Object","keys","key","isNaN","hasTypeBeenEntered","i","userData","entry","getTime","selectedDate","Category","Type","calculateNewAmount","dataIndex","calculationKey","calculationType","newValue","Math","floor","toFixed","push","saveNewData","a","nameExists","undefined","currentName","entryNames","newName","saveData","reloadCalendar","closeModal","toggleAddModal","resetModal","onChangeNewData","newDataCopy","metaData","entryTypes","x","displayOrder","entryKey","createForm","inputs","newDataKeys","ListGroup","horizontal","Item","FormControl","as","hidden","categories","map","category","uuid","field","nameList","nameData","InputGroup","Dropdown","show","Prepend","onToggle","Toggle","variant","eventkey","Menu","rootCloseEvent","formInputs","dateString","toDateString","Modal","addModalShow","centered","scrollable","size","onExited","onHide","backdrop","Header","className","Body","Footer","Alert","onClose","dismissible","visible","isSaving","onClick","EditModal","dataToEdit","hasLoaded","toggleEditModal","onChangeEdit","copy","saveEdit","editIndex","createEditFields","editFields","editModalShow","Calendar","selectedDateString","isDataOnDate","displayData","formatNewDate","isSelectedDateInDateList","formatDate","onClickEdit","index","dateList","createDateList","getFullYear","getMonth","getDate","require","formattedDate","selectDay","deleteEntry","window","confirm","splice","sortByDisplayName","orderedJson","calculateTotals","totalList","total","numOfEntries","numKey","results","result","charAt","toUpperCase","slice","goalAchieved","goals","goal","deletable","isAchieved","Fields","enteredCategories","entries","includes","totals","cards","catIndex","id","Card","Accordion","Collapse","popover","Popover","Title","Content","OverlayTrigger","trigger","placement","overlay","rootClose","border","today","markedCalendar","activeStartDate","view","find","innerWidth","toggleSaveBar","marginBottom","showNeighboringMonth","onClickDay","tileContent","marginLeft","md","Graph","testData","graphOption","startDate","endDate","graphData","lineColors","usedColors","colorIndex","graphFilters","rangeValue","onSelectOption","option","onSelectStartDate","onSelectEndDate","onChangeSlider","onSelectFilter","filterName","filtersCopy","indexOf","createOptionDropdown","createDateDropdown","dateOption","filterGraphData","filteredGraphData","numericFilters","filter","filteredEntry","finalFilteredGraphData","getGraphData","entryDate","graphEntry","toLocaleDateString","min","temp","createLines","dataKeys","dataKey","stroke","getLegendData","legendData","createStringFilters","filters","filterData","graphFilterConstants","Check","label","createNumFilters","rangeSliders","sliderLabels","Group","controlId","getMaxValue","max","lines","maxValue","startPicker","endPicker","dropdownOption","stringFilters","domain","strokeDasharray","DataList","listOption","listFilters","allChecked","reload","forceUpdate","margin","checked","Amount","getListData","listData","dateStrings","optionDropdown","Text","Goals","editing","adding","goalEditing","goalAdding","editingData","addingData","goalIndex","invalidFields","colors","openEditModal","closeEditModal","openAddModal","goalStructure","closeAddModal","onChangeAdd","deleteGoal","checkEditFields","checkAddFields","onClickSaveEdit","lastUpdated","onClickSaveAdd","fieldOrder","validateMacros","percentageTotal","constructPieData","fields","labels","datasets","backgroundColor","hoverBackgroundColor","closeButton","toolTip","Tooltip","delay","hide","nonDeletableGoalFields","pieData","toLocaleString","options","maintainAspectRatio","TrainingDiary","activeTab","toggleTabs","tab","Navbar","collapseOnSelect","expand","bg","Brand","href","aria-controls","Nav","logout","activeKey","Profile","oldPassword","newPassword","confirmNewPassword","saving","showModal","showEditModal","editModalData","addModalData","categoryMenuShow","entryTypeIndex","_id","onChangeAccountInfo","handleInfoSubmit","requestBody","toggleSaving","changeUsernameAndEmail","handlePasswordSubmit","changePassword","resetFields","editData","Notes","fieldName","dataType","onChangeEditModal","onChangeAddModal","showCategoryList","onSelectDropdown","onClickRootCloseCategory","categorySearch","addField","onChangeField","typeExists","defaultKeys","fieldNames","newField","count","validateEditFields","prev","onClickSave","deleteData","deleteCategory","newEntryTypes","newUserData","removeField","tdHeaderButton","Spinner","animation","numGoals","numEntries","entryIndex","ForgotCredentials","passwordValidated","tempPassword","confirmPassword","handleEmailSubmit","getTempCredentials","handleTempSubmit","validateTempCredentials","handleNewPasswordSubmit","recoverPassword","recoveryDisabled","textAlign","tempSuccess","App","waitingForPage","isLoggedIn","onRegistration","recoveryEmail","profileAndCredSaving","getItem","handleVerificationResponse","toggleProfAndCredLoader","handleGetResponse","that","clear","get","handlePostResponse","reqBody","prevUsername","handleChangeInfoResponse","handleChangePasswordResponse","handleTempResponse","handleValidateTempResponse","handleRecoveryResponse","location","pathname","toLogin","exact","path","Boolean","hostname","match","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister","console","message"],"mappings":"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","file":"static/js/main.2232546c.chunk.js","sourcesContent":["import React, { Component } from 'react';\r\nimport axios from 'axios';\r\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\r\nimport Loader from 'react-loader-spinner';\r\nimport Container from 'react-bootstrap/Container';\r\nimport Row from 'react-bootstrap/Row';\r\nimport Col from 'react-bootstrap/Col';\r\nimport Button from 'react-bootstrap/Button';\r\nimport ButtonGroup from 'react-bootstrap/ButtonGroup';\r\nimport Tabs from 'react-bootstrap/Tabs';\r\nimport Tab from 'react-bootstrap/Tab';\r\nimport Jumbotron from 'react-bootstrap/Jumbotron';\r\nimport Form from 'react-bootstrap/Form';\r\nimport Figure from 'react-bootstrap/Figure';\r\nimport DatePicker from \"react-datepicker\";\r\nimport subDays from \"date-fns/subDays\";\r\nimport subYears from \"date-fns/subYears\";\r\nimport \"react-datepicker/dist/react-datepicker.css\";\r\nimport { BrowserRouter as Router, Link } from 'react-router-dom';\r\n\r\nclass Login extends Component {\r\n\t\r\n\tstate = {\r\n\t\tvalidated: false,\r\n\t\t\r\n\t\tonLogin: true,\r\n\t\t\r\n\t\tloginUsername: \"\",\r\n\t\tloginPassword: \"\",\r\n\t\r\n\t\tregisterUsername: \"\",\r\n\t\tregisterPassword: \"\",\r\n\t\temail: \"\",\r\n\t\tbirthday: null,\r\n\t}\r\n\t\r\n\thandleLoginResponse = (response) => {\r\n\t\ttry {\r\n\t\t\tvar status = Number(response.status);\r\n\t\t\tif(status === 200) {\r\n\t\t\t\tthis.props.grantAccess(this.state.loginUsername, response.headers.token);\r\n\t\t\t\t//saves token and username to browser's local storage \r\n\t\t\t\tlocalStorage.setItem(\"token\", response.headers.token);\r\n\t\t\t\tlocalStorage.setItem(\"username\", this.state.loginUsername);\r\n\t\t\t}\r\n\t\t}\r\n\t\tcatch(error) {\r\n\t\t\tthis.props.toggleAuthLoader();\r\n\t\t}\r\n\t}\r\n\t\r\n\t//login onClick event handler\r\n\tlogin = () => {\r\n\t\t//checks to make sure username and password fields have values \r\n\t\tif(this.state.loginUsername.toString().trim().length === 0 || this.state.loginPassword.toString().length === 0) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\telse {\r\n\t\t\tthis.props.toggleAuthLoader();\r\n\t\t\taxios.post(\"/login\", {username: this.state.loginUsername.toString().trim(), password: this.state.loginPassword})\r\n\t\t\t\t.catch(function(error) {\r\n\t\t\t\t\tif(error.response.status === 401) {\r\n\t\t\t\t\t\talert(\"Invalid credentials\");\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t.then(res => this.handleLoginResponse(res))\r\n\r\n\t\t}\r\n\t}\r\n\r\n\thandleRegistrationResponse = (response) => {\r\n\t\ttry {\r\n\t\t\tvar status = Number(response.status);\r\n\t\t\tif(status === 200) {\r\n\t\t\t\tthis.props.grantAccess(this.state.registerUsername, response.headers.token);\r\n\t\t\t\tlocalStorage.setItem(\"token\", response.headers.token);\r\n\t\t\t\tlocalStorage.setItem(\"username\", this.state.loginUsername);\r\n\t\t\t}\r\n\t\t}\r\n\t\tcatch(error) {\r\n\t\t\tthis.props.toggleAuthLoader();\r\n\t\t}\r\n\t}\r\n\t\r\n\t//registration onClick event handler\r\n\tregister = () => {\r\n\t\t//checks to make sure username and password fields have values \r\n\t\tif(this.state.registerUsername.toString().trim().length === 0 || this.state.registerPassword.toString().trim().length == 0 || this.state.email.toString().trim().length === 0 || this.state.birthday === null) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\telse {\r\n\t\t\tthis.props.toggleAuthLoader();\r\n\t\t\taxios.post(\"/register\", {username: this.state.registerUsername.toString().trim(), password: this.state.registerPassword, email: this.state.email.toString().trim(), birthday: this.state.birthday})\r\n\t\t\t\t.catch(function(error) {\r\n\t\t\t\t\tif(error.response.status === 409) {\r\n\t\t\t\t\t\talert(\"Username or email already exists\");\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t.then(res => this.handleRegistrationResponse(res))\r\n\t\t}\r\n\t}\r\n\t\r\n\thandleSubmit = (e) => {\r\n\t\tconst form = e.currentTarget;\r\n\t\tif(form.checkValidity() === false) {\r\n\t\t\te.preventDefault();\r\n\t\t\te.stopPropagation();\r\n\t\t}\r\n\t\tthis.setState({validated: true});\r\n\t\te.preventDefault();\r\n\t\tif(this.state.onLogin) {\r\n\t\t\tthis.login();\r\n\t\t}\r\n\t\telse {\r\n\t\t\tthis.register();\r\n\t\t}\r\n\t}\r\n\t\r\n\tonChangeLogin = (e) => {\r\n\t\tvar name = [e.target.name][0];\r\n\t\tvar value = e.target.value;\r\n\t\tthis.setState({[name]: value});\r\n\t}\r\n\t\r\n\tonSelectBirthday = (date) => {\r\n\t\tthis.setState({birthday: date});\r\n\t}\r\n\t\r\n\ttoggleTab = (tabToRender) => {\r\n\t\tif(tabToRender === \"login\" && this.state.onLogin) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif(tabToRender === \"register\" && !this.state.onLogin) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tthis.setState({onLogin: !this.state.onLogin, validated: false, loginUsername: \"\", loginPassword: \"\", registerUsername: \"\", registerPassword: \"\", email: \"\", birthday: null});\r\n\t}\r\n\t\r\n\trender() {\r\n\t\tconst datePicker = <Form.Control\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\ttype = \"input\"\r\n\t\t\t\t\t\t\tvalue = {this.state.birthday}\r\n\t\t\t\t\t\t\tautoComplete = \"off\"\r\n\t\t\t\t\t\t\t/>\r\n\t\treturn (\r\n\t\t\t<Jumbotron>\r\n\t\t\t\t<Container fluid>\r\n\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t<Col lg = {6}>\r\n\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t<h1> Training Diary </h1>\r\n\t\t\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t\t\tA simple application to track and analyze your workout data.\r\n\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t<Figure>\r\n\t\t\t\t\t\t\t\t\t\t<Figure.Image\r\n\t\t\t\t\t\t\t\t\t\t\tsrc = \"https://cdn.emojidex.com/emoji/seal/weight_lifter.png\"\r\n\t\t\t\t\t\t\t\t\t\t\twidth = {200}\r\n\t\t\t\t\t\t\t\t\t\t\theight = {300}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</Figure>\r\n\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t<Figure>\r\n\t\t\t\t\t\t\t\t\t\t<Figure.Image\r\n\t\t\t\t\t\t\t\t\t\t src = \"https://cdn.emojidex.com/emoji/seal/chart_with_upwards_trend.png\"\r\n\t\t\t\t\t\t\t\t\t\t width = {200}\r\n\t\t\t\t\t\t\t\t\t\t height = {300}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</Figure>\r\n\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t<Col lg = {6}>\r\n\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t<Tabs defaultActiveKey = \"login\" onSelect = {this.toggleTab.bind(this)}>\r\n\t\t\t\t\t\t\t\t\t\t<Tab eventKey = \"login\" title = \"Login\">\r\n\t\t\t\t\t\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t\t\t\t\t\t{this.state.onLogin \r\n\t\t\t\t\t\t\t\t\t\t\t?\r\n\t\t\t\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Form noValidate validated = {this.state.validated} onSubmit = {this.handleSubmit}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Label> Username </Form.Label>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype = \"input\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholder = \"Username\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname = \"loginUsername\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue = {this.state.loginUsername}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange = {(e) => {this.onChangeLogin(e)}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tautoComplete = \"off\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Label> Password </Form.Label>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype = \"password\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholder = \"Password\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname = \"loginPassword\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue = {this.state.loginPassword}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange = {(e) => {this.onChangeLogin(e)}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button type = \"submit\" disabled = {this.props.disabled}> Login </Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{this.props.authLoading\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t?\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div style = {{float: \"left\", marginTop: \"5%\"}}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Loader type=\"TailSpin\" \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor=\"#00BFFF\" \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\theight={80} \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\twidth={80} \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t:\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div> </div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Link to = \"/reset\"> Forgot Password? </Link>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Form> \r\n\t\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t\t\t\t:\r\n\t\t\t\t\t\t\t\t\t\t\t<div> </div>\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t</Tab>\r\n\t\t\t\t\t\t\t\t\t\t<Tab eventKey = \"register\" title = \"Register\">\r\n\t\t\t\t\t\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t\t\t\t\t\t{!this.state.onLogin\r\n\t\t\t\t\t\t\t\t\t\t\t?\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Form noValidate validated = {this.state.validated} onSubmit = {this.handleSubmit}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Col sm = {6}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Label> Username </Form.Label>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype = \"input\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholder = \"Username\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname = \"registerUsername\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue = {this.state.registerUsername}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange = {(e) => {this.onChangeLogin(e)}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tautoComplete = \"off\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Col sm = {6}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Label> Password </Form.Label>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype = \"password\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholder = \"Password\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname = \"registerPassword\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue = {this.state.registerPassword}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange = {(e) => {this.onChangeLogin(e)}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Col sm = {6}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Label> Email </Form.Label>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype = \"input\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholder = \"Email\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname = \"email\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue = {this.state.email}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange = {(e) => {this.onChangeLogin(e)}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tautoComplete = \"off\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Col sm = {6}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Label> Birthday </Form.Label>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<DatePicker \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tselected = {this.state.birthday}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange = {this.onSelectBirthday}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tminDate = {subYears(new Date(), 120)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmaxDate = {subDays(new Date(), 0)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tshowYearDropdown\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tscrollableYearDropdown\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tshowMonthDropdown\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdropdownMode=\"select\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholderText = \"Birthday\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcustomInput = {datePicker}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button type = \"submit\" disabled = {this.props.disabled}> Register </Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{this.props.authLoading\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t?\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div style = {{float: \"left\", marginTop: \"5%\"}}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Loader type=\"TailSpin\" \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor=\"#00BFFF\" \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\theight={80} \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\twidth={80} \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t:\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div> </div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Form> \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t\t\t\t:\r\n\t\t\t\t\t\t\t\t\t\t\t<div> </div>\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t</Tab>\r\n\t\t\t\t\t\t\t\t\t</Tabs>\r\n\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t</Row>\r\n\t\t\t\t</Container>\r\n\t\t\t</Jumbotron>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default Login;","import React, { Component } from 'react';\r\nimport Modal from \"react-bootstrap/Modal\";\r\nimport \"bootstrap/dist/css/bootstrap.min.css\";\r\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\r\nimport Loader from 'react-loader-spinner';\r\nimport Row from 'react-bootstrap/Row';\r\nimport Col from 'react-bootstrap/Col';\r\nimport Button from 'react-bootstrap/Button';\r\nimport '../td-css/AddModal.css';\r\nimport Form from 'react-bootstrap/Form';\r\nimport FormControl from 'react-bootstrap/FormControl';\r\nimport InputGroup from 'react-bootstrap/InputGroup';\r\nimport uuid from 'react-uuid';\r\nimport Alert from 'react-bootstrap/Alert';\r\nimport Dropdown from 'react-bootstrap/Dropdown';\r\nimport ListGroup from 'react-bootstrap/ListGroup';\r\n//PROPS\r\n\t//data\r\n\t//saveData()\r\n\t//updateShow()\r\n\t//toDateString()\r\n\t//selectedDate\r\n\t//addModalShow\r\n\t//isSaving\r\n\t//toggleSaveBar()\r\n\t//toggleAddModal()\r\n\t//createDateList()\r\n\t//reloadCalendar()\r\nclass AddModal extends Component {\r\n\t\r\n\tstate = {\r\n\t\tdata: null,\r\n\t\tnewData: {},\r\n\t\tentryType: null,\r\n\t\tshowAlert: false,\r\n\t\talertMessage: \"\",\r\n\t\tnameMenuShow: false\r\n\t}\r\n\t\r\n\t/* COMPONENT MOUNTING AND UPDATING METHODS */ \r\n\t\r\n\tcomponentDidMount = () => {\r\n\t\tthis.setState({data: this.props.data});\r\n\t}\r\n\t\r\n\tcomponentDidUpdate = () => {\r\n\t\tif(this.state.data !== this.props.data) {\r\n\t\t\tthis.setState({data: this.props.data});\r\n\t\t}\r\n\t}\r\n\t\r\n\tonSelectName = (value) => {\r\n\t\tvar dataCopy = JSON.parse(JSON.stringify(this.state.newData));\r\n\t\tdataCopy.Name = value;\r\n\t\tthis.setState({newData: dataCopy});\r\n\t}\r\n\t\r\n\tshowNameList = (nameSearch) => {\r\n\t\tif(nameSearch.length === 0) {\r\n\t\t\tthis.setState({nameMenuShow: false});\r\n\t\t}\r\n\t\telse {\r\n\t\t\tthis.setState({nameMenuShow: true});\r\n\t\t}\r\n\t}\t\r\n\r\n\tonClickRootClose = () => {\r\n\t\tif(this.state.nameMenuShow) {\r\n\t\t\tthis.setState({nameMenuShow: false});\r\n\t\t}\r\n\t\telse {\r\n\t\t\tthis.setState({nameMenuShow: true});\r\n\t\t}\r\n\t}\r\n\t\r\n\tshowAlert = (msg) => {\r\n\t\tthis.setState({showAlert: true, alertMessage: msg});\r\n\t}\r\n\t\r\n\thideAlert = () => {\r\n\t\tthis.setState({showAlert: false, alertMessage: \"\"});\r\n\t}\r\n\t\r\n\t/* SAVING METHODS */ \r\n\t\r\n\tvalidateFields = () => {\r\n\t\tif(this.state.entryType === null || Object.keys(this.state.newData).length === 0) {\r\n\t\t\tthis.showAlert(\"Cannot save data, you're missing some required fields!\");\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\tfor(var key in this.state.newData) {\r\n\t\t\tif(key === \"Notes\" || key === \"displayOrder\") {\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\t\t\telse if(this.state.newData[key].toString().trim().length === 0) {\r\n\t\t\t\tthis.showAlert(\"Cannot save data, you're missing some required fields!\");\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\telse if(this.state.entryType[key] === \"number\" && isNaN(Number(this.state.newData[key]))) {\r\n\t\t\t\tthis.showAlert(\"'\" + key + \"'\" + \" must be a number!\"); \r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\telse if(this.state.entryType[key] === \"string\" && !isNaN(Number(this.state.newData[key]))) {\r\n\t\t\t\tthis.showAlert(\"'\" + key + \"'\" + \" cannot be a number!\"); \r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tthis.state.newData[key] = this.state.newData[key].toString().trim();\r\n\t\t\t}\r\n\t\t}\r\n\t\tthis.hideAlert();\r\n\t\treturn true;\r\n\t}\r\n\t\r\n\thasTypeBeenEntered = () => {\r\n\t\tfor(var i = 0; i < this.state.data.userData.length; i++) {\r\n\t\t\tconst entry = this.state.data.userData[i];\r\n\t\t\tif(new Date(entry.Date).getTime() === this.props.selectedDate.getTime() && entry.Category === this.state.newData.Category && entry.Type === this.state.newData.Type) {\r\n\t\t\t\treturn i; //return index of entry\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn -1;\r\n\t}\r\n\t\r\n\tcalculateNewAmount = (dataIndex) => {\r\n\t\tif(dataIndex === -1) {\r\n\t\t\tthis.state.data.userData.push(this.state.newData);\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tvar calculationKey = null;\r\n\t\tfor(var key in this.state.entryType) {\r\n\t\t\tif(this.state.entryType[key] === \"number\") {\r\n\t\t\t\tcalculationKey = key;\r\n\t\t\t}\r\n\t\t}\r\n\t\tif(calculationKey === null) {\r\n\t\t\talert(\"Error: Could not calculate new amount -- null\");\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif(this.state.entryType.calculationType === \"add\") {\r\n\t\t\tvar newValue = (Number(this.state.data.userData[dataIndex][calculationKey]) + Number(this.state.newData[calculationKey]));\r\n\t\t\tif(Math.floor(newValue) !== newValue) {\r\n\t\t\t\tnewValue = newValue.toFixed(2);\r\n\t\t\t}\r\n\t\t\tthis.state.data.userData[dataIndex][calculationKey] = newValue.toString();\r\n\t\t}\r\n\t\telse if(this.state.entryType.calculationType === \"subtract\") {\r\n\t\t\tvar newValue = (Number(this.state.data.userData[dataIndex][calculationKey]) - Number(this.state.newData[calculationKey]));\r\n\t\t\tif(Math.floor(newValue) !== newValue) {\r\n\t\t\t\tnewValue = newValue.toFixed(2);\r\n\t\t\t}\r\n\t\t\tthis.state.data.userData[dataIndex][calculationKey] = newValue.toString();\r\n\t\t}\r\n\t\telse if(this.state.entryType.calculationType === \"multiply\") {\r\n\t\t\tvar newValue = (Number(this.state.data.userData[dataIndex][calculationKey]) * Number(this.state.newData[calculationKey]));\r\n\t\t\tif(Math.floor(newValue) !== newValue) {\r\n\t\t\t\tnewValue = newValue.toFixed(2);\r\n\t\t\t}\r\n\t\t\tthis.state.data.userData[dataIndex][calculationKey] = newValue.toString();\r\n\t\t}\r\n\t\telse if(this.state.entryType.calculationType === \"divide\") {\r\n\t\t\tvar newValue = (Number(this.state.data.userData[dataIndex][calculationKey]) / Number(this.state.newData[calculationKey]));\r\n\t\t\tif(Math.floor(newValue) !== newValue) {\r\n\t\t\t\tnewValue = newValue.toFixed(2);\r\n\t\t\t}\r\n\t\t\tthis.state.data.userData[dataIndex][calculationKey] = newValue.toString();\r\n\t\t}\r\n\t\telse if(this.state.entryType.calculationType === \"average\") {\r\n\t\t\tvar newValue = (Number(this.state.data.userData[dataIndex][calculationKey]) + Number(this.state.newData[calculationKey]));\r\n\t\t\tnewValue = newValue / 2;\r\n\t\t\tif(Math.floor(newValue) !== newValue) {\r\n\t\t\t\tnewValue = newValue.toFixed(2);\r\n\t\t\t}\r\n\t\t\tthis.state.data.userData[dataIndex][calculationKey] = newValue.toString();\r\n\t\t}\r\n\t\telse if(this.state.entryType.calculationType === \"none\") {\r\n\t\t\tthis.state.data.userData.push(this.state.newData);\r\n\t\t}\r\n\t}\r\n\t\r\n\t//calls post api to save data to database\r\n\tsaveNewData = async () => {\r\n\t\tif(!this.validateFields()) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\t//this.props.toggleSaveBar();\r\n\t\tvar nameExists = false;\r\n\t\tif(this.state.newData.Name !== undefined && this.state.newData.Name !== null) {\r\n\t\t\tvar currentName = this.state.newData.Name;\r\n\t\t\tfor(var i = 0; i < this.state.data.entryNames.length; i++) {\r\n\t\t\t\tif(currentName === this.state.data.entryNames[i].Name) {\r\n\t\t\t\t\tnameExists = true;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif(!nameExists) {\r\n\t\t\t\tvar newName = {};\r\n\t\t\t\tnewName.Name = currentName;\r\n\t\t\t\tnewName.Category = this.state.newData.Category;\r\n\t\t\t\tnewName.Type = this.state.newData.Type;\r\n\t\t\t\tthis.state.data.entryNames.push(newName);\r\n\t\t\t}\r\n\t\t}\r\n\t\tthis.state.data.userData.push(this.state.newData);\r\n\t\tawait this.props.saveData(this.state.data, \"save\", \"AddModal\"); //need to make this saveData() function more dynamic \r\n\t\tthis.props.reloadCalendar(); //reloads calendar component so changes are seen immediately without waiting for response from server\r\n\t\tthis.closeModal();\r\n\t}\r\n\t\r\n\t/* MODAL RENDERING METHODS */\r\n\t\r\n\tcloseModal = () => {\r\n\t\tthis.props.toggleAddModal();\r\n\t\tthis.setState({newData: {}, showAlert: false, alertMessage: \"\"});\r\n\t}\r\n\t\r\n\tresetModal = () => {\r\n\t\tthis.setState({newData: {}});\r\n\t}\r\n\t\r\n\t//onChange event handler for when user enters something in new data field \r\n\tonChangeNewData = (e) => {\r\n\t\tvar newDataCopy;\r\n\t\tvar entry = null;\r\n\t\tconst key = [e.target.name][0];\r\n\t\tconst value = e.target.value;\r\n\t\tnewDataCopy = this.state.newData;\r\n\t\tif(newDataCopy === null || newDataCopy === undefined) {\r\n\t\t\tnewDataCopy = {};\r\n\t\t}\r\n\t\tif(key === \"Category\") {\r\n\t\t\tnewDataCopy = {[key]: value, \"Type\": \"\"};\r\n\t\t}\r\n\t\telse if(key === \"Type\") {\r\n\t\t\tnewDataCopy = {\"Category\": this.state.newData.Category, [key]: value};\r\n\t\t\tfor(var i = 0; i < this.props.data.metaData.entryTypes.length; i++) {\r\n\t\t\t\tconst entryType = this.props.data.metaData.entryTypes[i];\r\n\t\t\t\tif(entryType.Category === this.state.newData.Category && entryType.Type === value) {\r\n\t\t\t\t\tfor(var x = 0; x < entryType.displayOrder.length; x++) {\r\n\t\t\t\t\t\tconst entryKey = entryType.displayOrder[x];\r\n\t\t\t\t\t\tif(entryKey !== \"Category\" && entryKey !== \"Type\") {\r\n\t\t\t\t\t\t\tnewDataCopy[entryKey] = \"\";\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tnewDataCopy.displayOrder = entryType.displayOrder;\r\n\t\t\t\t\tnewDataCopy.Date = this.props.selectedDate.toString();\r\n\t\t\t\t\tnewDataCopy.calculationType = entryType.calculationType;\r\n\t\t\t\t\tentry = entryType;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\telse if(key === \"Name\") {\r\n\t\t\tthis.showNameList(value);\r\n\t\t\tnewDataCopy[key] = value;\r\n\t\t\tentry = this.state.entryType;\r\n\t\t}\r\n\t\telse {\r\n\t\t\tnewDataCopy[key] = value;\r\n\t\t\tentry = this.state.entryType;\r\n\t\t}\r\n\t\tthis.setState({newData: newDataCopy, entryType: entry});\r\n\t}\r\n\r\n\t//creates input fields from metaData \r\n\tcreateForm = () => {\r\n\t\tif(this.props.data === null) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\tvar inputs;\r\n\t\tconst newDataKeys = Object.keys(this.state.newData);\r\n\t\t//const newDataKeys = this.state.newData.displayOrder;\r\n\t\tif(newDataKeys.length === 0) {\r\n\t\t\tinputs = <ListGroup horizontal>\r\n\t\t\t\t\t\t<ListGroup.Item style = {{width: \"50%\"}}>\r\n\t\t\t\t\t\t\tCategory\r\n\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t<ListGroup.Item style = {{width: \"50%\"}}>\r\n\t\t\t\t\t\t\t<FormControl as = \"select\" name = \"Category\" onChange = {(e) => {this.onChangeNewData(e)}}>\r\n\t\t\t\t\t\t\t\t<option  value = \"\" selected disabled hidden> Select </option>\r\n\t\t\t\t\t\t\t\t{this.props.data.metaData.categories.map((category) => {\r\n\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t<option key = {uuid()} value = {category}>\r\n\t\t\t\t\t\t\t\t\t\t\t{category}\r\n\t\t\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t</FormControl>\r\n\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t</ListGroup>\r\n\t\t\treturn inputs;\r\n\t\t}\r\n\t\tinputs = newDataKeys.map((field) => {\r\n\t\t\tif(field === \"Category\") {\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<ListGroup horizontal> \r\n\t\t\t\t\t\t<ListGroup.Item style = {{width: \"50%\"}}>\r\n\t\t\t\t\t\t\t{field}\r\n\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t<ListGroup.Item style = {{width: \"50%\"}}>\r\n\t\t\t\t\t\t\t<FormControl as = \"select\" value = {this.state.newData[field]} name = {field} onChange = {(e) => {this.onChangeNewData(e)}}>\r\n\t\t\t\t\t\t\t\t<option  value = \"\" selected disabled hidden> Select </option>\r\n\t\t\t\t\t\t\t\t{this.props.data.metaData.categories.map((category) => {\r\n\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t<option value = {category} key = {uuid()}>\r\n\t\t\t\t\t\t\t\t\t\t\t{category}\r\n\t\t\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t</FormControl>\r\n\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t</ListGroup>\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t\telse if(field === \"Type\") {\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<ListGroup horizontal>\r\n\t\t\t\t\t\t<ListGroup.Item style = {{width: \"50%\"}}>\r\n\t\t\t\t\t\t\t{field}\r\n\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t<ListGroup.Item style = {{width: \"50%\"}}>\r\n\t\t\t\t\t\t\t<FormControl as = \"select\" value = {this.state.newData[field]} name = {field} onChange = {(e) => {this.onChangeNewData(e)}}>\r\n\t\t\t\t\t\t\t\t<option  value = \"\" selected disabled hidden> Select </option>\r\n\t\t\t\t\t\t\t\t{this.props.data.metaData.entryTypes.map((entry) => {\r\n\t\t\t\t\t\t\t\t\tif(entry.Category === this.state.newData.Category) {\r\n\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t<option value = {entry.Type} key = {uuid()}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{entry.Type}\r\n\t\t\t\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t</FormControl>\r\n\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t</ListGroup>\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tif(field !== \"displayOrder\" && field !== \"Date\" && field !== \"calculationType\") {\r\n\t\t\t\t\tif(field === \"Name\") {\r\n\t\t\t\t\t\tvar nameList = [];\r\n\t\t\t\t\t\tfor(var i = 0; i < this.state.data.entryNames.length ; i++) {\r\n\t\t\t\t\t\t\tvar nameData = this.state.data.entryNames[i];\r\n\t\t\t\t\t\t\tif(this.state.newData.Category === nameData.Category && this.state.newData.Type === nameData.Type) {\r\n\t\t\t\t\t\t\t\tnameList.push(nameData.Name);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<ListGroup horizontal>\r\n\t\t\t\t\t\t\t\t<ListGroup.Item style = {{width: \"50%\"}}>\r\n\t\t\t\t\t\t\t\t\t{field}\r\n\t\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t\t<ListGroup.Item style = {{width: \"50%\"}}>\r\n\t\t\t\t\t\t\t\t\t<InputGroup>\r\n\t\t\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\t\t\tas = \"input\"\r\n\t\t\t\t\t\t\t\t\t\t\tautoComplete = \"off\"\r\n\t\t\t\t\t\t\t\t\t\t\tname = {field}\r\n\t\t\t\t\t\t\t\t\t\t\tvalue = {this.state.newData[field]}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange = {(e) => {this.onChangeNewData(e)}}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t<Dropdown show = {this.state.nameMenuShow} as = {InputGroup.Prepend} onToggle = {this.onClickRootClose.bind(this)}>\r\n\t\t\t\t\t\t\t\t\t\t\t<Dropdown.Toggle variant = \"outline-secondary\" eventkey = \"00\"> </Dropdown.Toggle>\r\n\t\t\t\t\t\t\t\t\t\t\t<Dropdown.Menu rootCloseEvent = \"click\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t{nameList.map((name) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Dropdown.Item onSelect = {this.onSelectName.bind(this, name)} >\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{name}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Dropdown.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t\t\t</Dropdown.Menu>\r\n\t\t\t\t\t\t\t\t\t\t</Dropdown> \r\n\t\t\t\t\t\t\t\t\t</InputGroup> \r\n\t\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t</ListGroup>\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<ListGroup horizontal>\r\n\t\t\t\t\t\t\t\t<ListGroup.Item style = {{width: \"50%\"}}>\r\n\t\t\t\t\t\t\t\t\t{field}\r\n\t\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t\t<ListGroup.Item style = {{width: \"50%\"}}>\r\n\t\t\t\t\t\t\t\t\t<FormControl as = \"input\" value = {this.state.newData[field]} name = {field} onChange = {(e) => {this.onChangeNewData(e)}} />\r\n\t\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t</ListGroup>\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t\treturn <div> {inputs} </div>\r\n\t}\r\n\t\r\n\trender () {\r\n\t\tconst formInputs = this.createForm()\r\n\t\tconst dateString = this.props.toDateString(this.props.selectedDate)\r\n\t\treturn (\r\n\t\t\t<Modal \r\n\t\t\t\tshow={this.props.addModalShow}\r\n\t\t\t\tcentered = {true}\r\n\t\t\t\tscrollable = {true}\r\n\t\t\t\tsize = \"lg\"\r\n\t\t\t\tonExited = {this.resetModal}\r\n\t\t\t\tonHide = {this.closeModal}\r\n\t\t\t\tbackdrop = \"static\"\r\n\t\t\t>\r\n\t\t\t  <Modal.Header>\r\n\t\t\t\t<h5 className = \"modal-header-tag\"> Add Training Data </h5>\r\n\t\t\t\t<h5 className = \"modal-header-tag\"> {dateString} </h5>\r\n\t\t\t\t{/*<Button variant = \"primary\"> Add </Button>*/}\r\n\t\t\t  </Modal.Header>\r\n\t\t\t  \r\n\t\t\t  <Modal.Body>\r\n\t\t\t\t{formInputs}\r\n\t\t\t  </Modal.Body>\r\n\t\t\t\t\r\n\t\t\t  \r\n\t\t\t\t{!this.state.showAlert\r\n\t\t\t\t?\r\n\t\t\t\t\t<Modal.Footer>\r\n\t\t\t\t\t\t<div className = \"loader-container\">\r\n\t\t\t\t\t\t\t<Loader type=\"ThreeDots\" \r\n\t\t\t\t\t\t\t\tcolor=\"#00BFFF\" \r\n\t\t\t\t\t\t\t\theight={80} \r\n\t\t\t\t\t\t\t\twidth={80} \r\n\t\t\t\t\t\t\t\tvisible = {this.props.isSaving}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<Button variant = \"primary\" disabled = {this.props.isSaving} onClick = {this.closeModal}> Close </Button>\r\n\t\t\t\t\t\t<Button variant = \"primary\" disabled = {this.props.isSaving} onClick = {this.saveNewData}> Save </Button>\r\n\t\t\t\t\t</Modal.Footer>\r\n\t\t\t\t\r\n\t\t\t\t:\r\n\t\t\t\t\t<Modal.Footer>\r\n\t\t\t\t\t\t<div className = \"alert-container\">\r\n\t\t\t\t\t\t\t<Alert className = \"error-alert\" variant = \"danger\" onClose = {this.hideAlert.bind(this)} dismissible>\r\n\t\t\t\t\t\t\t\t<p> {this.state.alertMessage} </p>\r\n\t\t\t\t\t\t\t</Alert>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className = \"loader-container\">\r\n\t\t\t\t\t\t\t<Loader type=\"ThreeDots\" \r\n\t\t\t\t\t\t\t\tcolor=\"#00BFFF\" \r\n\t\t\t\t\t\t\t\theight={80} \r\n\t\t\t\t\t\t\t\twidth={80} \r\n\t\t\t\t\t\t\t\tvisible = {this.props.isSaving}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<Button variant = \"primary\" disabled = {this.props.isSaving} onClick = {this.closeModal}> Close </Button>\r\n\t\t\t\t\t\t<Button variant = \"primary\" disabled = {this.props.isSaving} onClick = {this.saveNewData}> Save </Button>\r\n\t\t\t\t\t</Modal.Footer>\r\n\t\t\t\t}\r\n\t\t\t</Modal>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default AddModal;","import React, { Component } from 'react';\r\nimport Modal from \"react-bootstrap/Modal\";\r\nimport \"bootstrap/dist/css/bootstrap.min.css\";\r\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\r\nimport Loader from 'react-loader-spinner';\r\nimport Row from 'react-bootstrap/Row';\r\nimport Col from 'react-bootstrap/Col';\r\nimport Button from 'react-bootstrap/Button';\r\nimport Form from 'react-bootstrap/Form';\r\nimport FormControl from 'react-bootstrap/FormControl';\r\nimport InputGroup from 'react-bootstrap/InputGroup';\r\nimport '../td-css/EditModal.css';\r\nimport Alert from 'react-bootstrap/Alert';\r\nimport Dropdown from 'react-bootstrap/Dropdown';\r\nimport ListGroup from 'react-bootstrap/ListGroup';\r\nimport uuid from 'react-uuid';\r\n\r\n//PROPS\r\n\t//data\r\n\t//editModalShow\r\n\t//selectedDate\r\n\t//toDateString()\r\n\t//isSaving\r\n\t//dataToEdit\r\n\t//editIndex\r\n\t//toggleEditModal()\r\n\t//toggleSaveBar()\r\n\t//reloadCalendar()\r\n\t//saveData()\r\nclass EditModal extends Component {\r\n\t\r\n\tstate = {\r\n\t\tdataToEdit: null,\r\n\t\thasLoaded: false,\r\n\t\tentryType: null,\r\n\t\tshowAlert: false,\r\n\t\talertMessage: \"\",\r\n\t\tnameMenuShow: false\r\n\t}\r\n\r\n\tcomponentDidMount = () => {\r\n\t\tthis.setState({dataToEdit: this.props.dataToEdit});\r\n\t}\r\n\tcomponentDidUpdate = () => {\r\n\t\tif(this.state.dataToEdit === null && this.props.dataToEdit !== null) {\r\n\t\t\tthis.setState({dataToEdit: this.props.dataToEdit});\r\n\t\t\tfor(var i = 0; i < this.props.data.metaData.entryTypes.length; i++) {\r\n\t\t\t\tif(this.props.dataToEdit.Category === this.props.data.metaData.entryTypes[i].Category && this.props.dataToEdit.Type === this.props.data.metaData.entryTypes[i].Type) {\r\n\t\t\t\t\tthis.setState({entryType: this.props.data.metaData.entryTypes[i]});\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\tonSelectName = (value) => {\r\n\t\tvar dataCopy = JSON.parse(JSON.stringify(this.state.dataToEdit));\r\n\t\tdataCopy.Name = value;\r\n\t\tthis.setState({dataToEdit: dataCopy});\r\n\t}\r\n\t\r\n\tshowNameList = (nameSearch) => {\r\n\t\tif(nameSearch.length === 0) {\r\n\t\t\tthis.setState({nameMenuShow: false});\r\n\t\t}\r\n\t\telse {\r\n\t\t\tthis.setState({nameMenuShow: true});\r\n\t\t}\r\n\t}\t\r\n\t\r\n\tonClickRootClose = () => {\r\n\t\tif(this.state.nameMenuShow) {\r\n\t\t\tthis.setState({nameMenuShow: false});\r\n\t\t}\r\n\t\telse {\r\n\t\t\tthis.setState({nameMenuShow: true});\r\n\t\t}\r\n\t}\r\n\t\r\n\tshowAlert = (msg) => {\r\n\t\tthis.setState({showAlert: true, alertMessage: msg});\r\n\t}\r\n\t\r\n\thideAlert = () => {\r\n\t\tthis.setState({showAlert: false});\r\n\t}\r\n\t\r\n\tcloseModal = () => {\r\n\t\tthis.props.toggleEditModal(null);\r\n\t\tthis.setState({dataToEdit: null, hasLoaded: false});\r\n\t\tthis.setState({newData: {}, showAlert: false, alertMessage: \"\"});\r\n\t}\r\n\t\r\n\tresetModal = () => {\r\n\t\tthis.setState({dataToEdit: null, hasLoaded: false});\r\n\t\tthis.setState({newData: {}, showAlert: false, alertMessage: \"\"});\r\n\t}\r\n\t\r\n\tvalidateFields = () => {\r\n\t\tif(this.state.entryType === null) {\r\n\t\t\tthis.showAlert(\"Cannot save data, you're missing some required fields!\");\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\tfor(var key in this.state.dataToEdit) {\r\n\t\t\tif(key === \"Notes\" || key === \"displayOrder\") {\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\t\t\telse if(this.state.dataToEdit[key].toString().trim().length === 0) {\r\n\t\t\t\tthis.showAlert(\"Cannot save data, you're missing some required fields!\");\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\telse if(this.state.entryType[key] === \"number\" && isNaN(Number(this.state.dataToEdit[key]))) {\r\n\t\t\t\tthis.showAlert(\"'\" + key + \"'\" + \" must be a number!\"); \r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\telse if(this.state.entryType[key] === \"string\" && !isNaN(Number(this.state.dataToEdit[key]))) {\r\n\t\t\t\tthis.showAlert(\"'\" + key + \"'\" + \" cannot be a number!\"); \r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tthis.state.dataToEdit[key] = this.state.dataToEdit[key].toString().trim();\r\n\t\t\t}\r\n\t\t}\r\n\t\tthis.hideAlert();\r\n\t\treturn true;\r\n\t}\r\n\t\r\n\tonChangeEdit = (e) => {\r\n\t\tvar copy = JSON.parse(JSON.stringify(this.state.dataToEdit));\r\n\t\tconst key = [e.target.name][0];\r\n\t\tconst value = e.target.value;\r\n\t\tif(key === \"Name\") {\r\n\t\t\tthis.showNameList(value);\r\n\t\t\tcopy[key] = value;\r\n\t\t}\r\n\t\telse {\r\n\t\t\tcopy[key] = value;\r\n\t\t}\r\n\t\tthis.setState({dataToEdit: copy});\r\n\t}\r\n\t\r\n\tonSelectName = (value) => {\r\n\t\tvar dataCopy = JSON.parse(JSON.stringify(this.state.dataToEdit));\r\n\t\tdataCopy.Name = value;\r\n\t\tthis.setState({dataToEdit: dataCopy});\r\n\t}\r\n\t\r\n\tsaveEdit = async () => {\r\n\t\tvar data = JSON.parse(JSON.stringify(this.props.data));\r\n\t\tvar nameExists = false;\r\n\t\tif(this.validateFields()) {\r\n\t\t\tif(this.state.dataToEdit.Name !== undefined && this.state.dataToEdit.Name !== null) {\r\n\t\t\t\tfor(var i = 0; i < data.entryNames.length; i++) {\r\n\t\t\t\t\tif(this.state.dataToEdit.Name === data.entryNames[i].Name) {\r\n\t\t\t\t\t\tnameExists = true;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tif(!nameExists) {\r\n\t\t\t\t\tvar newName = {};\r\n\t\t\t\t\tnewName.Name = this.state.dataToEdit.Name\r\n\t\t\t\t\tnewName.Category = this.state.dataToEdit.Category;\r\n\t\t\t\t\tnewName.Type = this.state.dataToEdit.Type;\r\n\t\t\t\t\tdata.entryNames.push(newName);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tdata.userData[this.props.editIndex] = this.state.dataToEdit;\r\n\t\t\tawait this.props.saveData(data, \"save\", \"EditModal\");\r\n\t\t\tthis.props.reloadCalendar();\r\n\t\t\tthis.closeModal();\r\n\t\t}\r\n\t\telse {\r\n\t\t\treturn;\r\n\t\t}\r\n\t}\r\n\t\r\n\tcreateEditFields = () => {\r\n\t\tif(this.state.dataToEdit === null || this.state.dataToEdit == undefined) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\tconst editFields = this.state.dataToEdit.displayOrder.map((key) => {\r\n\t\t\tif(key === \"Category\" || key === \"Type\") {\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<ListGroup horizontal>\r\n\t\t\t\t\t\t<ListGroup.Item style = {{width: \"50%\"}}>\r\n\t\t\t\t\t\t\t{key}\r\n\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t<ListGroup.Item style = {{width: \"50%\"}}>\r\n\t\t\t\t\t\t\t\t<FormControl\r\n\t\t\t\t\t\t\t\t\tas = \"input\"\r\n\t\t\t\t\t\t\t\t\tname = {key}\r\n\t\t\t\t\t\t\t\t\tvalue = {this.state.dataToEdit[key]}\r\n\t\t\t\t\t\t\t\t\tdisabled = {true}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t</ListGroup>\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t\telse if(key === \"Name\") {\r\n\t\t\t\tvar nameList = [];\r\n\t\t\t\tfor(var i = 0; i < this.props.data.entryNames.length ; i++) {\r\n\t\t\t\t\tvar nameData = this.props.data.entryNames[i];\r\n\t\t\t\t\tif(this.state.dataToEdit.Category === nameData.Category && this.state.dataToEdit.Type === nameData.Type) {\r\n\t\t\t\t\t\tnameList.push(nameData.Name);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<ListGroup horizontal>\r\n\t\t\t\t\t\t<ListGroup.Item style = {{width: \"50%\"}}>\r\n\t\t\t\t\t\t\t{key}\r\n\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t<ListGroup.Item style = {{width: \"50%\"}}>\r\n\t\t\t\t\t\t\t<InputGroup>\r\n\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\tas = \"input\"\r\n\t\t\t\t\t\t\t\t\tautoComplete = \"off\"\r\n\t\t\t\t\t\t\t\t\tname = {key}\r\n\t\t\t\t\t\t\t\t\tvalue = {this.state.dataToEdit[key]}\r\n\t\t\t\t\t\t\t\t\tonChange = {(e) => {this.onChangeEdit(e)}}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<Dropdown show = {this.state.nameMenuShow} as = {InputGroup.Prepend} onToggle = {this.onClickRootClose.bind(this)}>\r\n\t\t\t\t\t\t\t\t\t<Dropdown.Toggle variant = \"outline-secondary\" eventkey = \"00\"> </Dropdown.Toggle>\r\n\t\t\t\t\t\t\t\t\t<Dropdown.Menu rootCloseEvent = \"click\">\r\n\t\t\t\t\t\t\t\t\t\t{nameList.map((name) => {\r\n\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Dropdown.Item key = {uuid()} onSelect = {this.onSelectName.bind(this, name)} >\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{name}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Dropdown.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t</Dropdown.Menu>\r\n\t\t\t\t\t\t\t\t</Dropdown> \r\n\t\t\t\t\t\t\t</InputGroup> \r\n\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t</ListGroup>\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<ListGroup horizontal>\r\n\t\t\t\t\t\t<ListGroup.Item style = {{width: \"50%\"}}>\r\n\t\t\t\t\t\t\t{key}\r\n\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t<ListGroup.Item style = {{width: \"50%\"}}>\r\n\t\t\t\t\t\t\t<FormControl\r\n\t\t\t\t\t\t\t\tas = \"input\"\r\n\t\t\t\t\t\t\t\tname = {key}\r\n\t\t\t\t\t\t\t\tvalue = {this.state.dataToEdit[key]}\r\n\t\t\t\t\t\t\t\tonChange = {(e) => {this.onChangeEdit(e)}}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t</ListGroup>\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t});\r\n\t\treturn <div> {editFields} </div>\r\n\t}\r\n\t\r\n\trender() {\r\n\t\tconst inputs = this.createEditFields();\r\n\t\tconst dateString = this.props.toDateString(this.props.selectedDate);\r\n\t\treturn (\r\n\t\t\t<Modal \r\n\t\t\t\tshow={this.props.editModalShow}\r\n\t\t\t\tcentered = {true}\r\n\t\t\t\tscrollable = {true}\r\n\t\t\t\tsize = \"lg\"\r\n\t\t\t\tonExited = {this.resetModal}\r\n\t\t\t\tonHide = {this.closeModal}\r\n\t\t\t\tbackdrop = \"static\"\r\n\t\t\t>\r\n\t\t\t  <Modal.Header>\r\n\t\t\t\t<h5 className = \"modal-header-tag\"> Edit Training Data </h5>\r\n\t\t\t\t<h5 className = \"modal-header-tag\"> {dateString} </h5>\r\n\t\t\t  </Modal.Header>\r\n\t\t\t  \r\n\t\t\t  <Modal.Body>\r\n\t\t\t\t{inputs}\r\n\t\t\t  </Modal.Body>\r\n\t\t\t  \r\n\t\t\t\t{!this.state.showAlert\r\n\t\t\t\t\r\n\t\t\t\t?\r\n\t\t\t\t\t<Modal.Footer>\r\n\t\t\t\t\t\t<div className = \"loader-container\">\r\n\t\t\t\t\t\t\t<Loader type=\"ThreeDots\" \r\n\t\t\t\t\t\t\t\tcolor=\"#00BFFF\" \r\n\t\t\t\t\t\t\t\theight={80} \r\n\t\t\t\t\t\t\t\twidth={80} \r\n\t\t\t\t\t\t\t\tvisible = {this.props.isSaving}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<Button variant = \"primary\" disabled = {this.props.isSaving} onClick = {this.closeModal}> Close </Button>\r\n\t\t\t\t\t\t<Button variant = \"primary\" disabled = {this.props.isSaving} onClick = {(e) => {this.saveEdit(e)}}> Save </Button>\r\n\t\t\t\t\t</Modal.Footer>\r\n\t\t\t\t\r\n\t\t\t\t:\r\n\t\t\t\t\r\n\t\t\t\t\t<Modal.Footer>\r\n\t\t\t\t\t\t<Alert className = \"error-alert\" variant = \"danger\" onClose = {this.hideAlert.bind(this)} dismissible>\r\n\t\t\t\t\t\t\t<p> {this.state.alertMessage} </p>\r\n\t\t\t\t\t\t</Alert>\r\n\t\t\t\t\t\t<div className = \"loader-container\">\r\n\t\t\t\t\t\t\t<Loader type=\"ThreeDots\" \r\n\t\t\t\t\t\t\t\tcolor=\"#00BFFF\" \r\n\t\t\t\t\t\t\t\theight={80} \r\n\t\t\t\t\t\t\t\twidth={80} \r\n\t\t\t\t\t\t\t\tvisible = {this.props.isSaving}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<Button variant = \"primary\" disabled = {this.props.isSaving} onClick = {this.closeModal}> Close </Button>\r\n\t\t\t\t\t\t<Button variant = \"primary\" disabled = {this.props.isSaving} onClick = {(e) => {this.saveEdit(e)}}> Save </Button>\r\n\t\t\t\t\t</Modal.Footer>\r\n\t\t\t\t}\r\n\t\t\t</Modal>\t\t\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default EditModal; ","import React, { Component } from 'react';\r\nimport Container from 'react-bootstrap/Container';\r\nimport Row from 'react-bootstrap/Row';\r\nimport Col from 'react-bootstrap/Col';\r\nimport Button from 'react-bootstrap/Button';\r\nimport {Calendar as ReactCalendar} from 'react-calendar';\r\nimport '../td-css/Calendar.css';\r\nimport AddModal from './AddModal.js';\r\nimport EditModal from './EditModal.js';\r\nimport Accordion from 'react-bootstrap/Accordion';\r\nimport Card from 'react-bootstrap/Card';\r\nimport ListGroup from 'react-bootstrap/ListGroup';\r\nimport OverlayTrigger from 'react-bootstrap/OverlayTrigger';\r\nimport Popover from 'react-bootstrap/Popover';\r\nimport uuid from 'react-uuid';\r\n//import 'react-calendar/dist/Calendar.css';\r\n\r\n//PROPS\r\n\t//data \r\n\t//onClickAdd()\r\n\t//addModalShow\r\n\t//isSaving\r\n\t//toggleSaveBar()\r\n\t//toggleAddModal()\r\n\t//saveData()\r\nclass Calendar extends Component {\r\n\t\r\n\tstate = {\r\n\t\tselectedDate: null,\r\n\t\tselectedDateString: null,\r\n\t\tminDate: null,\r\n\t\tisDataOnDate: null,\r\n\t\thasLoaded: false, //flag to determine if data has loaded, mainly using it for initially determining if selected date has data \r\n\t\tdisplayData: null,\r\n\t\teventKey: 0,\r\n\t\tdataToEdit: null,\r\n\t\teditIndex: -1,\r\n\t\teventKey: -1\r\n\t}\r\n\t\r\n\t/* COMPONENT MOUNTING AND UPDATING METHODS */ \r\n\r\n\tcomponentDidMount = () => {\r\n\t\tthis.setState({selectedDate: this.formatNewDate(), selectedDateString: this.toDateString(this.formatNewDate())});\r\n\t}\r\n\r\n\tcomponentDidUpdate = () => {\r\n\t\tif(this.state.selectedDateString !== this.toDateString(this.state.selectedDate)){\r\n\t\t\tthis.setState({selectedDateString: this.toDateString(this.state.selectedDate), isDataOnDate: this.isSelectedDateInDateList()});\r\n\t\t}\r\n\t\tif(!this.state.hasLoaded && this.props.data !== null) {\r\n\t\t\tthis.setState({hasLoaded: true, minDate: this.formatDate(this.props.data.birthday), isDataOnDate: this.isSelectedDateInDateList()});\r\n\t\t}\r\n\t\tif(this.props.dataToEdit !== this.props.dataToEdit) {\r\n\t\t\tthis.setState({dataToEdit: this.props.dataToEdit});\r\n\t\t}\r\n\t\tif(this.state.eventKey > 1000) {\r\n\t\t\tthis.setState({eventKey: -1});\r\n\t\t}\r\n\t}\r\n\t\r\n\t//onclick event to handle edit button click\r\n\tonClickEdit = (index) => {\r\n\t\tthis.setState({editIndex: index});\r\n\t\tthis.props.toggleEditModal(this.props.data.userData[index]);\r\n\t}\r\n\t\r\n\t/* CALENDAR METHODS */\r\n\t\r\n\t//reloads after save from Add Modal\r\n\treloadCalendar = () => {\r\n\t\tthis.setState({hasLoaded: false});\r\n\t}\r\n\t\r\n\t//returns true if selected date is in dateList, false if not\r\n\tisSelectedDateInDateList = () => {\r\n\t\tif(this.props.data === null || this.props.data === undefined || this.state.selectedDate === null || this.state.selectedDate === undefined) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\tconst dateList = this.createDateList();\r\n\t\tfor(var i = 0; i < dateList.length; i++) {\r\n\t\t\tconst date = dateList[i];\r\n\t\t\tif(date.getTime() === this.state.selectedDate.getTime()) {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n\t\r\n\t//creates dateList to mark calendar \r\n\tcreateDateList = () => {\r\n\t\tif(this.props.data === null || this.props.data === undefined) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\tconst dateList = [];\r\n\t\tfor(var i = 0; i < this.props.data.userData.length; i++) {\r\n\t\t\tconst data = this.props.data.userData[i];\r\n\t\t\tconst dateString = data.Date;\r\n\t\t\tconst date = this.formatDate(dateString);\r\n\t\t\tdateList.push(date);\r\n\t\t}\r\n\t\treturn dateList;\r\n\t}\r\n\t\r\n\t//used to set today's date to zero hours, minutes, and seconds\r\n\tformatNewDate () {\r\n\t\tvar today = new Date();\r\n\t\tvar formatToday = new Date(today.getFullYear(), today.getMonth(), today.getDate(), 0, 0, 0);\r\n\t\treturn formatToday;\r\n\t}\r\n\t\r\n\t//used to format a new date based on date string\r\n\tformatDate = (dateString) => {\r\n\t\tvar date = new Date(dateString);\r\n\t\tvar formattedDate = new Date(date.getFullYear(), date.getMonth(), date.getDate(), 0, 0, 0);\r\n\t\treturn formattedDate;\r\n\t}\r\n\t\r\n\t//converts date into a string\r\n\ttoDateString = (date) => {\r\n\t\tif(date === null || date === undefined) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\tvar formattedDate = require('dateformat');\r\n\t\treturn formattedDate(date.toString(), \"fullDate\");\r\n\t}\r\n\t\r\n\t//onclick event handler when a day on the calendar is selected\r\n\tselectDay = (value) => {\r\n\t\tthis.setState({selectedDate: value});\r\n\t}\r\n\t\r\n\t//onclick event handler to delete an entry\r\n\tdeleteEntry = (index) => {\r\n\t\tvar approveDelete = window.confirm(\"Are you sure you want to delete this entry?\");\r\n\t\tif(approveDelete) {\r\n\t\t\tthis.props.data.userData.splice(index, 1);\r\n\t\t\tthis.props.saveData(this.props.data, \"delete\", \"Calendar\");\r\n\t\t}\r\n\t\telse {\r\n\t\t\treturn;\r\n\t\t}\r\n\t}\r\n\t\r\n\t/* DATA DISPLAY METHODS */ \r\n\t\r\n\tsortByDisplayName = (entry) => {\r\n\t\tconst displayOrder = entry.displayOrder;\r\n\t\tconst orderedJson = {};\r\n\t\tfor(var i = 0; i < displayOrder.length; i++) {\r\n\t\t\torderedJson[displayOrder[i]] = entry[displayOrder[i]];\r\n\t\t}\r\n\t\treturn orderedJson;\r\n\t}\r\n\t\r\n\tcalculateTotals = (data) => {\r\n\t\tvar totalList = [];\r\n\t\tfor(var i = 0; i < this.props.data.metaData.entryTypes.length; i++) {\r\n\t\t\tvar entryType = this.props.data.metaData.entryTypes[i];\r\n\t\t\tvar total = {Category: \"\", Type: \"\", calculationType: \"\", numOfEntries: 0, total: 0};\r\n\t\t\tfor(var x = 0; x < data.length; x++) {\r\n\t\t\t\tvar entry = data[x];\r\n\t\t\t\tvar numKey = \"\";\r\n\t\t\t\tfor(var key in entry) {\r\n\t\t\t\t\tif(!isNaN(entry[key]) && entry[key].length !== 0) {\r\n\t\t\t\t\t\tnumKey = key;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tif(entryType.Category === entry.Category && entryType.Type === entry.Type && entryType.calculationType !== \"none\" && numKey !== \"\") {\r\n\t\t\t\t\ttotal.Category = entry.Category;\r\n\t\t\t\t\ttotal.Type = entry.Type;\r\n\t\t\t\t\ttotal.calculationType = entryType.calculationType;\r\n\t\t\t\t\ttotal.numOfEntries = total.numOfEntries + 1;\r\n\t\t\t\t\ttotal.total = total.total + Number(entry[numKey]);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif(total.Category !== \"\" && total.Type !== \"\" && total.calculationType !== \"none\" && total.total !== 0) {\r\n\t\t\t\ttotalList.push(total);\r\n\t\t\t}\r\n\t\t}\r\n\t\tif(totalList.length === 0) {\r\n\t\t\treturn totalList;\r\n\t\t}\r\n\t\tvar results = [];\r\n\t\tfor(i = 0; i < totalList.length; i++) {\r\n\t\t\tvar total = totalList[i];\r\n\t\t\tvar result = {};\r\n\t\t\tif(total.numOfEntries === 1) {\r\n\t\t\t\tresult.Category = total.Category;\r\n\t\t\t\tresult.Type = total.Type;\r\n\t\t\t\tresult[total.Type] = total.total;\r\n\t\t\t\tresult.calculationType = total.calculationType.charAt(0).toUpperCase() + total.calculationType.slice(1);\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\t//only going to support add and average for now, since subtract, multiply, and divide don't really make sense for the given categories and types\r\n\t\t\t\tif(total.calculationType === \"add\") {\r\n\t\t\t\t\tresult.Category = total.Category;\r\n\t\t\t\t\tresult.Type = total.Type;\r\n\t\t\t\t\tresult[total.Type] = total.total;\r\n\t\t\t\t\tresult.calculationType = total.calculationType.charAt(0).toUpperCase() + total.calculationType.slice(1);\r\n\t\t\t\t}\r\n\t\t\t\telse if(total.calculationType === \"average\") {\r\n\t\t\t\t\tresult.Category = total.Category;\r\n\t\t\t\t\tresult.Type = total.Type;\r\n\t\t\t\t\tresult[total.Type] = (total.total / total.numOfEntries).toFixed(2);\r\n\t\t\t\t\tresult.calculationType = total.calculationType.charAt(0).toUpperCase() + total.calculationType.slice(1);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tresults.push(result);\r\n\t\t}\r\n\t\treturn results;\r\n\t}\r\n\t\r\n\tgoalAchieved = (entry) => {\r\n\t\tvar numKey = \"Amount\";\r\n\t\tfor(var key in entry) {\r\n\t\t\tif(!isNaN(entry[key]) && entry[key].toString().trim().length !== 0) {\r\n\t\t\t\tnumKey = key;\r\n\t\t\t}\r\n\t\t}\r\n\t\tfor(var i = 0; i < this.props.data.goals.length; i++) {\r\n\t\t\tvar goal = this.props.data.goals[i];\r\n\t\t\tif(goal[\"Goal Type\"] === entry.Category) {\r\n\t\t\t\tif(!goal.deletable) {\r\n\t\t\t\t\tif(Number(goal.Fields[entry.Type]) === Number(entry[numKey])) {\r\n\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tvar isAchieved = false;\r\n\t\t\t\t\tfor(var key in goal.Fields) {\r\n\t\t\t\t\t\tif(goal.Fields[key] === entry[key]) {\r\n\t\t\t\t\t\t\tisAchieved = true;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\tisAchieved = false;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(isAchieved) {\r\n\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n\t\r\n\tdisplayData = () => {\r\n\t\tif(this.state.selectedDate === null || this.state.selectedDate === undefined || this.props.data === null || this.props.data === undefined) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\tconst enteredCategories = [];\r\n\t\tconst entries = [];\r\n\t\tfor(var i = 0; i < this.props.data.userData.length; i++) {\r\n\t\t\tif(new Date(this.props.data.userData[i].Date).getTime() === this.state.selectedDate.getTime()) {\r\n\t\t\t\tentries.push(this.props.data.userData[i]);\r\n\t\t\t\tif(!enteredCategories.includes(this.props.data.userData[i].Category)) {\r\n\t\t\t\t\tenteredCategories.push(this.props.data.userData[i].Category);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tconst totals = this.calculateTotals(entries);\r\n\t\t\r\n\t\tconst cards = enteredCategories.map((category, catIndex) => {\r\n\t\t\tvar id = uuid();\r\n\t\t\treturn (\r\n\t\t\t\t<Card key = {uuid}>\r\n\t\t\t\t\t<Card.Header>\r\n\t\t\t\t\t\t<Accordion.Toggle as = {Button} variant = \"link\" eventKey = {id}>\r\n\t\t\t\t\t\t\t{category}\r\n\t\t\t\t\t\t</Accordion.Toggle>\r\n\t\t\t\t\t</Card.Header>\r\n\t\t\t\t\t<Accordion.Collapse eventKey = {id}>\r\n\t\t\t\t\t\t<Card.Body>\r\n\t\t\t\t\t\t\t{this.props.data.userData.map((entry, index) => {\r\n\t\t\t\t\t\t\t\tif(new Date(entry.Date).getTime() === this.state.selectedDate.getTime() && category === entry.Category) {\r\n\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t<div key = {uuid()}>\r\n\t\t\t\t\t\t\t\t\t\t\t{this.goalAchieved(entry) && entry.calculationType === \"none\"\r\n\t\t\t\t\t\t\t\t\t\t\t?\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div> Goal Achieved 🏆 </div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{entry.displayOrder.map((key) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tif(key !== \"Notes\") {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ListGroup horizontal key = {uuid()}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ListGroup.Item style = {{width: \"40%\"}}> <strong> {key} </strong> </ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ListGroup.Item style = {{width: \"60%\"}}> {entry[key]} </ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</ListGroup>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tconst popover = (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Popover>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Popover.Title as = \"h3\"> {key} </Popover.Title>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Popover.Content> {entry[key]} </Popover.Content>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Popover>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div key = {uuid()}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<OverlayTrigger trigger = \"click\" placement = \"right\" overlay = {popover} rootClose = {true}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button variant = \"success\"> {key} </Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</OverlayTrigger>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button variant = \"light\" className = \"deleteEditButtons\" onClick = {this.deleteEntry.bind(this, index)}> 🗑️ </Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button variant = \"light\" className = \"deleteEditButtons\" onClick = {this.onClickEdit.bind(this, index)}> ✏️ </Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<hr style = {{border: \"1px solid black\"}} />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t:\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{entry.displayOrder.map((key) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tif(key !== \"Notes\") {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ListGroup horizontal key = {uuid()}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ListGroup.Item style = {{width: \"40%\"}}> <strong> {key} </strong> </ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ListGroup.Item style = {{width: \"60%\"}}> {entry[key]} </ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</ListGroup>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tconst popover = (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Popover>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Popover.Title as = \"h3\"> {key} </Popover.Title>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Popover.Content> {entry[key]} </Popover.Content>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Popover>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div key = {uuid()}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<OverlayTrigger trigger = \"click\" placement = \"right\" overlay = {popover} rootClose = {true}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button variant = \"success\"> {key} </Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</OverlayTrigger>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button variant = \"light\" className = \"deleteEditButtons\" onClick = {this.deleteEntry.bind(this, index)}> 🗑️ </Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button variant = \"light\" className = \"deleteEditButtons\" onClick = {this.onClickEdit.bind(this, index)}> ✏️ </Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<hr style = {{border: \"1px solid black\"}} />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\treturn null;\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t</Card.Body>\r\n\t\t\t\t\t</Accordion.Collapse>\r\n\t\t\t\t</Card>\r\n\t\t\t)\r\n\t\t});\r\n\t\treturn (\r\n\t\t\t<Accordion> \r\n\t\t\t\t{cards} \r\n\t\t\t\t{totals.length !== 0\r\n\t\t\t\t?\r\n\t\t\t\t<Card key = {uuid()}>\r\n\t\t\t\t\t<Card.Header>\r\n\t\t\t\t\t\t<Accordion.Toggle as = {Button} variant = \"link\" eventKey = \"total\">\r\n\t\t\t\t\t\t\tData Totals \r\n\t\t\t\t\t\t</Accordion.Toggle>\r\n\t\t\t\t\t</Card.Header>\r\n\t\t\t\t\t<Accordion.Collapse eventKey = \"total\">\r\n\t\t\t\t\t\t<Card.Body>\r\n\t\t\t\t\t\t{totals.map((total) => {\r\n\t\t\t\t\t\t\tif(this.goalAchieved(total)) {\r\n\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t<div> Goal Achieved 🏆 </div>\r\n\t\t\t\t\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t\t\t\t\t<ListGroup horizontal key = {uuid()}>\r\n\t\t\t\t\t\t\t\t\t\t\t<ListGroup.Item style = {{width: \"50%\"}}> <strong> {total.Type} </strong> </ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t<ListGroup.Item style = {{width: \"50%\"}}> {total[total.Type]} </ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t</ListGroup>\r\n\t\t\t\t\t\t\t\t\t\t<hr style = {{border: \"1px solid black\"}} />\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t<ListGroup horizontal key = {uuid()}>\r\n\t\t\t\t\t\t\t\t\t\t<ListGroup.Item style = {{width: \"50%\"}}> <strong> {total.Type} </strong> </ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t<ListGroup.Item style = {{width: \"50%\"}}> {total[total.Type]} </ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t</ListGroup>\r\n\t\t\t\t\t\t\t\t\t<hr style = {{border: \"1px solid black\"}} />\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t</Card.Body>\r\n\t\t\t\t\t</Accordion.Collapse>\r\n\t\t\t\t</Card>\r\n\t\t\t\t:\r\n\t\t\t\t<div> </div>\r\n\t\t\t\t}\r\n\t\t\t</Accordion>\r\n\t\t)\r\n\t}\r\n\t\r\n\trender() {\r\n\t\tconst markedCalendar = ({activeStartDate, date, view}) => {\r\n\t\t\tif(this.props.data === null || this.props.data == undefined) {\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t\tif(view === \"month\" && this.createDateList().find(x => x.getTime() === date.getTime())) {\r\n\t\t\t\treturn <div> 💪 </div>\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tconst breakpoint = 500;\r\n\t\tconst width = window.innerWidth;\r\n\r\n\t\tconst displayData = this.displayData();\r\n\t\treturn (\r\n\t\t\t<Container fluid>\r\n\t\t\t\t<Row>\r\n\t\t\t\t\t<AddModal \r\n\t\t\t\t\t\tdata = {this.props.data} \r\n\t\t\t\t\t\tselectedDate = {this.state.selectedDate}\r\n\t\t\t\t\t\tsaveData = {this.props.saveData}\r\n\t\t\t\t\t\ttoDateString = {this.toDateString}\r\n\t\t\t\t\t\taddModalShow = {this.props.addModalShow}\r\n\t\t\t\t\t\tisSaving = {this.props.isSaving}\r\n\t\t\t\t\t\ttoggleAddModal = {this.props.toggleAddModal}\r\n\t\t\t\t\t\ttoggleSaveBar = {this.props.toggleSaveBar}\r\n\t\t\t\t\t\treloadCalendar = {this.reloadCalendar}\r\n\t\t\t\t\t\tcreateDateList = {this.createDateList}\r\n\t\t\t\t\t/> \r\n\t\t\t\t</Row>\r\n\t\t\t\t<Row>\r\n\t\t\t\t\t<EditModal \r\n\t\t\t\t\t\tdata = {this.props.data}\r\n\t\t\t\t\t\teditModalShow = {this.props.editModalShow}\r\n\t\t\t\t\t\tselectedDate = {this.state.selectedDate}\r\n\t\t\t\t\t\ttoDateString = {this.toDateString}\r\n\t\t\t\t\t\tisSaving = {this.props.isSaving}\r\n\t\t\t\t\t\ttoggleEditModal = {this.props.toggleEditModal}\r\n\t\t\t\t\t\ttoggleSaveBar = {this.props.toggleSaveBar}\r\n\t\t\t\t\t\treloadCalendar = {this.reloadCalendar}\r\n\t\t\t\t\t\tsaveData = {this.props.saveData}\r\n\t\t\t\t\t\tdataToEdit = {this.props.dataToEdit}\r\n\t\t\t\t\t\teditIndex = {this.state.editIndex}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Row>\r\n\t\t\t\t{width < breakpoint\r\n\t\t\t\t?\r\n\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t<div className = \"mobile-calendar-container\">\r\n\t\t\t\t\t\t\t\t\t<Row style = {{marginBottom: \"5%\"}}>\r\n\t\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t\t<ReactCalendar \r\n\t\t\t\t\t\t\t\t\t\t\t\tminDate = {this.state.minDate}\r\n\t\t\t\t\t\t\t\t\t\t\t\tshowNeighboringMonth = {false}\r\n\t\t\t\t\t\t\t\t\t\t\t\tonClickDay = {this.selectDay}\r\n\t\t\t\t\t\t\t\t\t\t\t\ttileContent = {markedCalendar}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t\t<Col sm = {10}>\r\n\t\t\t\t\t\t\t\t\t\t\t<h6 className = \"date-string\"> \r\n\t\t\t\t\t\t\t\t\t\t\t\t{this.state.selectedDateString} \r\n\t\t\t\t\t\t\t\t\t\t\t</h6>\r\n\t\t\t\t\t\t\t\t\t\t\t<Button variant = \"primary\" className = \"add-data-button\" onClick = {this.props.toggleAddModal}> + </Button>\r\n\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t\t{this.state.isDataOnDate\r\n\t\t\t\t\t\t\t\t\t\t\t?\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{displayData}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t:\r\n\t\t\t\t\t\t\t\t\t\t\t\t<p style = {{marginLeft: \"1%\"}}> Nothing to see here... </p>\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t{/*\r\n\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t{this.state.isDataOnDate \r\n\t\t\t\t\t\t\t\t\t?\r\n\t\t\t\t\t\t\t\t\t\t<div className = \"box-container\">\r\n\t\t\t\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<h4 className = \"date-string\"> \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{this.state.selectedDateString} \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</h4>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Button variant = \"primary\" className = \"add-data-button\" onClick = {this.props.toggleAddModal}> + </Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{displayData}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t:\r\n\t\t\t\t\t\t\t\t\t\t<div className = \"box-container\">\r\n\t\t\t\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<h4 className = \"date-string\"> \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{this.state.selectedDateString} \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</h4>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Button variant = \"primary\" className = \"add-data-button\" onClick = {this.props.toggleAddModal}> + </Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Col sm = {6}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<p style = {{marginLeft: \"1%\"}}> Nothing to see here... </p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t*/}\r\n\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t</Row>\t\t\t\t\r\n\t\t\t\t:\r\n\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t<Col md = {5}>\r\n\t\t\t\t\t\t\t{this.state.isDataOnDate \r\n\t\t\t\t\t\t\t?\r\n\t\t\t\t\t\t\t<div className = \"box-container\">\r\n\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t<h4 className = \"date-string\"> \r\n\t\t\t\t\t\t\t\t\t\t\t{this.state.selectedDateString} \r\n\t\t\t\t\t\t\t\t\t\t</h4>\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t<Button variant = \"primary\" className = \"add-data-button\" onClick = {this.props.toggleAddModal}> + </Button>\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t{displayData}\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t:\r\n\t\t\t\t\t\t\t<div className = \"box-container\">\r\n\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t<h4 className = \"date-string\"> \r\n\t\t\t\t\t\t\t\t\t\t\t{this.state.selectedDateString} \r\n\t\t\t\t\t\t\t\t\t\t</h4>\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t<Button variant = \"primary\" className = \"add-data-button\" onClick = {this.props.toggleAddModal}> + </Button>\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t<Col sm = {6}>\r\n\t\t\t\t\t\t\t\t\t\t<p style = {{marginLeft: \"1%\"}}> Nothing to see here... </p>\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<Col md = {7}>\r\n\t\t\t\t\t\t\t<div className = \"calendar-container\">\r\n\t\t\t\t\t\t\t\t<ReactCalendar \r\n\t\t\t\t\t\t\t\t\tminDate = {this.state.minDate}\r\n\t\t\t\t\t\t\t\t\tshowNeighboringMonth = {false}\r\n\t\t\t\t\t\t\t\t\tonClickDay = {this.selectDay}\r\n\t\t\t\t\t\t\t\t\ttileContent = {markedCalendar}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t</Row>\r\n\t\t\t\t}\r\n\t\t\t</Container>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default Calendar;","import React, { Component } from 'react';\r\nimport Container from 'react-bootstrap/Container';\r\nimport Row from 'react-bootstrap/Row';\r\nimport Col from 'react-bootstrap/Col';\r\nimport Button from 'react-bootstrap/Button';\r\nimport Dropdown from 'react-bootstrap/Dropdown';\r\nimport FormControl from 'react-bootstrap/FormControl';\r\nimport Form from 'react-bootstrap/Form';\r\nimport { LineChart, Line, XAxis, YAxis, CartesianGrid, Tooltip, Legend, ResponsiveContainer } from 'recharts';\r\nimport '../td-css/Graph.css';\r\n//import DatePicker from 'react-date-picker';\r\nimport DatePicker from 'react-datepicker';\r\nimport Accordion from 'react-bootstrap/Accordion';\r\nimport Card from 'react-bootstrap/Card';\r\n//import DatePicker from 'react-date-picker/dist/entry.nostyle';\r\n//PROPS\r\n\t//data\r\nclass Graph extends Component {\r\n\t\r\n\tstate = {\r\n\t\ttestData: [\r\n\t\t\t{name: \"test1\", data: 1},\r\n\t\t\t{name: \"test2\", data: 2},\r\n\t\t\t{name: \"test3\", data: 3},\r\n\t\t\t{name: \"test4\", data: 4},\r\n\t\t],\r\n\t\tgraphOption: \"Graph Options\",\r\n\t\tstartDate: null,\r\n\t\tendDate: null,\r\n\t\tgraphData: [],\r\n\t\tlineColors: [\"Aqua\", \"Black\", \"Blue\", \"BlueViolet\", \"Brown\", \"Chocolate\", \"Crimson\", \"DarkGreen\", \"DeepPink\", \"LightSeaGreen\", \"Maroon\",\r\n\t\t\t\t\t\"Navy\", \"Olive\", \"MidnightBlue\", \"Tomato\"],\r\n\t\tusedColors: [],\r\n\t\tcolorIndex: -1,\r\n\t\tgraphFilters: [],\r\n\t\trangeValue: null\r\n\t}\r\n\t\r\n\tcomponentDidUpdate = () => {\r\n\t\tif(this.state.colorIndex > this.state.lineColors.length) {\r\n\t\t\tthis.setState({colorIndex: -1});\r\n\t\t}\r\n\t}\r\n\t\r\n\tonSelectOption = (option) => {\r\n\t\tthis.setState({graphOption: option, graphFilters: []});\r\n\t}\r\n\t\r\n\tonSelectStartDate = (date) => {\r\n\t\tthis.setState({startDate: date});\r\n\t}\r\n\t\r\n\tonSelectEndDate = (date) => {\r\n\t\tthis.setState({endDate: date});\r\n\t}\r\n\t\r\n\tonChangeSlider = (e) => {\r\n\t\tthis.setState({rangeValue: e.target.value});\r\n\t}\r\n\t\r\n\tonSelectFilter = (filterName) => {\r\n\t\tvar filtersCopy = this.state.graphFilters.slice();\r\n\t\tif(!filtersCopy.includes(filterName)) {\r\n\t\t\tfiltersCopy.push(filterName);\r\n\t\t\tthis.setState({graphFilters: filtersCopy});\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tfiltersCopy.splice(filtersCopy.indexOf(filterName), 1);\r\n\t\tthis.setState({graphFilters: filtersCopy});\r\n\t}\r\n\t\r\n\tcreateOptionDropdown = () => {\r\n\t\tif(this.props.data === null || this.props.data === undefined) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\treturn (\r\n\t\t\t<Dropdown className = \"options-button\">\r\n\t\t\t\t<Dropdown.Toggle variant = \"primary\">\r\n\t\t\t\t\t{this.state.graphOption}\r\n\t\t\t\t</Dropdown.Toggle>\r\n\t\t\t\t<Dropdown.Menu>\r\n\t\t\t\t\t{this.props.data.metaData.categories.map((category, index) => {\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<Dropdown.Header>\r\n\t\t\t\t\t\t\t\t\t<strong> {category} </strong>\r\n\t\t\t\t\t\t\t\t</Dropdown.Header>\r\n\t\t\t\t\t\t\t\t{this.props.data.metaData.entryTypes.map((entry) => {\r\n\t\t\t\t\t\t\t\t\tif(category === entry.Category) {\r\n\t\t\t\t\t\t\t\t\t\tfor(var key in entry) {\r\n\t\t\t\t\t\t\t\t\t\t\tif(entry[key] === \"number\") {\r\n\t\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Dropdown.Item onSelect = {this.onSelectOption.bind(this, entry.Type)}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{entry.Type}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Dropdown.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t})}\r\n\t\t\t\t</Dropdown.Menu>\r\n\t\t\t</Dropdown>\r\n\t\t)\r\n\t}\r\n\t\r\n\tcreateDateDropdown = () => {\r\n\t\treturn (\r\n\t\t\t<Dropdown className = \"options-button\">\r\n\t\t\t\t<Dropdown.Toggle variant = \"primary\">\r\n\t\t\t\t\tDate Range\r\n\t\t\t\t</Dropdown.Toggle>\r\n\t\t\t\t<Dropdown.Menu>\r\n\t\t\t\t\t<Dropdown.Item as = {this.dateOption}> </Dropdown.Item>\r\n\t\t\t\t</Dropdown.Menu>\r\n\t\t\t</Dropdown>\r\n\t\t);\r\n\t}\r\n\t\r\n\tfilterGraphData = (graphData) => {\r\n\t\tif(this.state.graphFilters === null || this.state.graphFilters.length === 0 || graphData === null || graphData.length === 0) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\tvar filteredGraphData = [];\r\n\t\tvar numericFilters = [];\r\n\t\t//apply name filters first\r\n\t\tfor(var i = 0; i < graphData.length; i++) {\r\n\t\t\tvar entry = graphData[i];\r\n\t\t\tfor(var x = 0; x < this.state.graphFilters.length; x++) {\r\n\t\t\t\tvar filter = this.state.graphFilters[x];\r\n\t\t\t\tfor(var key in entry) {\r\n\t\t\t\t\tif(entry[key] === filter) {\r\n\t\t\t\t\t\tfilteredGraphData.push(entry);\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse if(!isNaN(entry[filter])){\r\n\t\t\t\t\t\tif(!numericFilters.includes(filter)) {\r\n\t\t\t\t\t\t\tnumericFilters.push(filter);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\t//apply numeric filters now\r\n\t\tif(filteredGraphData.length === 0) {\r\n\t\t\tfor(i = 0; i < graphData.length; i++) {\r\n\t\t\t\tvar entry = graphData[i];\r\n\t\t\t\tvar filteredEntry = {};\r\n\t\t\t\tfor(x = 0; x < this.state.graphFilters.length; x++) {\r\n\t\t\t\t\tvar filter = this.state.graphFilters[x];\r\n\t\t\t\t\tif(Object.keys(entry).includes(filter)) {\r\n\t\t\t\t\t\tfilteredEntry[filter] = entry[filter];\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tfilteredEntry[\"Name\"] = entry[\"Name\"];\r\n\t\t\t\tfilteredEntry[\"Date\"] = entry[\"Date\"];\r\n\t\t\t\tfilteredGraphData.push(filteredEntry);\r\n\t\t\t}\r\n\t\t\treturn filteredGraphData\r\n\t\t}\r\n\t\telse {\r\n\t\t\tif(numericFilters.length === 0) {\r\n\t\t\t\treturn filteredGraphData;\r\n\t\t\t}\r\n\t\t\tvar finalFilteredGraphData = [];\r\n\t\t\tfor(i = 0; i < filteredGraphData.length; i++) {\r\n\t\t\t\tvar entry = filteredGraphData[i];\r\n\t\t\t\tvar filteredEntry = {};\r\n\t\t\t\tfor(x = 0; x < this.state.graphFilters.length; x++) {\r\n\t\t\t\t\tvar filter = this.state.graphFilters[x];\r\n\t\t\t\t\tif(Object.keys(entry).includes(filter)) {\r\n\t\t\t\t\t\tfilteredEntry[filter] = entry[filter];\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t\tfilteredEntry[\"Name\"] = entry[\"Name\"];\r\n\t\t\t\tfilteredEntry[\"Date\"] = entry[\"Date\"];\r\n\t\t\t\tfinalFilteredGraphData.push(filteredEntry);\r\n\t\t\t}\r\n\t\t\treturn finalFilteredGraphData;\r\n\t\t}\r\n\t\treturn null;\r\n\t}\r\n\t\r\n\tgetGraphData = () => {\r\n\t\tvar graphData = [];\r\n\t\tif(this.state.startDate === null || this.state.endDate === null || this.state.graphOption === \"Graph Options\" || this.state.startDate.getTime() > this.state.endDate.getTime()) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\tfor(var i = 0; i < this.props.data.userData.length; i++) {\r\n\t\t\tconst entry = this.props.data.userData[i];\r\n\t\t\tconst entryDate = new Date(entry.Date);\r\n\t\t\tif(this.state.startDate.getTime() <= entryDate.getTime() && entryDate.getTime() <= this.state.endDate.getTime() && entry.Type === this.state.graphOption) {\r\n\t\t\t\tvar graphEntry = {};\r\n\t\t\t\tfor(var key in entry) {\r\n\t\t\t\t\tif(!isNaN(Number(entry[key])) && entry[key].length !== 0 || key === \"Name\") {\r\n\t\t\t\t\t\tgraphEntry[key] = entry[key];\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tgraphEntry.Date = entryDate.toLocaleDateString();\r\n\t\t\t\tgraphData.push(graphEntry);\r\n\t\t\t}\r\n\t\t}\r\n\t\t//sorting graph data by date\r\n\t\tfor(i = 0; i < graphData.length; i++) {\t\t\r\n\t\t\tvar min = i; \r\n\t\t\tfor(var x = i + 1; x < graphData.length; x++) {\r\n\t\t\t\tif(new Date(graphData[min].Date).getTime() > new Date(graphData[x].Date).getTime()) {\r\n\t\t\t\t\tmin = x;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif(min !== i) {\r\n\t\t\t\tvar temp = graphData[i];\r\n\t\t\t\tgraphData[i] = graphData[min];\r\n\t\t\t\tgraphData[min] = temp;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn graphData;\r\n\t}\r\n\t\r\n\tcreateLines = (graphData) => {\r\n\t\tif(graphData === null) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\tvar dataKeys = [];\r\n\t\tfor(var i = 0; i < graphData.length; i++) {\r\n\t\t\tvar entry = graphData[i];\r\n\t\t\tfor(var key in entry) {\r\n\t\t\t\tif(!isNaN(Number(entry[key])) && entry[key].length !== 0 && !dataKeys.includes(key) || key === \"Name\" && !dataKeys.includes(key)) {\r\n\t\t\t\t\tdataKeys.push(key);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tconst lines = dataKeys.map((dataKey, index) => {\r\n\t\t\treturn (\r\n\t\t\t\t<Line dataKey = {dataKey} stroke = {this.state.lineColors[index]}/>\r\n\t\t\t);\r\n\t\t});\r\n\t\treturn lines;\r\n\t}\r\n\t\r\n\tgetLegendData = (graphData) => {\r\n\t\tif(graphData === null) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\tvar legendData = [];\r\n\t\tfor(var i = 0; i < graphData.length; i++) {\r\n\t\t\tvar entry = graphData[i];\r\n\t\t\tfor(var key in entry) {\r\n\t\t\t\t//if(!isNaN(Number(entry[key])) && entry[key].length !== 0 && !legendData.includes(key))\r\n\t\t\t\tif(entry[key].length !== 0 && !legendData.includes(key) && key !== \"Date\" && key !== \"Notes\") {\r\n\t\t\t\t\tlegendData.push(key);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tvar matchingColorIndex = -1;\r\n\t\tif(legendData.length === 1) {\r\n\t\t\tmatchingColorIndex = this.state.colorIndex;\r\n\t\t}\r\n\t\telse {\r\n\t\t\tmatchingColorIndex = this.state.colorIndex - legendData.length;\r\n\t\t}\r\n\t\tfor(i = 0; i < legendData.length; i++) {\r\n\t\t\tlegendData[i] = {\"color\": this.state.lineColors[i], dataKey: legendData[i], \"type\": \"line\", \"value\": legendData[i]}\r\n\t\t\tmatchingColorIndex++;\r\n\t\t}\r\n\t\treturn legendData;\r\n\t}\r\n\r\n\t\r\n\tcreateStringFilters = (graphData) => {\r\n\t\tif(graphData === null || graphData === undefined || graphData.length === 0) {\r\n\t\t\treturn <div> </div>;\r\n\t\t}\r\n\t\tvar filters = [];\r\n\t\tvar filterData = [];\r\n\t\tfor(var i = 0; i < graphData.length; i++) {\r\n\t\t\tvar entry = graphData[i];\r\n\t\t\tfor(var key in entry) {\r\n\t\t\t\tif(!isNaN(Number(entry[key])) && entry[key].length !== 0 && !filters.includes(key) || this.props.data.metaData.graphFilterConstants.includes(key) && !filters.includes(key)) {\r\n\t\t\t\t\tfilters.push(key);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tif(filters.length < 1) {\r\n\t\t\treturn <div> </div>;\r\n\t\t}\r\n\t\tfor(i = 0; i < filters.length; i++) {\r\n\t\t\tvar filter = filters[i];\r\n\t\t\tif(!isNaN(graphData[0][filter])) {\r\n\t\t\t\tfilterData.push(filter);\r\n\t\t\t}\r\n\t\t\tfor(var x = 0; x < graphData.length; x++) {\r\n\t\t\t\tif(isNaN(graphData[x][filter]) && !filterData.includes(graphData[x][filter])) {\r\n\t\t\t\t\tfilterData.push(graphData[x][filter]);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tif(filterData === null || filterData === undefined || filterData.length === 0) {\r\n\t\t\treturn <div> </div>;\r\n\t\t}\r\n\t\treturn (\r\n\t\t\t\t<Card>\r\n\t\t\t\t\t<Card.Body>\r\n\t\t\t\t\t\t<Card.Title> \r\n\t\t\t\t\t\t\tShow By \r\n\t\t\t\t\t\t</Card.Title>\r\n\t\t\t\t\t\t{filterData.length === 1\r\n\t\t\t\t\t\t\t?\r\n\t\t\t\t\t\t\t\t<Form.Check type = \"checkbox\" label = {filterData[0]} onClick = {this.onSelectFilter.bind(this, filterData[0])}/> \r\n\t\t\t\t\t\t\t:\r\n\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t{filterData.map((data) => {\r\n\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Check type = \"checkbox\" label = {data} onClick = {this.onSelectFilter.bind(this, data)}/> \r\n\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t</Card.Body>\r\n\t\t\t\t</Card>\r\n\t\t)\r\n\t}\r\n\t\r\n\tcreateNumFilters = (graphData) => {\r\n\t\tif(graphData === null) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\tvar rangeSliders;\r\n\t\tvar sliderLabels = [];\r\n\t\t\r\n\t\tif(this.state.graphFilters.length === 0) {\r\n\t\t\tfor(var i = 0; i < graphData.length; i++) {\r\n\t\t\t\tvar entry = graphData[i];\r\n\t\t\t\tfor(var key in entry) {\r\n\t\t\t\t\tif(!isNaN(entry[key]) && !sliderLabels.includes(key)) {\r\n\t\t\t\t\t\tsliderLabels.push(key);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif(sliderLabels.length === 0) {\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t\trangeSliders = sliderLabels.map((label, index) => {\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<Form>\r\n\t\t\t\t\t\t<Form.Group controlId = {index}>\r\n\t\t\t\t\t\t\t<Form.Label> {label} </Form.Label>\r\n\t\t\t\t\t\t\t<Form.Control type = \"range\" />\r\n\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t</Form>\r\n\t\t\t\t)\r\n\t\t\t});\r\n\t\t}\r\n\t\telse {\r\n\t\t\tfor(var i = 0; i < graphData.length; i++) {\r\n\t\t\t\tvar entry = graphData[i];\r\n\t\t\t\tfor(var key in entry) {\r\n\t\t\t\t\tif(!isNaN(entry[key]) && !sliderLabels.includes(key) && !this.state.graphFilters.includes(key)) {\r\n\t\t\t\t\t\tsliderLabels.push(key);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif(sliderLabels.length === 0) {\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t\trangeSliders = sliderLabels.map((label, index) => {\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<Form>\r\n\t\t\t\t\t\t<Form.Group controlId = {index}>\r\n\t\t\t\t\t\t\t<Form.Label> {label} </Form.Label>\r\n\t\t\t\t\t\t\t<Form.Control type = \"range\" />\r\n\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t</Form>\r\n\t\t\t\t)\r\n\t\t\t});\r\n\t\t}\r\n\t\treturn rangeSliders;\r\n\t}\r\n\t\r\n\tgetMaxValue = (graphData) => {\r\n\t\tif(graphData === null || graphData === undefined) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\tvar max = 0;\r\n\t\tfor(var i = 0; i < graphData.length; i++) {\r\n\t\t\tvar entry = graphData[i];\r\n\t\t\tfor(var key in entry) {\r\n\t\t\t\tif(!isNaN(entry[key])) {\r\n\t\t\t\t\tif(Number(entry[key]) > max) {\r\n\t\t\t\t\t\tmax = Number(entry[key]);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tif(this.state.rangeValue === null) {\r\n\t\t\tthis.state.rangeValue = max;\r\n\t\t}\r\n\t\treturn max;\r\n\t}\r\n\t\r\n\trender() {\r\n\t\tconst startPicker = <Form.Control\r\n\t\t\t\t\t\t\t\ttype = \"input\"\r\n\t\t\t\t\t\t\t/>\r\n\t\tconst endPicker = <Form.Control\r\n\t\t\t\t\t\t\t\ttype = \"input\"\r\n\t\t\t\t\t\t\t/>\r\n\t\tconst dropdownOption = this.createOptionDropdown();\r\n\t\tvar graphData = this.getGraphData();\r\n\t\tconst stringFilters = this.createStringFilters(graphData);\r\n\t\tconst rangeSliders = this.createNumFilters(graphData);\r\n\t\tconst filteredGraphData = this.filterGraphData(graphData);\r\n\t\tvar legendPayload;\r\n\t\tvar lines;\r\n\t\tvar maxValue;\r\n\t\tif(filteredGraphData !== null) {\r\n\t\t\tlines = this.createLines(filteredGraphData);\r\n\t\t\t//legendPayload = this.getLegendData(filteredGraphData);\r\n\t\t\tmaxValue = this.getMaxValue(filteredGraphData);\r\n\t\t\tgraphData = filteredGraphData;\r\n\t\t}\r\n\t\telse {\r\n\t\t\tlines = this.createLines(graphData);\r\n\t\t\t//legendPayload = this.getLegendData(graphData);\r\n\t\t\tmaxValue = this.getMaxValue(graphData);\r\n\t\t}\r\n\t\t\r\n\t\treturn (\r\n\t\t\t<Container fluid> \r\n\t\t\t\t<Row>\r\n\t\t\t\t\t<Col lg = {2}>\r\n\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t{dropdownOption}\r\n\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t<p> <u> Start Date </u> </p>\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t<DatePicker\r\n\t\t\t\t\t\t\t\t\t\t\tselected = {this.state.startDate}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange = {this.onSelectStartDate}\r\n\t\t\t\t\t\t\t\t\t\t\tcustomInput = {startPicker}\r\n\t\t\t\t\t\t\t\t\t\t\tplaceholderText = \"mm/dd/yyyy\"\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t<p> <u> End Date </u> </p>\t\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t<DatePicker\r\n\t\t\t\t\t\t\t\t\t\t\tselected = {this.state.endDate}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange = {this.onSelectEndDate}\r\n\t\t\t\t\t\t\t\t\t\t\tcustomInput = {endPicker}\r\n\t\t\t\t\t\t\t\t\t\t\tplaceholderText = \"mm/dd/yyyy\"\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t{stringFilters}\r\n\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t</Row> \r\n\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t{/*\r\n\t\t\t\t\t\t\t<Form>\r\n\t\t\t\t\t\t\t\t<Form.Group controlId = {23}>\r\n\t\t\t\t\t\t\t\t\t{maxValue === null\r\n\t\t\t\t\t\t\t\t\t\t?\r\n\t\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Form.Label> <strong> Toggle Y-Axis: </strong> N/A </Form.Label>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Form.Control type = \"range\" disabled = {true}/>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t:\r\n\t\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Form.Label> <strong> Toggle Y-Axis: </strong> {this.state.rangeValue} </Form.Label>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Form.Control type = \"range\" value = {this.state.rangeValue} max = {this.state.rangeValue} onChange = {(e) => {this.onChangeSlider(e)}}/>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t</Form>\r\n\t\t\t\t\t\t*/}\r\n\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t\t<Col lg = {10}>\r\n\t\t\t\t\t\t<div className = \"graph-container\">\r\n\t\t\t\t\t\t{graphData === null ?\r\n\t\t\t\t\t\t\t<h3> <i> Graph Title </i> </h3>\r\n\t\t\t\t\t\t\t:\r\n\t\t\t\t\t\t\t<h3> {this.state.graphOption} </h3>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t<ResponsiveContainer>\r\n\t\t\t\t\t\t\t\t<LineChart \r\n\t\t\t\t\t\t\t\t\tdata = {graphData}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<XAxis dataKey = \"Date\"/>\r\n\t\t\t\t\t\t\t\t\t<YAxis type = \"number\" domain = {[0, maxValue]}/>\r\n\t\t\t\t\t\t\t\t\t <CartesianGrid strokeDasharray=\"3 3\" />\r\n\t\t\t\t\t\t\t\t\t<Tooltip/>\r\n\t\t\t\t\t\t\t\t\t<Legend />\r\n\t\t\t\t\t\t\t\t\t{lines}\r\n\t\t\t\t\t\t\t\t</LineChart>\r\n\t\t\t\t\t\t\t</ResponsiveContainer>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t</Row>\r\n\t\t\t</Container>\r\n\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default Graph;","import React, { Component } from 'react';\r\nimport Container from 'react-bootstrap/Container';\r\nimport Row from 'react-bootstrap/Row';\r\nimport Col from 'react-bootstrap/Col';\r\nimport Button from 'react-bootstrap/Button';\r\nimport AddModal from './AddModal.js';\r\nimport EditModal from './EditModal.js';\r\nimport Accordion from 'react-bootstrap/Accordion';\r\nimport Card from 'react-bootstrap/Card';\r\nimport ListGroup from 'react-bootstrap/ListGroup';\r\nimport OverlayTrigger from 'react-bootstrap/OverlayTrigger';\r\nimport Popover from 'react-bootstrap/Popover';\r\nimport uuid from 'react-uuid';\r\nimport '../td-css/DataList.css';\r\nimport DatePicker from 'react-datepicker';\r\nimport Dropdown from 'react-bootstrap/Dropdown';\r\nimport Form from 'react-bootstrap/Form';\r\n\r\n//props\r\n\t//data\r\nclass DataList extends Component {\r\n\t\r\n\tstate = {\r\n\t\tstartDate: null,\r\n\t\tendDate: null,\r\n\t\tlistOption: \"List Options\",\r\n\t\tlistFilters: [],\r\n\t\tallChecked: true,\r\n\t\tselectedDate: null\r\n\t}\r\n\t\r\n\tonSelectOption = (option) => {\r\n\t\tvar filtersCopy = this.state.listFilters.slice();\r\n\t\tif(option === \"All\") {\r\n\t\t\tthis.setState({listFilters: [], allChecked: !this.state.allChecked});\r\n\t\t\treturn;\r\n\t\t}\r\n\t\telse if(!filtersCopy.includes(option)) {\r\n\t\t\tfiltersCopy.push(option);\r\n\t\t}\r\n\t\telse if(filtersCopy.includes(option)) {\r\n\t\t\tfiltersCopy.splice(filtersCopy.indexOf(option), 1);\r\n\t\t}\r\n\t\tthis.setState({listFilters: filtersCopy, allChecked: false});\r\n\t}\r\n\t\r\n\ttoggleAddModal = async (date) => {\r\n\t\tawait this.setState({selectedDate: new Date(date)});\r\n\t\tthis.props.toggleAddModal();\r\n\t}\r\n\t\r\n\tonSelectEndDate = (date) => {\r\n\t\tthis.setState({endDate: date});\r\n\t}\r\n\t\r\n\tonSelectStartDate = (date) => {\r\n\t\tthis.setState({startDate: date});\r\n\t}\r\n\t\r\n\t//onclick event to handle edit button click\r\n\tonClickEdit = async (index, date) => {\r\n\t\tawait this.setState({editIndex: index, selectedDate: new Date(date)});\r\n\t\tthis.props.toggleEditModal(this.props.data.userData[index]);\r\n\t}\r\n\t\r\n\t//onclick event handler to delete an entry\r\n\tdeleteEntry = (index) => {\r\n\t\tvar approveDelete = window.confirm(\"Are you sure you want to delete this entry?\");\r\n\t\tif(approveDelete) {\r\n\t\t\tthis.props.data.userData.splice(index, 1);\r\n\t\t\tthis.props.saveData(this.props.data, \"delete\", \"Calendar\");\r\n\t\t}\r\n\t\telse {\r\n\t\t\treturn;\r\n\t\t}\r\n\t}\r\n\t\r\n\treload = () => {\r\n\t\tthis.forceUpdate();\r\n\t}\r\n\t\r\n\tgoalAchieved = (entry) => {\r\n\t\tvar numKey = \"Amount\";\r\n\t\tfor(var key in entry) {\r\n\t\t\tif(!isNaN(entry[key]) && entry[key].toString().trim().length !== 0) {\r\n\t\t\t\tnumKey = key;\r\n\t\t\t}\r\n\t\t}\r\n\t\tfor(var i = 0; i < this.props.data.goals.length; i++) {\r\n\t\t\tvar goal = this.props.data.goals[i];\r\n\t\t\tif(goal[\"Goal Type\"] === entry.Category) {\r\n\t\t\t\tif(!goal.deletable) {\r\n\t\t\t\t\tif(Number(goal.Fields[entry.Type]) === Number(entry[numKey])) {\r\n\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tvar isAchieved = false;\r\n\t\t\t\t\tfor(key in goal.Fields) {\r\n\t\t\t\t\t\tif(goal.Fields[key] === entry[key]) {\r\n\t\t\t\t\t\t\tisAchieved = true;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\tisAchieved = false;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(isAchieved) {\r\n\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n\t\r\n\tcreateOptionDropdown = () => {\r\n\t\tif(this.props.data === null || this.props.data === undefined) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\treturn (\r\n\t\t\t<Dropdown>\r\n\t\t\t\t<Dropdown.Toggle variant = \"primary\">\r\n\t\t\t\t\t{this.state.listOption}\r\n\t\t\t\t</Dropdown.Toggle>\r\n\t\t\t\t<Dropdown.Menu>\r\n\t\t\t\t\t<div style = {{margin: \"5%\"}}>\r\n\t\t\t\t\t\t{this.state.startDate === null || this.state.endDate === null || this.state.startDate.getTime() > this.state.endDate.getTime()\r\n\t\t\t\t\t\t\t?\r\n\t\t\t\t\t\t\t\t<Form.Check \r\n\t\t\t\t\t\t\t\ttype = \"checkbox\"\r\n\t\t\t\t\t\t\t\tlabel = \"All\"\r\n\t\t\t\t\t\t\t\tchecked = {true}\r\n\t\t\t\t\t\t\t\tdisabled = {true}\r\n\t\t\t\t\t\t\t\tonChange = {this.onSelectOption.bind(this, \"All\")}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t:\r\n\t\t\t\t\t\t\t\t<Form.Check \r\n\t\t\t\t\t\t\t\ttype = \"checkbox\"\r\n\t\t\t\t\t\t\t\tlabel = \"All\"\r\n\t\t\t\t\t\t\t\tchecked = {this.state.allChecked}\r\n\t\t\t\t\t\t\t\tonChange = {this.onSelectOption.bind(this, \"All\")}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t{this.props.data.metaData.categories.map((category, index) => {\t\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<Dropdown.Header>\r\n\t\t\t\t\t\t\t\t\t<strong> {category} </strong>\r\n\t\t\t\t\t\t\t\t</Dropdown.Header>\r\n\t\t\t\t\t\t\t\t{this.props.data.metaData.entryTypes.map((entry) => {\r\n\t\t\t\t\t\t\t\t\tif(category === entry.Category) {\r\n\t\t\t\t\t\t\t\t\t\tif(this.state.startDate === null || this.state.endDate === null || this.state.startDate.getTime() > this.state.endDate.getTime()) {\r\n\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div style = {{margin: \"5%\"}}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Check \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype = \"checkbox\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel = {entry.Type}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tchecked = {false}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled = {true}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange = {this.onSelectOption.bind(this, entry.Type)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\telse if(this.state.listFilters.length === 0) {\r\n\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div style = {{margin: \"5%\"}}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Check \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype = \"checkbox\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel = {entry.Type}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tchecked = {false}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange = {this.onSelectOption.bind(this, entry.Type)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t<div style = {{margin: \"5%\"}}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Form.Check \r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype = \"checkbox\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tlabel = {entry.Type}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange = {this.onSelectOption.bind(this, entry.Type)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t})}\r\n\t\t\t\t</Dropdown.Menu>\r\n\t\t\t</Dropdown>\r\n\t\t);\r\n\t}\r\n\t\r\n\tcalculateTotals = (data) => {\r\n\t\tvar totalList = [];\r\n\t\tfor(var i = 0; i < this.props.data.metaData.entryTypes.length; i++) {\r\n\t\t\tvar entryType = this.props.data.metaData.entryTypes[i];\r\n\t\t\tvar total = {Category: \"\", Type: \"\", calculationType: \"\", numOfEntries: 0, total: 0};\r\n\t\t\tfor(var x = 0; x < data.length; x++) {\r\n\t\t\t\tvar entry = data[x];\r\n\t\t\t\tvar numKey = \"\";\r\n\t\t\t\tfor(var key in entry) {\r\n\t\t\t\t\tif(!isNaN(entry[key]) && entry[key].length !== 0) {\r\n\t\t\t\t\t\tnumKey = key;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tif(entryType.Category === entry.Category && entryType.Type === entry.Type && entryType.calculationType !== \"none\" && numKey !== \"\") {\r\n\t\t\t\t\ttotal.Category = entry.Category;\r\n\t\t\t\t\ttotal.Type = entry.Type;\r\n\t\t\t\t\ttotal.calculationType = entryType.calculationType;\r\n\t\t\t\t\ttotal.numOfEntries = total.numOfEntries + 1;\r\n\t\t\t\t\ttotal.total = total.total + Number(entry[numKey]);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif(total.Category !== \"\" && total.Type !== \"\" && total.calculationType !== \"none\" && total.total !== 0) {\r\n\t\t\t\ttotalList.push(total);\r\n\t\t\t}\r\n\t\t}\r\n\t\tif(totalList.length === 0) {\r\n\t\t\treturn totalList;\r\n\t\t}\r\n\t\tvar results = [];\r\n\t\tfor(i = 0; i < totalList.length; i++) {\r\n\t\t\tvar total = totalList[i];\r\n\t\t\tvar result = {};\r\n\t\t\tif(total.numOfEntries === 1) {\r\n\t\t\t\tresult.Category = total.Category;\r\n\t\t\t\tresult.Type = total.Type;\r\n\t\t\t\tresult.Amount = total.total;\r\n\t\t\t\tresult.calculationType = total.calculationType.charAt(0).toUpperCase() + total.calculationType.slice(1);\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\t//only going to support add and average for now, since subtract, multiply, and divide don't really make sense for the given categories and types\r\n\t\t\t\tif(total.calculationType === \"add\") {\r\n\t\t\t\t\tresult.Category = total.Category;\r\n\t\t\t\t\tresult.Type = total.Type;\r\n\t\t\t\t\tresult.Amount = total.total;\r\n\t\t\t\t\tresult.calculationType = total.calculationType.charAt(0).toUpperCase() + total.calculationType.slice(1);\r\n\t\t\t\t}\r\n\t\t\t\telse if(total.calculationType === \"average\") {\r\n\t\t\t\t\tresult.Category = total.Category;\r\n\t\t\t\t\tresult.Type = total.Type;\r\n\t\t\t\t\tresult.Amount = (total.total / total.numOfEntries).toFixed(2);\r\n\t\t\t\t\tresult.calculationType = total.calculationType.charAt(0).toUpperCase() + total.calculationType.slice(1);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tresults.push(result);\r\n\t\t}\r\n\t\treturn results;\r\n\t}\r\n\t\r\n\ttoDateString = (date) => {\r\n\t\tif(date === null || date === undefined) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\tvar formattedDate = require('dateformat');\r\n\t\treturn formattedDate(date.toString(), \"fullDate\");\r\n\t}\r\n\t\r\n\tgetListData = () => {\r\n\t\tvar listData = [];\r\n\t\tif(this.state.startDate === null || this.state.endDate === null || this.state.startDate.getTime() > this.state.endDate.getTime()) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\t\r\n\t\tif(this.state.listFilters.length === 0 && !this.state.allChecked) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\t//all checkbox is selected\r\n\t\telse if(this.state.listFilters.length === 0 && this.state.allChecked) {\r\n\t\t\tfor(var i = 0; i < this.props.data.userData.length; i++) {\r\n\t\t\t\tconst entry = this.props.data.userData[i];\r\n\t\t\t\tconst entryDate = new Date(entry.Date);\r\n\t\t\t\tif(this.state.startDate.getTime() <= entryDate.getTime() && entryDate.getTime() <= this.state.endDate.getTime()) {\r\n\t\t\t\t\tentry.Date = entryDate.toLocaleDateString();\r\n\t\t\t\t\tlistData.push(entry);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\t//all is not selected and other checkboxes have been selected\r\n\t\telse {\r\n\t\t\tfor(i = 0; i < this.props.data.userData.length; i++) {\r\n\t\t\t\tconst entry = this.props.data.userData[i];\r\n\t\t\t\tconst entryDate = new Date(entry.Date);\r\n\t\t\t\tif(this.state.startDate.getTime() <= entryDate.getTime() && entryDate.getTime() <= this.state.endDate.getTime() && this.state.listFilters.includes(entry.Type)) {\r\n\t\t\t\t\tlistData.push(entry);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\t//sorting list data by date\r\n\t\tfor(i = 0; i < listData.length; i++) {\t\t\r\n\t\t\tvar min = i; \r\n\t\t\tfor(var x = i + 1; x < listData.length; x++) {\r\n\t\t\t\tif(new Date(listData[min].Date).getTime() > new Date(listData[x].Date).getTime()) {\r\n\t\t\t\t\tmin = x;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif(min !== i) {\r\n\t\t\t\tvar temp = listData[i];\r\n\t\t\t\tlistData[i] = listData[min];\r\n\t\t\t\tlistData[min] = temp;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn listData;\r\n\t}\r\n\t\r\n\tdisplayData = (listData) => {\r\n\t\tif(listData === null || listData === undefined) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\tconst dateStrings = [];\r\n\t\tfor(var i = 0; i < listData.length; i++) {\r\n\t\t\tif(this.state.startDate.getTime() <= new Date(listData[i].Date).getTime() && new Date(listData[i].Date).getTime() <= this.state.endDate.getTime()) {\r\n\t\t\t\tvar dateString = this.toDateString(new Date(listData[i].Date));\r\n\t\t\t\tif(!dateStrings.includes(dateString)) {\r\n\t\t\t\t\tdateStrings.push(dateString);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tconst cards = dateStrings.map((date, index) => {\r\n\t\t\tvar totalList = [];\r\n\t\t\treturn (\r\n\t\t\t\t<Card key = {uuid()}>\r\n\t\t\t\t\t<Card.Header>\r\n\t\t\t\t\t\t<Button variant = \"primary\" onClick = {this.toggleAddModal.bind(this, date)} style = {{float: \"right\"}}> + </Button>\r\n\t\t\t\t\t\t<Accordion.Toggle as = {Button} variant = \"link\" eventKey = {index}>\r\n\t\t\t\t\t\t\t{date}\r\n\t\t\t\t\t\t</Accordion.Toggle>\r\n\t\t\t\t\t</Card.Header>\r\n\t\t\t\t\t<Accordion.Collapse eventKey = {index}>\r\n\t\t\t\t\t\t<Card.Body>\r\n\t\t\t\t\t\t\t{this.props.data.userData.map((entry, index) => {\r\n\t\t\t\t\t\t\t\tif(this.state.listFilters.length === 0) {\r\n\t\t\t\t\t\t\t\t\tif(new Date(entry.Date).getTime() === new Date(date).getTime()) {\r\n\t\t\t\t\t\t\t\t\t\ttotalList.push(entry);\r\n\t\t\t\t\t\t\t\t\t\tif(this.goalAchieved(entry) && entry.calculationType === \"none\") {\r\n\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div> Goal Achieved 🏆 </div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{entry.displayOrder.map((key) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tif(key !== \"Notes\") {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ListGroup horizontal key = {uuid()}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ListGroup.Item style = {{width: \"40%\"}}> <strong> {key} </strong> </ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ListGroup.Item style = {{width: \"60%\"}}> {entry[key]} </ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</ListGroup>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tconst popover = (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Popover>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Popover.Title as = \"h3\"> {key} </Popover.Title>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Popover.Content> {entry[key]} </Popover.Content>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Popover>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div key = {uuid()}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<OverlayTrigger trigger = \"click\" placement = \"right\" overlay = {popover} rootClose = {true}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button variant = \"success\"> {key} </Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</OverlayTrigger>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button variant = \"light\" className = \"deleteEditButtons\" onClick = {this.deleteEntry.bind(this, index)}> 🗑️ </Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button variant = \"light\" className = \"deleteEditButtons\" onClick = {this.onClickEdit.bind(this, index, date)}> ✏️ </Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<hr style = {{border: \"1px solid black\"}} />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\tentry.displayOrder.map((key) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\tif(key !== \"Notes\") {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ListGroup horizontal key = {uuid()}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ListGroup.Item style = {{width: \"40%\"}}> <strong> {key} </strong> </ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ListGroup.Item style = {{width: \"60%\"}}> {entry[key]} </ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</ListGroup>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\tconst popover = (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Popover>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Popover.Title as = \"h3\"> {key} </Popover.Title>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Popover.Content> {entry[key]} </Popover.Content>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Popover>\r\n\t\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div key = {uuid()}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<OverlayTrigger trigger = \"click\" placement = \"right\" overlay = {popover} rootClose = {true}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button variant = \"success\"> {key} </Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</OverlayTrigger>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button variant = \"light\" className = \"deleteEditButtons\" onClick = {this.deleteEntry.bind(this, index)}> 🗑️ </Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button variant = \"light\" className = \"deleteEditButtons\" onClick = {this.onClickEdit.bind(this, index, date)}> ✏️ </Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<hr style = {{border: \"1px solid black\"}} />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\t\t\tif(new Date(entry.Date).getTime() === new Date(date).getTime() && this.state.listFilters.includes(entry.Type)) {\r\n\t\t\t\t\t\t\t\t\t\ttotalList.push(entry);\r\n\t\t\t\t\t\t\t\t\t\tif(this.goalAchieved(entry) && entry.calculationType === \"none\") {\r\n\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div> Goal Achieved 🏆 </div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{entry.displayOrder.map((key) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tif(key !== \"Notes\") {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ListGroup horizontal key = {uuid()}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ListGroup.Item style = {{width: \"40%\"}}> <strong> {key} </strong> </ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ListGroup.Item style = {{width: \"60%\"}}> {entry[key]} </ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</ListGroup>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tconst popover = (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Popover>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Popover.Title as = \"h3\"> {key} </Popover.Title>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Popover.Content> {entry[key]} </Popover.Content>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Popover>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div key = {uuid()}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<OverlayTrigger trigger = \"click\" placement = \"right\" overlay = {popover} rootClose = {true}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button variant = \"success\"> {key} </Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</OverlayTrigger>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button variant = \"light\" className = \"deleteEditButtons\" onClick = {this.deleteEntry.bind(this, index)}> 🗑️ </Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button variant = \"light\" className = \"deleteEditButtons\" onClick = {this.onClickEdit.bind(this, index, date)}> ✏️ </Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<hr style = {{border: \"1px solid black\"}} />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\tentry.displayOrder.map((key) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\tif(key !== \"Notes\") {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ListGroup horizontal key = {uuid()}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ListGroup.Item style = {{width: \"40%\"}}> <strong> {key} </strong> </ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ListGroup.Item style = {{width: \"60%\"}}> {entry[key]} </ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</ListGroup>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\tconst popover = (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Popover>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Popover.Title as = \"h3\"> {key} </Popover.Title>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Popover.Content> {entry[key]} </Popover.Content>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Popover>\r\n\t\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div key = {uuid()}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<OverlayTrigger trigger = \"click\" placement = \"right\" overlay = {popover} rootClose = {true}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button variant = \"success\"> {key} </Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</OverlayTrigger>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button variant = \"light\" className = \"deleteEditButtons\" onClick = {this.deleteEntry.bind(this, index)}> 🗑️ </Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button variant = \"light\" className = \"deleteEditButtons\" onClick = {this.onClickEdit.bind(this, index, date)}> ✏️ </Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<hr style = {{border: \"1px solid black\"}} />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t{this.calculateTotals(totalList).map((total) => {\r\n\t\t\t\t\t\t\t\t\tif(this.goalAchieved(total)) {\r\n\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div> Goal Achieved 🏆 </div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<ListGroup horizontal key = {uuid()}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{total.calculationType === \"Add\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t?\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ListGroup.Item style = {{width: \"50%\"}}> <strong> Total {total.Type}: </strong> </ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t:\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ListGroup.Item style = {{width: \"50%\"}}> <strong> {total.calculationType} {total.Type}: </strong> </ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<ListGroup.Item style = {{width: \"50%\"}}> {total.Amount} </ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</ListGroup>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t<ListGroup horizontal key = {uuid()}>\r\n\t\t\t\t\t\t\t\t\t\t\t{total.calculationType === \"Add\"\r\n\t\t\t\t\t\t\t\t\t\t\t?\r\n\t\t\t\t\t\t\t\t\t\t\t\t<ListGroup.Item style = {{width: \"50%\"}}> <strong> Total {total.Type}: </strong> </ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t:\r\n\t\t\t\t\t\t\t\t\t\t\t\t<ListGroup.Item style = {{width: \"50%\"}}> <strong> {total.calculationType} {total.Type}: </strong> </ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t<ListGroup.Item style = {{width: \"50%\"}}> {total.Amount} </ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t</ListGroup>\r\n\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</Card.Body>\r\n\t\t\t\t\t</Accordion.Collapse>\r\n\t\t\t\t</Card>\r\n\t\t\t);\r\n\t\t});\r\n\t\treturn (\r\n\t\t\t<Accordion> \r\n\t\t\t\t{cards} \r\n\t\t\t</Accordion>\r\n\t\t)\r\n\t}\r\n\t\r\n\trender() {\r\n\t\tconst startPicker = <Form.Control\r\n\t\t\t\t\t\t\t\ttype = \"input\"\r\n\t\t\t\t\t\t\t/>\r\n\t\tconst endPicker = <Form.Control\r\n\t\t\t\t\t\t\t\ttype = \"input\"\r\n\t\t\t\t\t\t\t/>\r\n\t\tconst optionDropdown = this.createOptionDropdown();\r\n\t\tconst listData = this.getListData();\r\n\t\tconst displayData = this.displayData(listData);\r\n\t\treturn (\r\n\t\t\t<Container fluid>\r\n\t\t\t{this.state.selectedDate === null\r\n\t\t\t?\r\n\t\t\t\t<div> </div>\r\n\t\t\t:\r\n\t\t\t\t<Row>\r\n\t\t\t\t\t<AddModal \r\n\t\t\t\t\t\tdata = {this.props.data} \r\n\t\t\t\t\t\tselectedDate = {this.state.selectedDate}\r\n\t\t\t\t\t\tsaveData = {this.props.saveData}\r\n\t\t\t\t\t\ttoDateString = {this.toDateString}\r\n\t\t\t\t\t\taddModalShow = {this.props.addModalShow}\r\n\t\t\t\t\t\tisSaving = {this.props.isSaving}\r\n\t\t\t\t\t\ttoggleAddModal = {this.props.toggleAddModal}\r\n\t\t\t\t\t\ttoggleSaveBar = {this.props.toggleSaveBar}\r\n\t\t\t\t\t\treloadCalendar = {this.reload}\r\n\t\t\t\t\t\tcreateDateList = {this.createDateList}\r\n\t\t\t\t\t/> \r\n\r\n\t\t\t\t\t<EditModal \r\n\t\t\t\t\t\tdata = {this.props.data}\r\n\t\t\t\t\t\teditModalShow = {this.props.editModalShow}\r\n\t\t\t\t\t\tselectedDate = {this.state.selectedDate}\r\n\t\t\t\t\t\ttoDateString = {this.toDateString}\r\n\t\t\t\t\t\tisSaving = {this.props.isSaving}\r\n\t\t\t\t\t\ttoggleEditModal = {this.props.toggleEditModal}\r\n\t\t\t\t\t\ttoggleSaveBar = {this.props.toggleSaveBar}\r\n\t\t\t\t\t\treloadCalendar = {this.reload}\r\n\t\t\t\t\t\tsaveData = {this.props.saveData}\r\n\t\t\t\t\t\tdataToEdit = {this.props.dataToEdit}\r\n\t\t\t\t\t\teditIndex = {this.state.editIndex}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Row>\r\n\t\t\t}\r\n\t\t\t\t<Row>\r\n\t\t\t\t\t<Col lg = {2}>\r\n\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t{optionDropdown}\r\n\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t<p> <u> Start Date </u> </p>\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t<DatePicker\r\n\t\t\t\t\t\t\t\t\t\t\tselected = {this.state.startDate}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange = {this.onSelectStartDate}\r\n\t\t\t\t\t\t\t\t\t\t\tcustomInput = {startPicker}\r\n\t\t\t\t\t\t\t\t\t\t\tplaceholderText = \"mm/dd/yyyy\"\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t<Col style = {{marginBottom: \"1%\"}}>\r\n\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t<p> <u> End Date </u> </p>\t\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t<DatePicker\r\n\t\t\t\t\t\t\t\t\t\t\tselected = {this.state.endDate}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange = {this.onSelectEndDate}\r\n\t\t\t\t\t\t\t\t\t\t\tcustomInput = {endPicker}\r\n\t\t\t\t\t\t\t\t\t\t\tplaceholderText = \"mm/dd/yyyy\"\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t{this.state.allChecked \r\n\t\t\t\t\t\t\t\t?\r\n\t\t\t\t\t\t\t\t\t<Card>\r\n\t\t\t\t\t\t\t\t\t\t<Card.Body>\r\n\t\t\t\t\t\t\t\t\t\t\t<Card.Title>\r\n\t\t\t\t\t\t\t\t\t\t\t\tOptions Selected\r\n\t\t\t\t\t\t\t\t\t\t\t</Card.Title>\r\n\t\t\t\t\t\t\t\t\t\t\t<Card.Text>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<li> All </li>\r\n\t\t\t\t\t\t\t\t\t\t\t</Card.Text>\r\n\t\t\t\t\t\t\t\t\t\t</Card.Body>\r\n\t\t\t\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t\t\t\t:\r\n\t\t\t\t\t\t\t\t\t<Card>\r\n\t\t\t\t\t\t\t\t\t\t<Card.Body>\r\n\t\t\t\t\t\t\t\t\t\t\t<Card.Title>\r\n\t\t\t\t\t\t\t\t\t\t\t\tOptions Selected\r\n\t\t\t\t\t\t\t\t\t\t\t</Card.Title>\r\n\t\t\t\t\t\t\t\t\t\t\t<Card.Text>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{this.state.listFilters.map((filter) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<li> {filter} </li>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t\t\t</Card.Text>\r\n\t\t\t\t\t\t\t\t\t\t</Card.Body>\r\n\t\t\t\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t\t<Col lg = {10}>\r\n\t\t\t\t\t\t<div className = \"list-container\">\r\n\t\t\t\t\t\t\t{this.state.startDate === null || this.state.endDate === null || this.state.startDate.getTime() > this.state.endDate.getTime()\r\n\t\t\t\t\t\t\t\t?\r\n\t\t\t\t\t\t\t\t\t<h3> <i> Select a start and end date to view your training data. </i> </h3>\r\n\t\t\t\t\t\t\t\t:\r\n\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t{displayData}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t}\t\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t</Row>\r\n\t\t\t</Container>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default DataList;","import React, { Component } from 'react';\r\nimport Container from 'react-bootstrap/Container';\r\nimport Row from 'react-bootstrap/Row';\r\nimport Col from 'react-bootstrap/Col';\r\nimport Button from 'react-bootstrap/Button';\r\nimport Accordion from 'react-bootstrap/Accordion';\r\nimport Card from 'react-bootstrap/Card';\r\nimport ListGroup from 'react-bootstrap/ListGroup';\r\nimport Overlay from 'react-bootstrap/Overlay';\r\nimport OverlayTrigger from 'react-bootstrap/OverlayTrigger';\r\nimport Popover from 'react-bootstrap/Popover';\r\nimport PopoverContent from 'react-bootstrap/PopoverContent';\r\nimport PopoverTitle from 'react-bootstrap/PopoverTitle';\r\nimport uuid from 'react-uuid';\r\nimport Table from 'react-bootstrap/Table';\r\nimport DatePicker from 'react-datepicker';\r\nimport Dropdown from 'react-bootstrap/Dropdown';\r\nimport Form from 'react-bootstrap/Form';\r\nimport FormControl from 'react-bootstrap/FormControl';\r\nimport CardDeck from 'react-bootstrap/CardDeck';\r\nimport Modal from \"react-bootstrap/Modal\";\r\nimport Alert from 'react-bootstrap/Alert';\r\nimport Pie from 'react-chartjs-2';\r\nimport InputGroup from 'react-bootstrap/InputGroup';\r\nimport DropdownButton from 'react-bootstrap/DropdownButton';\r\nimport Tooltip from 'react-bootstrap/Tooltip';\r\n\r\nclass Goals extends Component {\r\n\t\r\n\tstate = {\r\n\t\tediting: false,\r\n\t\tadding: false, \r\n\t\tgoalEditing: \"\",\r\n\t\tgoalAdding: \"\",\r\n\t\teditingData: {},\r\n\t\taddingData: {},\r\n\t\tgoalIndex: -1,\r\n\t\tdata: null,\r\n\t\tinvalidFields: false,\r\n\t\talertMessage: \"\",\r\n\t\tcolors: ['#0088FE', '#00C49F', '#FFBB28', '#FF8042'],\r\n\t\tnameMenuShow: false\r\n\t\t\r\n\t}\r\n\t\r\n\tcomponentDidMount = () => {\r\n\t\tthis.setState({data: this.props.data});\r\n\t}\r\n\t\r\n\topenEditModal = (category, index) => {\r\n\t\tvar editingData = this.state.data.goals[index];\r\n\t\tthis.setState({editing: true, goalEditing: category, editingData: editingData, goalIndex: index});\r\n\t}\r\n\t\r\n\tcloseEditModal = () => {\r\n\t\tthis.setState({editing: false, goalEditing: \"\", editingData: {}, goalIndex: -1, alertMessage: \"\", invalidFields: false});\r\n\t}\r\n\t\r\n\topenAddModal = (category) => {\r\n\t\tvar addingData = {};\r\n\t\tfor(var key in this.state.data.metaData.goalStructure) {\r\n\t\t\taddingData[key] = this.state.data.metaData.goalStructure[key];\r\n\t\t}\r\n\t\taddingData[\"Goal Type\"] = category;\r\n\t\taddingData.Fields = {};\r\n\t\tfor(var i = 0; i < this.state.data.metaData.entryTypes.length; i++) {\r\n\t\t\tvar entry = this.state.data.metaData.entryTypes[i];\r\n\t\t\tif(category === entry.Category) {\r\n\t\t\t\taddingData.Fields.Type = \"\";\r\n\t\t\t}\r\n\t\t}\r\n\t\tthis.setState({adding: true, goalAdding: category, addingData: addingData});\r\n\t}\r\n\t\r\n\tcloseAddModal = () => {\r\n\t\tthis.setState({adding: false, goalAdding: \"\", addingData: {}, alertMessage: \"\", invalidFields: false});\r\n\t}\r\n\t\r\n\tonChangeEdit = (e) => {\r\n\t\tvar name = [e.target.name][0];\r\n\t\tvar value = e.target.value;\r\n\t\tvar dataCopy = JSON.parse(JSON.stringify(this.state.editingData));\r\n\t\tdataCopy.Fields[name] = value;\r\n\t\tthis.setState({editingData: dataCopy});\r\n\t}\r\n\t\r\n\tonClickRootClose = () => {\r\n\t\tif(this.state.nameMenuShow) {\r\n\t\t\tthis.setState({nameMenuShow: false});\r\n\t\t}\r\n\t\telse {\r\n\t\t\tthis.setState({nameMenuShow: true});\r\n\t\t}\r\n\t}\r\n\t\r\n\tshowNameList = (nameSearch) => {\r\n\t\tif(nameSearch.length === 0) {\r\n\t\t\tthis.setState({nameMenuShow: false});\r\n\t\t}\r\n\t\telse {\r\n\t\t\tthis.setState({nameMenuShow: true});\r\n\t\t}\r\n\t}\r\n\t\r\n\tonSelectName = (value) => {\r\n\t\tvar dataCopy = JSON.parse(JSON.stringify(this.state.addingData));\r\n\t\tdataCopy.Fields.Name = value;\r\n\t\tthis.setState({addingData: dataCopy});\r\n\t}\r\n\t\r\n\tonChangeAdd = (e) => {\r\n\t\tvar name = [e.target.name][0];\r\n\t\tvar value = e.target.value;\r\n\t\tvar dataCopy = JSON.parse(JSON.stringify(this.state.addingData));\r\n\t\tif(name === \"Type\") {\r\n\t\t\tdataCopy.Fields = {};\r\n\t\t\tdataCopy.Fields[name] = value;\r\n\t\t\tfor(var i = 0; i < this.state.data.metaData.entryTypes.length; i++) {\r\n\t\t\t\tvar entry = this.state.data.metaData.entryTypes[i];\r\n\t\t\t\tif(entry.Category === this.state.goalAdding && entry.Type === value) {\r\n\t\t\t\t\tfor(var x = 0; x < entry.displayOrder.length; x++) {\r\n\t\t\t\t\t\tvar field = entry.displayOrder[x];\r\n\t\t\t\t\t\tif(entry[field] === \"string\" && field !== \"Notes\" && field !== \"Category\") {\r\n\t\t\t\t\t\t\tdataCopy.Fields[field] = \"\";\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse if(entry[field] === \"number\") {\r\n\t\t\t\t\t\t\tdataCopy.Fields[field] = 0;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\telse if(name === \"Name\") {\r\n\t\t\tthis.showNameList(value);\r\n\t\t\tdataCopy.Fields[name] = value;\r\n\t\t}\r\n\t\telse {\r\n\t\t\tdataCopy.Fields[name] = value;\r\n\t\t}\r\n\t\tthis.setState({addingData: dataCopy});\r\n\t}\r\n\t\r\n\tdeleteGoal = async (goalIndex) => {\r\n\t\tvar dataCopy = JSON.parse(JSON.stringify(this.state.data));\r\n\t\tif(window.confirm(\"Are you sure you want to delete this goal?\")) {\r\n\t\t\tdataCopy.goals.splice(goalIndex, 1);\r\n\t\t\tthis.setState({data: dataCopy});\r\n\t\t\tawait this.props.saveData(dataCopy, \"save\", \"Goals\");\r\n\t\t}\r\n\t}\r\n\t\r\n\tshowAlert = (msg) => {\r\n\t\tthis.setState({invalidFields: true, alertMessage: msg});\r\n\t}\r\n\t\r\n\thideAlert = () => {\r\n\t\tthis.setState({invalidFields: false, alertMessage: \"\"});\r\n\t}\r\n\t\r\n\tcheckEditFields = () => {\r\n\t\tvar entryType = null;\r\n\t\tfor(var i = 0; i < this.state.data.metaData.entryTypes.length; i++) {\r\n\t\t\tvar entry = this.state.data.metaData.entryTypes[i];\r\n\t\t\tif(entry.Category === this.state.editingData[\"Goal Type\"] && Object.keys(this.state.editingData.Fields).includes(entry.Type)) {\r\n\t\t\t\tentryType = entry;\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\telse if(entry.Category === this.state.editingData[\"Goal Type\"] && this.state.editingData.Fields.Type === entry.Type) {\r\n\t\t\t\tentryType = entry;\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t\tif(entryType === null) {\r\n\t\t\talert(\"Sorry, an error occurred -- you cannot update this goal\");\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tfor(var key in this.state.editingData.Fields) {\r\n\t\t\tif(this.state.editingData.Fields[key].toString().trim().length === 0) {\r\n\t\t\t\tthis.showAlert(\"Cannot save data. You're missing some required fields!\");\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\telse if(entryType[key] === \"number\" && isNaN(this.state.editingData.Fields[key])) {\r\n\t\t\t\tthis.showAlert(\"'\" + key + \"' \" + \"must be a number!\");\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn true;\r\n\t}\r\n\t\r\n\tcheckAddFields = () => {\r\n\t\tvar entryType = null;\r\n\t\tfor(var i = 0; i < this.state.data.metaData.entryTypes.length; i++) {\r\n\t\t\tvar entry = this.state.data.metaData.entryTypes[i];\r\n\t\t\tif(entry.Category === this.state.addingData[\"Goal Type\"] && entry.Type === this.state.addingData.Fields.Type) {\r\n\t\t\t\tentryType = entry;\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t\tfor(var key in this.state.addingData.Fields) {\r\n\t\t\tif(this.state.addingData.Fields[key].toString().trim().length === 0) {\r\n\t\t\t\tthis.showAlert(\"Cannot save data. You're missing some required fields!\");\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\telse if(entryType[key] === \"number\" && isNaN(this.state.addingData.Fields[key])) {\r\n\t\t\t\tthis.showAlert(\"'\" + key + \"' \" + \"must be a number!\");\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn true;\r\n\t}\r\n\t\r\n\tonClickSaveEdit = async () => {\r\n\t\tif(this.checkEditFields()) {\r\n\t\t\tvar dataCopy = JSON.parse(JSON.stringify(this.state.data));\r\n\t\t\tfor(var key in this.state.editingData.Fields) {\r\n\t\t\t\tthis.state.editingData.Fields[key] = this.state.editingData.Fields[key].toString().trim();\r\n\t\t\t}\r\n\t\t\tthis.state.editingData.lastUpdated = new Date();\r\n\t\t\tdataCopy.goals[this.state.goalIndex] = this.state.editingData;\r\n\t\t\tthis.setState({data: dataCopy});\r\n\t\t\tawait this.props.saveData(dataCopy, \"save\", \"Goals\");\r\n\t\t\tthis.closeEditModal();\r\n\t\t}\r\n\t\telse {\r\n\t\t\treturn;\r\n\t\t}\r\n\t}\r\n\t\r\n\tonClickSaveAdd = async () => {\r\n\t\tif(this.checkAddFields()) {\r\n\t\t\tvar dataCopy = JSON.parse(JSON.stringify(this.state.data));\r\n\t\t\tfor(var key in this.state.addingData.Fields) {\r\n\t\t\t\tthis.state.addingData.Fields[key] = this.state.addingData.Fields[key].toString().trim();\r\n\t\t\t}\r\n\t\t\tthis.state.addingData.lastUpdated = new Date();\r\n\t\t\tthis.state.addingData.fieldOrder = Object.keys(this.state.addingData.Fields);\r\n\t\t\tdataCopy.goals.push(this.state.addingData);\r\n\t\t\tthis.setState({data: dataCopy});\r\n\t\t\tawait this.props.saveData(dataCopy, \"save\", \"Goals\");\r\n\t\t\tthis.closeAddModal();\r\n\t\t}\r\n\t\telse {\r\n\t\t\treturn;\r\n\t\t}\r\n\t}\r\n\t\r\n\tvalidateMacros = () => {\r\n\t\tvar percentageTotal = 0;\r\n\t\tfor(var key in this.state.editingData.Fields) {\r\n\t\t\tif(key !== \"Calories\") {\r\n\t\t\t\tpercentageTotal = percentageTotal + Number(this.state.editingData.Fields[key])\r\n\t\t\t}\r\n\t\t}\r\n\t\tif(percentageTotal !== 100) {\r\n\t\t\tthis.showAlert(\"Macronutrients must total 100%\");\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\treturn true;\r\n\t}\r\n\t\r\n\tconstructPieData = (fields) => {\r\n\t\tvar data = [];\r\n\t\tvar labels = [];\r\n\t\tfor(var key in fields) {\r\n\t\t\tif(key !== \"Calories\" && !isNaN(fields[key])) {\r\n\t\t\t\tdata.push(fields[key]);\r\n\t\t\t\tlabels.push(key);\r\n\t\t\t}\r\n\t\t}\r\n\t\tvar pieData = {\r\n\t\t\tdatasets: [{\r\n\t\t\t\tdata: data,\r\n\t\t\t\tbackgroundColor: [\r\n\t\t\t\t\t'#FF6384',\r\n\t\t\t\t\t'#36A2EB',\r\n\t\t\t\t\t'#FFCE56',\r\n\t\t\t\t\t'#484a47',\r\n\t\t\t\t\t'#a37774',\r\n\t\t\t\t\t'#e88873',\r\n\t\t\t\t\t'#e0ac9d',\r\n\t\t\t\t\t'#7ebdc2',\r\n\t\t\t\t\t'#f3dfa2',\r\n\t\t\t\t\t'#efe6dd',\r\n\t\t\t\t\t],\r\n\t\t\t\thoverBackgroundColor: [\r\n\t\t\t\t\t'#FF6384',\r\n\t\t\t\t\t'#36A2EB',\r\n\t\t\t\t\t'#FFCE56',\r\n\t\t\t\t\t'#484a47',\r\n\t\t\t\t\t'#a37774',\r\n\t\t\t\t\t'#e88873',\r\n\t\t\t\t\t'#e0ac9d',\r\n\t\t\t\t\t'#7ebdc2',\r\n\t\t\t\t\t'#f3dfa2',\r\n\t\t\t\t\t'#efe6dd',\r\n\t\t\t\t]\r\n\t\t\t}],\r\n\t\t\tlabels: labels,\r\n\t\t}\r\n\t\treturn pieData;\r\n\t}\r\n\t\r\n\trender() {\r\n\t\tif(this.state.data === null) {\r\n\t\t\treturn (\r\n\t\t\t\t<div> </div>\r\n\t\t\t);\r\n\t\t}\r\n\t\treturn (\r\n\t\t\t<Container fluid>\r\n\t\t\t\t{this.state.editing \r\n\t\t\t\t\t?\r\n\t\t\t\t\t\t<Modal size = \"lg\" show = {this.state.editing} onHide = {this.closeEditModal.bind(this)}>\r\n\t\t\t\t\t\t\t<Modal.Header closeButton>\r\n\t\t\t\t\t\t\t\t<Modal.Title as = \"h5\"> Edit {this.state.goalEditing} Goal </Modal.Title>\r\n\t\t\t\t\t\t\t</Modal.Header>\r\n\t\t\t\t\t\t\t<Modal.Body>\r\n\t\t\t\t\t\t\t{!this.state.editingData.deletable\r\n\t\t\t\t\t\t\t?\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t{this.state.editingData.fieldOrder.map((field) => {\r\n\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t<ListGroup horizontal>\r\n\t\t\t\t\t\t\t\t\t\t\t<ListGroup.Item style = {{width: \"50%\"}}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{field}\r\n\t\t\t\t\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t<ListGroup.Item style = {{width: \"50%\"}}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tas = \"input\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tautoComplete = \"off\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname = {field}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue = {this.state.editingData.Fields[field]}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange = {(e) => {this.onChangeEdit(e)}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t</ListGroup>\r\n\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t:\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t{this.state.editingData.fieldOrder.map((field) => {\r\n\t\t\t\t\t\t\t\t\tif(field === \"Type\") {\r\n\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t<ListGroup horizontal>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<ListGroup.Item style = {{width: \"50%\"}}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{field}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<ListGroup.Item style = {{width: \"50%\"}}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Control \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tas = \"select\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tname = {field}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue = {this.state.editingData.Fields[field]}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange = {(e) => {this.onChangeEdit(e)}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled = {true}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option  value = \"\" selected disabled hidden> Select </option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{this.props.data.metaData.entryTypes.map((entry) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif(this.state.goalEditing === entry.Category) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option value = {entry.Type}> {entry.Type} </option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Form.Control>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t</ListGroup>\r\n\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\telse if (field === \"Name\") {\r\n\t\t\t\t\t\t\t\t\t\tvar nameList = [];\r\n\t\t\t\t\t\t\t\t\t\tfor(var i = 0; i < this.state.data.entryNames.length ; i++) {\r\n\t\t\t\t\t\t\t\t\t\t\tvar nameData = this.state.data.entryNames[i];\r\n\t\t\t\t\t\t\t\t\t\t\tif(this.state.goalEditing === nameData.Category && this.state.editingData.Fields.Type === nameData.Type) {\r\n\t\t\t\t\t\t\t\t\t\t\t\tnameList.push(nameData.Name);\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t<ListGroup horizontal>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<ListGroup.Item style = {{width: \"50%\"}}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{field}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<ListGroup.Item style = {{width: \"50%\"}}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<InputGroup>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tas = \"input\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tautoComplete = \"off\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname = {field}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue = {this.state.editingData.Fields[field]}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange = {(e) => {this.onChangeEdit(e)}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Dropdown show = {this.state.nameMenuShow} as = {InputGroup.Prepend} onToggle = {this.onClickRootClose.bind(this)}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Dropdown.Toggle variant = \"outline-secondary\" eventKey = \"00\"> </Dropdown.Toggle>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Dropdown.Menu rootCloseEvent = \"click\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{nameList.map((name) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Dropdown.Item onSelect = {this.onSelectName.bind(this, name)} >\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{name}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Dropdown.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Dropdown.Menu>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Dropdown> \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</InputGroup> \r\n\t\t\t\t\t\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t</ListGroup>\r\n\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t<ListGroup horizontal>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<ListGroup.Item style = {{width: \"50%\"}}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{field}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<ListGroup.Item style = {{width: \"50%\"}}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tas = \"input\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tautoComplete = \"off\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tname = {field}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue = {this.state.editingData.Fields[field]}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange = {(e) => {this.onChangeEdit(e)}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t</ListGroup>\r\n\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t</Modal.Body>\r\n\t\t\t\t\t\t\t<Modal.Footer>\r\n\t\t\t\t\t\t\t\t{this.state.invalidFields \r\n\t\t\t\t\t\t\t\t\t?\r\n\t\t\t\t\t\t\t\t\t\t<Alert show = {this.state.invalidFields} variant = \"danger\" onClose = {this.hideAlert.bind(this)} dismissible>\r\n\t\t\t\t\t\t\t\t\t\t\t<p> {this.state.alertMessage} </p>\r\n\t\t\t\t\t\t\t\t\t\t</Alert>\r\n\t\t\t\t\t\t\t\t\t:\r\n\t\t\t\t\t\t\t\t\t\t<div> </div>\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t<Button variant = \"secondary\" onClick = {this.closeEditModal.bind(this)}> Close </Button>\r\n\t\t\t\t\t\t\t\t<Button variant = \"primary\" onClick = {this.onClickSaveEdit.bind(this)}> Save </Button>\r\n\t\t\t\t\t\t\t</Modal.Footer>\r\n\t\t\t\t\t\t</Modal>\r\n\t\t\t\t\t:\r\n\t\t\t\t\t<div> </div>\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t{this.state.adding \r\n\t\t\t\t\t?\r\n\t\t\t\t\t\t<Modal size = \"lg\" show = {this.state.adding} onHide = {this.closeAddModal.bind(this)}>\r\n\t\t\t\t\t\t\t<Modal.Header closeButton>\r\n\t\t\t\t\t\t\t\t<Modal.Title as = \"h5\"> Add {this.state.goalAdding} Goal </Modal.Title>\r\n\t\t\t\t\t\t\t</Modal.Header>\r\n\t\t\t\t\t\t\t<Modal.Body>\r\n\t\t\t\t\t\t\t{this.state.goalAdding !== \"Diet\" && this.state.goalAdding !== \"Body\"\r\n\t\t\t\t\t\t\t?\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t{Object.keys(this.state.addingData.Fields).map((field) => {\r\n\t\t\t\t\t\t\t\t\tif(field === \"Type\") {\r\n\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t<ListGroup horizontal>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<ListGroup.Item style = {{width: \"50%\"}}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{field} \r\n\t\t\t\t\t\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<ListGroup.Item style = {{width: \"50%\"}}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Control \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tas = \"select\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tname = {field}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue = {this.state.addingData.Fields[field]}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange = {(e) => {this.onChangeAdd(e)}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option  value = \"\" selected disabled hidden> Select </option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{this.props.data.metaData.entryTypes.map((entry) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif(this.state.goalAdding === entry.Category) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option value = {entry.Type}> {entry.Type} </option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Form.Control>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t</ListGroup>\r\n\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\telse if (field === \"Name\") {\r\n\t\t\t\t\t\t\t\t\t\tvar nameList = [];\r\n\t\t\t\t\t\t\t\t\t\tfor(var i = 0; i < this.state.data.entryNames.length ; i++) {\r\n\t\t\t\t\t\t\t\t\t\t\tvar nameData = this.state.data.entryNames[i];\r\n\t\t\t\t\t\t\t\t\t\t\tif(this.state.goalAdding === nameData.Category && this.state.addingData.Fields.Type === nameData.Type) {\r\n\t\t\t\t\t\t\t\t\t\t\t\tnameList.push(nameData.Name);\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t<ListGroup horizontal>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<ListGroup.Item style = {{width: \"50%\"}}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{field}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<ListGroup.Item style = {{width: \"50%\"}}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<InputGroup>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tas = \"input\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tautoComplete = \"off\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname = {field}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue = {this.state.addingData.Fields[field]}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange = {(e) => {this.onChangeAdd(e)}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Dropdown show = {this.state.nameMenuShow} as = {InputGroup.Prepend} onToggle = {this.onClickRootClose.bind(this)}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Dropdown.Toggle variant = \"outline-secondary\" eventKey = \"00\"> </Dropdown.Toggle>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Dropdown.Menu rootCloseEvent = \"click\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{nameList.map((name) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Dropdown.Item onSelect = {this.onSelectName.bind(this, name)} >\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{name}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Dropdown.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Dropdown.Menu>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Dropdown> \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</InputGroup> \r\n\t\t\t\t\t\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t</ListGroup>\r\n\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t<ListGroup horizontal>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<ListGroup.Item style = {{width: \"50%\"}}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{field}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<ListGroup.Item style = {{width: \"50%\"}}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tas = \"input\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tname = {field}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue = {this.state.addingData.Fields[field]}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange = {(e) => {this.onChangeAdd(e)}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t</ListGroup>\r\n\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t:\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t{Object.keys(this.state.addingData.Fields).map((field) => {\r\n\t\t\t\t\t\t\t\t\tif(field === \"Type\") {\r\n\t\t\t\t\t\t\t\t\t\tvar toolTip = <Tooltip> The default {this.state.goalAdding} fields cannot be edited, deleted, or added. If you want to add additional {this.state.goalAdding} goals, \r\n\t\t\t\t\t\t\t\t\t\t\tthen add a new Type under the Customize Data tab in your Profile page. </Tooltip>\r\n\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t<ListGroup horizontal>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<ListGroup.Item style = {{width: \"50%\"}}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{field}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<OverlayTrigger\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tplacement = \"right\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdelay = {{ show: 250, hide: 400 }}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\toverlay = {toolTip}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button variant = \"light\" size = \"sm\" style = {{marginLeft: \"1.5%\"}}> ℹ️ </Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</OverlayTrigger>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<ListGroup.Item style = {{width: \"50%\"}}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Control \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tas = \"select\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tname = {field}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue = {this.state.addingData.Fields[field]}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange = {(e) => {this.onChangeAdd(e)}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option  value = \"\" selected disabled hidden> Select </option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{this.props.data.metaData.entryTypes.map((entry) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif(this.state.goalAdding === entry.Category && !this.state.data.metaData.nonDeletableGoalFields.includes(entry.Type)) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option value = {entry.Type}> {entry.Type} </option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Form.Control>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t</ListGroup>\r\n\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\telse if (field === \"Name\") {\r\n\t\t\t\t\t\t\t\t\t\tvar nameList = [];\r\n\t\t\t\t\t\t\t\t\t\tfor(var i = 0; i < this.state.data.entryNames.length ; i++) {\r\n\t\t\t\t\t\t\t\t\t\t\tvar nameData = this.state.data.entryNames[i];\r\n\t\t\t\t\t\t\t\t\t\t\tif(this.state.goalAdding === nameData.Category && this.state.addingData.Fields.Type === nameData.Type) {\r\n\t\t\t\t\t\t\t\t\t\t\t\tnameList.push(nameData.Name);\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t<ListGroup horizontal>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<ListGroup.Item style = {{width: \"50%\"}}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{field}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<ListGroup.Item style = {{width: \"50%\"}}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<InputGroup>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tas = \"input\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tautoComplete = \"off\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname = {field}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue = {this.state.addingData.Fields[field]}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange = {(e) => {this.onChangeAdd(e)}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Dropdown show = {this.state.nameMenuShow} as = {InputGroup.Prepend} onToggle = {this.onClickRootClose.bind(this)}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Dropdown.Toggle variant = \"outline-secondary\" eventKey = \"00\"> </Dropdown.Toggle>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Dropdown.Menu rootCloseEvent = \"click\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{nameList.map((name) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Dropdown.Item onSelect = {this.onSelectName.bind(this, name)} >\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{name}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Dropdown.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Dropdown.Menu>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Dropdown> \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</InputGroup> \r\n\t\t\t\t\t\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t</ListGroup>\r\n\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t<ListGroup horizontal>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<ListGroup.Item style = {{width: \"50%\"}}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{field}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<ListGroup.Item style = {{width: \"50%\"}}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tas = \"input\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tname = {field}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue = {this.state.addingData.Fields[field]}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange = {(e) => {this.onChangeAdd(e)}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t</ListGroup>\r\n\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t</Modal.Body>\r\n\t\t\t\t\t\t\t<Modal.Footer>\r\n\t\t\t\t\t\t\t\t{this.state.invalidFields \r\n\t\t\t\t\t\t\t\t\t?\r\n\t\t\t\t\t\t\t\t\t\t<Alert show = {this.state.invalidFields} variant = \"danger\" onClose = {this.hideAlert.bind(this)} dismissible>\r\n\t\t\t\t\t\t\t\t\t\t\t<p> {this.state.alertMessage} </p>\r\n\t\t\t\t\t\t\t\t\t\t</Alert>\r\n\t\t\t\t\t\t\t\t\t:\r\n\t\t\t\t\t\t\t\t\t\t<div> </div>\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t<Button variant = \"secondary\" onClick = {this.closeAddModal.bind(this)}> Close </Button>\r\n\t\t\t\t\t\t\t\t<Button variant = \"primary\" onClick = {this.onClickSaveAdd.bind(this)}> Save </Button>\r\n\t\t\t\t\t\t\t</Modal.Footer>\r\n\t\t\t\t\t\t</Modal>\r\n\t\t\t\t\t:\r\n\t\t\t\t\t\t<div> </div>\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t{this.state.data.metaData.categories.map((category) => {\r\n\t\t\t\tvar lastUpdated = \"\";\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<Card>\r\n\t\t\t\t\t\t\t<Card.Body>\r\n\t\t\t\t\t\t\t\t<Card.Title> \r\n\t\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t\t{category} Goals \r\n\t\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t\t<Button variant = \"primary\" style = {{float: \"right\"}} onClick = {this.openAddModal.bind(this, category)}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t+\r\n\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t</Card.Title>\r\n\t\t\t\t\t\t\t\t<Card.Text>\r\n\t\t\t\t\t\t\t\t{this.state.data.goals.map((goal, goalIndex) => {\r\n\t\t\t\t\t\t\t\t\tvar pieData = this.constructPieData(goal.Fields);\r\n\t\t\t\t\t\t\t\t\tif(goal[\"Goal Type\"] === category) {\r\n\t\t\t\t\t\t\t\t\t\tif(goal.lastUpdated !== \"\") {\r\n\t\t\t\t\t\t\t\t\t\t\tif(lastUpdated === \"\") {\r\n\t\t\t\t\t\t\t\t\t\t\t\tlastUpdated = new Date(goal.lastUpdated);\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\t\t\t\t\t\tif(new Date(lastUpdated).getTime() < new Date(goal.lastUpdated).getTime()) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tlastUpdated = new Date(goal.lastUpdated).toLocaleString();\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\treturn <div>\r\n\t\t\t\t\t\t\t\t\t\t<Row> \r\n\t\t\t\t\t\t\t\t\t\t\t<Col sm = {6}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{goal.fieldOrder.map((field) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ListGroup horizontal>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ListGroup.Item style = {{width: \"50%\"}} variant = \"primary\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{field}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ListGroup.Item style = {{width: \"50%\"}}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{goal.Fields[field]}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</ListGroup>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Row style = {{marginTop: \"1%\"}}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button variant = \"light\" \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle = {{float: \"left\", margin: \"1%\", backgroundColor: \"#E0E0E0\"}} \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick = {this.openEditModal.bind(this, category, goalIndex)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t> \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t✏️ \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{goal.deletable\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t?\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button variant = \"light\" style = {{float: \"left\", margin: \"1%\", backgroundColor: \"#E0E0E0\"}} onClick = {this.deleteGoal.bind(this, goalIndex)}> 🗑️ </Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t:\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div> </div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t<Col sm = {6}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Card>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Card.Body>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Card.Title> {category} Analysis </Card.Title>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Card.Text>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Pie data = {pieData} options={{ maintainAspectRatio: false }}/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Card.Text>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Card.Body>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<hr style = {{border: \"1px solid #DCDCDC\"}} />\r\n\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t</Card.Text>\r\n\t\t\t\t\t\t\t</Card.Body>\r\n\t\t\t\t\t\t\t<Card.Footer>\r\n\t\t\t\t\t\t\t\t<small className=\"text-muted\"> Last Updated: {lastUpdated.toLocaleString()}</small>\r\n\t\t\t\t\t\t\t</Card.Footer>\r\n\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t  )\r\n\t\t\t  })}\r\n\t\t\t</Container>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default Goals;","import React, { Component } from 'react';\r\nimport axios from 'axios';\r\nimport '../td-css/TrainingDiary.css';\r\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\r\nimport Loader from 'react-loader-spinner';\r\nimport Container from 'react-bootstrap/Container';\r\nimport Row from 'react-bootstrap/Row';\r\nimport Col from 'react-bootstrap/Col';\r\nimport Button from 'react-bootstrap/Button';\r\nimport ButtonGroup from 'react-bootstrap/ButtonGroup';\r\nimport ToggleButton from 'react-bootstrap/ToggleButton';\r\nimport Tabs from 'react-bootstrap/Tabs';\r\nimport TabContent from 'react-bootstrap/TabContent';\r\nimport Tab from 'react-bootstrap/Tab';\r\nimport Calendar from './Calendar.js';\r\nimport Graph from './Graph.js';\r\nimport DataList from './DataList.js';\r\nimport Goals from './Goals.js';\r\nimport { BrowserRouter as Router, Link } from 'react-router-dom';\r\nimport Navbar from 'react-bootstrap/Navbar';\r\nimport Nav from 'react-bootstrap/Nav';\r\n//import TrackExercises from './TrackExercises.js';\r\n//PROPS: \r\n\t//data \r\n\t//logout()\r\n\t//saveData()\r\n\t//addModalShow\r\n\t//isSaving\r\n\t//toggleSaveBar()\r\n\t//toggleAddModal()\r\nclass TrainingDiary extends Component {\r\n\t\r\n\tstate = {\r\n\t\tdata: null,\r\n\t\tactiveTab: \"calendar\",\r\n\t} \r\n\t\r\n\t/* COMPONENT MOUNTING AND UPDATING METHODS */\r\n\t\r\n\tcomponentDidMount = () => {\r\n\t\tthis.setState({data: this.props.data});\r\n\t}\r\n\t\r\n\t/* GENERAL COMPONENT METHODS */ \r\n\t\r\n\t//toggles which tab is selected and rendered\r\n\ttoggleTabs = (tab) => {\r\n\t\tthis.setState({activeTab: tab});\r\n\t}\r\n\t\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<Navbar fluid collapseOnSelect expand = \"md\" bg = \"light\" style = {{marginBottom: \"1%\"}}>\r\n\t\t\t\t\t<Navbar.Brand href = \"/\"> Training Diary </Navbar.Brand>\r\n\t\t\t\t\t<Navbar.Toggle aria-controls = \"responsive-navbar-nav\" />\r\n\t\t\t\t\t<Navbar.Collapse id = \"responsive-navbar-nav\">\r\n\t\t\t\t\t\t<Nav className = \"mr-auto\">\r\n\t\t\t\t\t\t</Nav>\r\n\t\t\t\t\t\t<Nav className = \"justify-content-end\">\r\n\t\t\t\t\t\t\t<Button variant = \"light\" href = \"/profile\" className = \"td-header-button\"> Profile </Button> \r\n\t\t\t\t\t\t\t<Button variant = \"light\" onClick = {this.props.logout} className = \"td-header-button\"> Logout </Button>\r\n\t\t\t\t\t\t</Nav>\r\n\t\t\t\t\t</Navbar.Collapse>\r\n\t\t\t\t</Navbar>\r\n\t\t\t\t<Container fluid>\r\n\t\t\t\t\t{/* row 1: header, settings Button, logout Button*/}\r\n\r\n\t\t\t\t\t{/*\r\n\t\t\t\t\t\t<Col xs = {8}>\r\n\t\t\t\t\t\t\t<h3> Training Diary </h3>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t<Col xs = {4}>\r\n\t\t\t\t\t\t\t<Button variant = \"primary\" onClick = {this.props.logout} className = \"td-header-button\"> Logout </Button>\r\n\t\t\t\t\t\t\t<Button variant = \"primary\" href = \"/profile\" className = \"td-header-button\"> Profile </Button> \r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t*/}\r\n\t\t\t\t\t\r\n\t\t\t\t\t{/* row 2: Tabs */}\r\n\t\t\t\t\t<Row style = {{height: \"75vh\"}}>\r\n\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t<Tabs activeKey = {this.state.activeTab} onSelect = {(tab) => {this.toggleTabs(tab)}}>\r\n\t\t\t\t\t\t\t\t\t<Tab eventKey = \"graph\" title = \"Graph 📉\">\r\n\t\t\t\t\t\t\t\t\t\t{this.state.activeTab !== \"graph\"\r\n\t\t\t\t\t\t\t\t\t\t?\r\n\t\t\t\t\t\t\t\t\t\t<div> </div>\r\n\t\t\t\t\t\t\t\t\t\t:\r\n\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t\t\t\t\t\t<Graph data = {this.props.data} />\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t</Tab>\r\n\t\t\t\t\t\t\t\t\t<Tab eventKey = \"calendar\" title = \"Calendar 📅\">\r\n\t\t\t\t\t\t\t\t\t\t{this.state.activeTab !== \"calendar\"\r\n\t\t\t\t\t\t\t\t\t\t?\r\n\t\t\t\t\t\t\t\t\t\t<div> </div>\r\n\t\t\t\t\t\t\t\t\t\t:\r\n\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t\t\t\t\t\t<Calendar \r\n\t\t\t\t\t\t\t\t\t\t\t\tdata = {this.props.data} \r\n\t\t\t\t\t\t\t\t\t\t\t\tsaveData = {this.props.saveData}\r\n\t\t\t\t\t\t\t\t\t\t\t\taddModalShow = {this.props.addModalShow}\r\n\t\t\t\t\t\t\t\t\t\t\t\teditModalShow = {this.props.editModalShow}\r\n\t\t\t\t\t\t\t\t\t\t\t\tisSaving = {this.props.isSaving}\r\n\t\t\t\t\t\t\t\t\t\t\t\ttoggleAddModal = {this.props.toggleAddModal}\r\n\t\t\t\t\t\t\t\t\t\t\t\ttoggleEditModal = {this.props.toggleEditModal}\r\n\t\t\t\t\t\t\t\t\t\t\t\ttoggleSaveBar = {this.props.toggleSaveBar}\r\n\t\t\t\t\t\t\t\t\t\t\t\tdataToEdit = {this.props.dataToEdit}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t</Tab>\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t<Tab eventKey = \"dataList\" title = \"Data-List 📝\">\r\n\t\t\t\t\t\t\t\t\t\t{this.state.activeTab !== \"dataList\"\r\n\t\t\t\t\t\t\t\t\t\t?\r\n\t\t\t\t\t\t\t\t\t\t<div> </div>\r\n\t\t\t\t\t\t\t\t\t\t:\r\n\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t<br/> \r\n\t\t\t\t\t\t\t\t\t\t\t<DataList \r\n\t\t\t\t\t\t\t\t\t\t\t\tdata = {this.props.data} \r\n\t\t\t\t\t\t\t\t\t\t\t\tsaveData = {this.props.saveData}\r\n\t\t\t\t\t\t\t\t\t\t\t\taddModalShow = {this.props.addModalShow}\r\n\t\t\t\t\t\t\t\t\t\t\t\teditModalShow = {this.props.editModalShow}\r\n\t\t\t\t\t\t\t\t\t\t\t\tisSaving = {this.props.isSaving}\r\n\t\t\t\t\t\t\t\t\t\t\t\ttoggleAddModal = {this.props.toggleAddModal}\r\n\t\t\t\t\t\t\t\t\t\t\t\ttoggleEditModal = {this.props.toggleEditModal}\r\n\t\t\t\t\t\t\t\t\t\t\t\ttoggleSaveBar = {this.props.toggleSaveBar}\r\n\t\t\t\t\t\t\t\t\t\t\t\tdataToEdit = {this.props.dataToEdit}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t</Tab>\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t<Tab eventKey = \"goals\" title = \"Goals 🎯\">\r\n\t\t\t\t\t\t\t\t\t\t{this.state.activeTab !== \"goals\"\r\n\t\t\t\t\t\t\t\t\t\t?\r\n\t\t\t\t\t\t\t\t\t\t<div> </div>\r\n\t\t\t\t\t\t\t\t\t\t:\r\n\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t\t\t\t\t\t<Goals \r\n\t\t\t\t\t\t\t\t\t\t\t\tdata = {this.props.data} \r\n\t\t\t\t\t\t\t\t\t\t\t\tsaveData = {this.props.saveData}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t</Tab>\r\n\t\t\t\t\t\t\t\t</Tabs>\r\n\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t</Row>\r\n\t\t\t\t</Container>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default TrainingDiary;","import React, { Component } from 'react';\r\nimport Container from 'react-bootstrap/Container';\r\nimport Row from 'react-bootstrap/Row';\r\nimport Col from 'react-bootstrap/Col';\r\nimport Button from 'react-bootstrap/Button';\r\nimport Card from 'react-bootstrap/Card';\r\nimport ListGroup from 'react-bootstrap/ListGroup';\r\nimport Tabs from 'react-bootstrap/Tabs';\r\nimport TabContent from 'react-bootstrap/TabContent';\r\nimport Tab from 'react-bootstrap/Tab';\r\nimport Form from 'react-bootstrap/Form';\r\nimport DatePicker from \"react-datepicker\";\r\nimport subDays from \"date-fns/subDays\";\r\nimport subYears from \"date-fns/subYears\";\r\nimport \"react-datepicker/dist/react-datepicker.css\"\r\nimport Spinner from 'react-bootstrap/Spinner';\r\nimport Modal from \"react-bootstrap/Modal\";\r\nimport Dropdown from 'react-bootstrap/Dropdown';\r\nimport InputGroup from 'react-bootstrap/InputGroup';\r\nimport Alert from 'react-bootstrap/Alert';\r\nimport Navbar from 'react-bootstrap/Navbar';\r\nimport Nav from 'react-bootstrap/Nav';\r\n\r\nclass Profile extends Component {\r\n\t\r\n\tstate = {\r\n\t\tdata: null,\r\n\t\tvalidated: false,\r\n\t\tusername: \"\",\r\n\t\temail: \"\",\r\n\t\tbirthday: null,\r\n\t\toldPassword: \"\",\r\n\t\tnewPassword: \"\",\r\n\t\tconfirmNewPassword: \"\",\r\n\t\tsaving: false,\r\n\t\tshowModal: false,\r\n\t\tshowEditModal: false,\r\n\t\teditModalData: {},\r\n\t\taddModalData: {},\r\n\t\tfields: [],\r\n\t\tcategoryMenuShow: false,\r\n\t\tshowAlert: false,\r\n\t\talertMessage: \"\",\r\n\t\tentryTypeIndex: -1\r\n\t}\r\n\t\r\n\tcomponentDidMount = () => {\r\n\t\tthis.setState({data: this.props.data, username: this.props.data._id, email: this.props.data.email, birthday: new Date(this.props.data.birthday)});\r\n\t}\r\n\t\r\n\tonChangeAccountInfo = (e) => {\r\n\t\tvar name = [e.target.name][0];\r\n\t\tvar value = e.target.value;\r\n\t\tthis.setState({[name]: value});\r\n\t}\r\n\t\r\n\tonSelectBirthday = (date) => {\r\n\t\tthis.setState({birthday: date});\r\n\t}\r\n\t\r\n\thandleInfoSubmit = async (e) => {\r\n\t\tconst form = e.currentTarget;\r\n\t\tif(form.checkValidity() === false) {\r\n\t\t\te.preventDefault();\r\n\t\t\te.stopPropagation();\r\n\t\t}\r\n\t\tthis.setState({validated: true});\r\n\t\tvar requestBody = {};\r\n\t\tvar username = this.state.username.trim();\r\n\t\te.preventDefault();\r\n\t\tif(this.state.username.trim().length === 0 || this.state.email.trim().length === 0 || this.state.birthday === null) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif(this.state.username.trim() !== this.props.data._id) {\r\n\t\t\trequestBody._id = this.state.username.trim();\r\n\t\t\tusername = this.props.data._id;\r\n\t\t}\r\n\t\tif(this.state.email.trim() !== this.props.data.email) {\r\n\t\t\trequestBody.email = this.state.email.trim();\r\n\t\t}\r\n\t\tif(new Date(this.state.birthday).getTime() !== new Date(this.props.data.birthday).getTime()) {\r\n\t\t\trequestBody.birthday = this.state.birthday;\r\n\t\t}\r\n\t\tif(Object.keys(requestBody).length === 0) {\r\n\t\t\talert(\"You did not make any changes\");\r\n\t\t\tthis.setState({validated: false});\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tthis.props.toggleSaving();\r\n\t\t//var requestBody = {prevUsername: this.props.data._id, prevEmail: this.props.data.email, newUsername: this.state.username, newEmail: this.state.email, birthday: this.state.birthday};\r\n\t\tvar dataCopy = JSON.parse(JSON.stringify(this.props.data));\r\n\t\tdataCopy._id = this.state.username;\r\n\t\tdataCopy.email = this.state.email;\r\n\t\tdataCopy.birthday = this.state.birthday;\r\n\t\tawait this.props.changeUsernameAndEmail(requestBody, dataCopy, this.props.token, username);\r\n\t\tthis.setState({validated: false});\r\n\t}\r\n\t\r\n\thandlePasswordSubmit = async (e) => {\r\n\t\tconst form = e.currentTarget;\r\n\t\tif(form.checkValidity() === false) {\r\n\t\t\te.preventDefault();\r\n\t\t\te.stopPropagation();\r\n\t\t}\r\n\t\tthis.setState({validated: true});\r\n\t\te.preventDefault();\r\n\t\tif(this.state.oldPassword.trim().length === 0 || this.state.newPassword.trim().length === 0 || this.state.confirmNewPassword.trim().length === 0) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif(this.state.newPassword !== this.state.confirmNewPassword) {\r\n\t\t\talert(\"Cannot proceed -- New password does not match confirmation password\");\r\n\t\t\tthis.setState({validated: false});\r\n\t\t\treturn; \r\n\t\t}\r\n\t\tif(this.state.newPassword === this.state.oldPassword) {\r\n\t\t\talert(\"Cannot proceed -- New password is the same as the old password\");\r\n\t\t\tthis.setState({validated: false});\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tthis.props.toggleSaving();\r\n\t\tvar requestBody = {oldPassword: this.state.oldPassword, newPassword: this.state.newPassword}\r\n\t\tvar dataCopy = JSON.parse(JSON.stringify(this.props.data));\r\n\t\tawait this.props.changePassword(requestBody, dataCopy, this.props.token);\r\n\t\tthis.forceUpdate();\r\n\t\tthis.setState({validated: false});\r\n\t}\r\n\t\r\n\tresetFields = () => {\r\n\t\tthis.setState({validated: false, oldPassword: \"\", newPassword: \"\", confirmNewPassword: \"\", username: this.props.data._id, email: this.props.data.email, birthday: new Date(this.props.data.birthday)});\r\n\t}\r\n\t\r\n\topenEditModal = async (index) => {\r\n\t\tvar editData = {};\r\n\t\tvar fields = [];\r\n\t\tconst entryType = this.props.data.metaData.entryTypes[index];\r\n\t\teditData.Category = entryType.Category;\r\n\t\teditData.Type = entryType.Type;\r\n\t\teditData.Notes = \"string\";\r\n\t\tfor(var i = 0; i < entryType.displayOrder.length; i++) {\r\n\t\t\tvar key = entryType.displayOrder[i];\r\n\t\t\tif(key !== \"Category\" && key !== \"Type\" && key !== \"Notes\") {\r\n\t\t\t\tfields.push({fieldName: key, dataType: entryType[key]});\r\n\t\t\t}\r\n\t\t}\r\n\t\tawait this.setState({showEditModal: true, editModalData: editData, fields: fields, entryTypeIndex: index});\r\n\t}\r\n\t\r\n\tcloseEditModal = async () => {\r\n\t\tawait this.setState({showEditModal: false, editModalData: {}, fields: [], entryTypeIndex: -1});\r\n\t\tthis.hideAlert();\r\n\t}\r\n\t\r\n\tonChangeEditModal = (e) => {\r\n\t\tvar name = [e.target.name][0];\r\n\t\tvar value = e.target.value;\r\n\t\tvar copy = JSON.parse(JSON.stringify(this.state.editModalData));\r\n\t\tcopy[name] = value;\r\n\t\tthis.setState({editModalData: copy});\r\n\t}\r\n\t\r\n\topenAddModal = async () => {\r\n\t\tconst newData = {Category: \"\", Type: \"\", Notes: \"string\"};\r\n\t\tawait this.setState({showModal: true, addModalData: newData});\r\n\t}\r\n\t\r\n\tcloseAddModal = () => {\r\n\t\tthis.setState({addModalData: {}, fields: [], showModal: false});\r\n\t\tthis.hideAlert();\r\n\t}\r\n\t\r\n\tonChangeAddModal = (e) => {\r\n\t\tvar name = [e.target.name][0];\r\n\t\tvar value = e.target.value;\r\n\t\tvar copy = JSON.parse(JSON.stringify(this.state.addModalData));\r\n\t\tif(name === \"Category\") {\r\n\t\t\tthis.showCategoryList(value);\r\n\t\t}\r\n\t\tcopy[name] = value;\r\n\t\tthis.setState({addModalData: copy});\r\n\t}\r\n\t\r\n\tonSelectDropdown = (key, value) => {\r\n\t\tvar copy = JSON.parse(JSON.stringify(this.state.addModalData));\r\n\t\tcopy[key] = value;\r\n\t\tthis.setState({addModalData: copy});\r\n\t}\r\n\t\r\n\tonClickRootCloseCategory = () => {\r\n\t\tif(this.state.categoryMenuShow) {\r\n\t\t\tthis.setState({categoryMenuShow: false});\r\n\t\t}\r\n\t\telse {\r\n\t\t\tthis.setState({categoryMenuShow: true});\r\n\t\t}\r\n\t}\r\n\t\r\n\tshowCategoryList = (categorySearch) => {\r\n\t\tif(categorySearch.length === 0) {\r\n\t\t\tthis.setState({categoryMenuShow: false});\r\n\t\t}\r\n\t\telse {\r\n\t\t\tthis.setState({categoryMenuShow: true});\r\n\t\t}\r\n\t}\r\n\t\r\n\taddField = () => {\r\n\t\tvar newField = {fieldName: \"\", dataType: \"\"};\r\n\t\tvar copy = this.state.fields.slice();\r\n\t\tcopy.push(newField);\r\n\t\tthis.setState({fields: copy});\r\n\t}\r\n\t\r\n\tonChangeField = (e, index) => {\r\n\t\tvar name = [e.target.name][0];\r\n\t\tvar value = e.target.value;\r\n\t\tvar copy = this.state.fields.slice();\r\n\t\tcopy[index][name] = value;\r\n\t\tthis.setState({fields: copy});\r\n\t}\r\n\t\r\n\ttypeExists = (category, type) => {\r\n\t\tfor(var i = 0; i < this.props.data.metaData.entryTypes.length; i++) {\r\n\t\t\tvar entry = this.props.data.metaData.entryTypes[i];\r\n\t\t\tif(entry.Category === category && entry.Type === type) {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n\t\r\n\tvalidateFields = () => {\r\n\t\tvar defaultKeys = Object.keys(this.state.addModalData);\r\n\t\tvar fieldNames = [];\r\n\t\tif(Object.keys(this.state.addModalData).length === 0) {\r\n\t\t\tthis.showAlert(\"Cannot add new data, you're missing some required fields!\");\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\tfor(var key in this.state.addModalData) {\r\n\t\t\tif(this.state.addModalData[key].toString().trim().length === 0) {\r\n\t\t\t\tthis.showAlert(\"Cannot add new data, you're missing some required fields!\");\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t}\r\n\t\tfor(var i = 0; i < this.state.fields.length; i++) {\r\n\t\t\tvar newField = this.state.fields[i];\r\n\t\t\tfieldNames.push(newField.fieldName);\r\n\t\t\tfor(var key in newField) {\r\n\t\t\t\tif(newField[key].toString().trim().length === 0) {\r\n\t\t\t\t\tthis.showAlert(\"Cannot add new data, you're missing some required fields!\");\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tif(this.typeExists(this.state.addModalData.Category.trim(), this.state.addModalData.Type.trim())) {\r\n\t\t\tthis.showAlert(\"Cannot add new data -- \" + \"'\" + this.state.addModalData.Type + \"'\" +\r\n\t\t\t\" already exists under \" + \"'\" + this.state.addModalData.Category + \"'\" + \"!\");\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\tfor(var i = 0; i < this.state.fields.length; i++) {\r\n\t\t\tvar newField = this.state.fields[i];\r\n\t\t\tfor(var key in newField) {\r\n\t\t\t\tif(defaultKeys.includes(newField[key].toString().trim())) {\r\n\t\t\t\t\tthis.showAlert(\"Cannot add new data -- \" + \"the name \" + \"'\" + newField[key].toString().trim() + \"' already exists\");\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tvar count = 0;\r\n\t\t\t\t\tfor(var x = 0; x < fieldNames.length; x++) {\r\n\t\t\t\t\t\tif(newField[key].toString().trim() === fieldNames[x].toString().trim()) {\r\n\t\t\t\t\t\t\tcount++;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(count > 1) {\r\n\t\t\t\t\t\tthis.showAlert(\"Cannot add new data -- \" + \"the name \" + \"'\" + newField[key].toString().trim() + \"' is a duplicate\");\r\n\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn true;\r\n\t}\r\n\t\r\n\tvalidateEditFields = () => {\r\n\t\tvar defaultKeys = Object.keys(this.state.editModalData);\r\n\t\tvar fieldNames = [];\r\n\t\tvar prev = this.props.data.metaData.entryTypes[this.state.entryTypeIndex];\r\n\t\tif(Object.keys(this.state.editModalData).length === 0) {\r\n\t\t\tthis.showAlert(\"Cannot edit data, you're missing some required fields!\");\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\tfor(var key in this.state.editModalData) {\r\n\t\t\tif(this.state.editModalData[key].toString().trim().length === 0) {\r\n\t\t\t\tthis.showAlert(\"Cannot edit data, you're missing some required fields!\");\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t}\r\n\t\tfor(var i = 0; i < this.state.fields.length; i++) {\r\n\t\t\tvar newField = this.state.fields[i];\r\n\t\t\tfieldNames.push(newField.fieldName);\r\n\t\t\tfor(var key in newField) {\r\n\t\t\t\tif(newField[key].toString().trim().length === 0) {\r\n\t\t\t\t\tthis.showAlert(\"Cannot edit data, you're missing some required fields!\");\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tif(this.typeExists(this.state.editModalData.Category.trim(), this.state.editModalData.Type.trim()) && prev.Type !== this.state.editModalData.Type.trim()) {\r\n\t\t\tthis.showAlert(\"Cannot edit data -- \" + \"'\" + this.state.editModalData.Type + \"'\" +\r\n\t\t\t\" already exists under \" + \"'\" + this.state.editModalData.Category + \"'\" + \"!\");\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\tfor(var i = 0; i < this.state.fields.length; i++) {\r\n\t\t\tvar newField = this.state.fields[i];\r\n\t\t\tfor(var key in newField) {\r\n\t\t\t\tif(defaultKeys.includes(newField[key].toString().trim())) {\r\n\t\t\t\t\tthis.showAlert(\"Cannot edit data -- \" + \"the name \" + \"'\" + newField[key] + \"' already exists\");\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tvar count = 0;\r\n\t\t\t\t\tfor(var x = 0; x < fieldNames.length; x++) {\r\n\t\t\t\t\t\tif(newField[key].toString().trim() === fieldNames[x].toString().trim()) {\r\n\t\t\t\t\t\t\tcount++;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(count > 1) {\r\n\t\t\t\t\t\tthis.showAlert(\"Cannot edit data -- \" + \"the name \" + \"'\" + newField[key].toString().trim() + \"' is a duplicate\");\r\n\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn true;\r\n\t}\r\n\t\r\n\tonClickSaveEdit = async () => {\r\n\t\tif(this.validateEditFields()) {\r\n\t\t\tvar dataCopy = JSON.parse(JSON.stringify(this.props.data));\r\n\t\t\tvar newData = {};\r\n\t\t\tvar displayOrder = [];\r\n\t\t\tnewData.Category = this.state.editModalData.Category.toString().trim();\r\n\t\t\tnewData.Type = this.state.editModalData.Type.toString().trim();\r\n\t\t\tfor(var i = 0; i < this.state.fields.length; i++) {\r\n\t\t\t\tvar newField = this.state.fields[i];\r\n\t\t\t\tvar fieldName = newField.fieldName.toString().trim();\r\n\t\t\t\tvar dataType = newField.dataType;\r\n\t\t\t\tnewData[fieldName] = dataType;\r\n\t\t\t}\r\n\t\t\tnewData.Notes = this.state.editModalData.Notes;\r\n\t\t\tdisplayOrder = Object.keys(newData);\r\n\t\t\tnewData.displayOrder = displayOrder;\r\n\t\t\tnewData.Date = \"string\";\r\n\t\t\tnewData.calculationType = \"none\";\r\n\t\t\tnewData.deletable = true;\r\n\t\t\tdataCopy.metaData.entryTypes[this.state.entryTypeIndex] = newData;\r\n\t\t\tawait this.props.saveData(dataCopy);\r\n\t\t\tthis.closeEditModal();\r\n\t\t\tthis.forceUpdate();\r\n\t\t}\r\n\t}\r\n\t\r\n\tonClickSave = async () => {\r\n\t\tif(this.validateFields()) {\r\n\t\t\tvar dataCopy = JSON.parse(JSON.stringify(this.props.data));\r\n\t\t\tvar newData = {};\r\n\t\t\tvar displayOrder = [];\r\n\t\t\tnewData.Category = this.state.addModalData.Category.toString().trim();\r\n\t\t\tnewData.Type = this.state.addModalData.Type.toString().trim();\r\n\t\t\tfor(var i = 0; i < this.state.fields.length; i++) {\r\n\t\t\t\tvar newField = this.state.fields[i];\r\n\t\t\t\tvar fieldName = newField.fieldName.toString().trim();\r\n\t\t\t\tvar dataType = newField.dataType;\r\n\t\t\t\tnewData[fieldName] = dataType;\r\n\t\t\t}\r\n\t\t\tnewData.Notes = this.state.addModalData.Notes;\r\n\t\t\tdisplayOrder = Object.keys(newData);\r\n\t\t\tnewData.displayOrder = displayOrder;\r\n\t\t\tnewData.Date = \"string\";\r\n\t\t\tnewData.calculationType = \"none\";\r\n\t\t\tnewData.deletable = true;\r\n\t\t\tdataCopy.metaData.entryTypes.push(newData);\r\n\t\t\tif(!dataCopy.metaData.categories.includes(newData.Category)) {\r\n\t\t\t\tdataCopy.metaData.categories.push(newData.Category);\r\n\t\t\t}\r\n\t\t\tawait this.props.saveData(dataCopy);\r\n\t\t\tthis.closeAddModal();\r\n\t\t\tthis.forceUpdate();\r\n\t\t}\r\n\t\telse {\r\n\t\t\treturn;\r\n\t\t}\r\n\t}\r\n\t\r\n\tdeleteData = async (index) => {\r\n\t\tvar approveDelete = window.confirm(\"Are you sure you want to delete this entry?\");\r\n\t\tif(approveDelete) {\r\n\t\t\tvar dataCopy = JSON.parse(JSON.stringify(this.props.data));\r\n\t\t\tdataCopy.metaData.entryTypes.splice(index, 1);\r\n\t\t\tawait this.props.saveData(dataCopy);\r\n\t\t\tthis.forceUpdate();\r\n\t\t}\r\n\t\telse {\r\n\t\t\treturn;\r\n\t\t}\r\n\t}\r\n\t\r\n\tdeleteCategory = async (category) => {\r\n\t\tvar approveDelete = window.confirm(\"All data linked to this category will be removed -- Are you sure you want to delete it? \");\r\n\t\tif(approveDelete) {\r\n\t\t\tvar dataCopy = JSON.parse(JSON.stringify(this.props.data));\r\n\t\t\tdataCopy.metaData.categories.splice(dataCopy.metaData.categories.indexOf(category), 1);\t\r\n\t\t\tvar newEntryTypes = [];\r\n\t\t\tvar newUserData = [];\r\n\t\t\tfor(var i = 0; i < dataCopy.metaData.entryTypes.length; i++) {\r\n\t\t\t\tvar entry = dataCopy.metaData.entryTypes[i];\r\n\t\t\t\tif(entry.Category !== category) {\r\n\t\t\t\t\tnewEntryTypes.push(entry);\r\n\t\t\t\t\t//dataCopy.metaData.entryTypes.splice(i, 1);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tfor(i = 0; i < dataCopy.userData.length; i++) {\r\n\t\t\t\tentry = dataCopy.userData[i];\r\n\t\t\t\tif(entry.Category !== category) {\r\n\t\t\t\t\tnewUserData.push(entry);\r\n\t\t\t\t\t//dataCopy.userData.splice(i, 1);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tdataCopy.metaData.entryTypes = newEntryTypes;\r\n\t\t\tdataCopy.userData = newUserData;\r\n\t\t\tawait this.props.saveData(dataCopy);\r\n\t\t\tthis.forceUpdate();\r\n\t\t}\r\n\t\telse {\r\n\t\t\treturn;\r\n\t\t}\r\n\t}\r\n\t\r\n\tshowAlert = (msg) => {\r\n\t\tthis.setState({showAlert: true, alertMessage: msg});\r\n\t}\r\n\t\r\n\thideAlert = () => {\r\n\t\tthis.setState({showAlert: false, alertMessage: \"\"});\r\n\t}\r\n\t\r\n\tremoveField = (index) => {\r\n\t\tvar copy = this.state.fields.slice();\r\n\t\tcopy.splice(index, 1);\r\n\t\tthis.setState({fields: copy});\r\n\t}\r\n\t\r\n\trender() {\r\n\t\tconst datePicker = <Form.Control\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\ttype = \"input\"\r\n\t\t\t\t\t\t\tvalue = {this.state.birthday}\r\n\t\t\t\t\t\t\tautoComplete = \"off\"\r\n\t\t\t\t\t\t\t/>\r\n\t\tconst tdHeaderButton = {margin: \"1%\",\r\n\t\t\tfloat: \"right\",\r\n\t\t\tbackgroundColor: \"#D3D3D3\"\r\n\t\t}\r\n\t\t\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<Navbar fluid collapseOnSelect expand = \"md\" bg = \"light\" style = {{marginBottom: \"5%\"}}>\r\n\t\t\t\t\t<Navbar.Brand href = \"/\"> Training Diary </Navbar.Brand>\r\n\t\t\t\t\t<Navbar.Toggle aria-controls = \"responsive-navbar-nav\" />\r\n\t\t\t\t\t<Navbar.Collapse id = \"responsive-navbar-nav\">\r\n\t\t\t\t\t\t<Nav className = \"mr-auto\">\r\n\t\t\t\t\t\t</Nav>\r\n\t\t\t\t\t\t<Nav className = \"justify-content-end\">\r\n\t\t\t\t\t\t\t<Button variant = \"light\" href = \"/\" style = {tdHeaderButton}> Home </Button> \r\n\t\t\t\t\t\t\t<Button variant = \"light\" onClick = {this.props.logout} style = {tdHeaderButton}> Logout </Button>\r\n\t\t\t\t\t\t</Nav>\r\n\t\t\t\t\t</Navbar.Collapse>\r\n\t\t\t\t</Navbar>\r\n\t\t\t\t{this.state.showModal\r\n\t\t\t\t?\r\n\t\t\t\t\t<Modal show = {this.state.showModal} backdrop = \"static\" onHide = {this.closeAddModal.bind(this)} size = \"lg\">\r\n\t\t\t\t\t\t<Modal.Header closeButton>\r\n\t\t\t\t\t\t\t<Modal.Title>\r\n\t\t\t\t\t\t\t\tAdd Custom Training Data\r\n\t\t\t\t\t\t\t</Modal.Title>\r\n\t\t\t\t\t\t</Modal.Header>\r\n\t\t\t\t\t\t<Modal.Body>\r\n\t\t\t\t\t\t\t<h5> Category & Type </h5>\r\n\t\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t\t{Object.keys(this.state.addModalData).map((key) => {\r\n\t\t\t\t\t\t\t\tif(key === \"Category\") {\r\n\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Label> Category </Form.Label>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<InputGroup>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tas = \"input\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tautoComplete = \"off\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tname = {key}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue = {this.state.addModalData[key]}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange = {(e) => {this.onChangeAddModal(e)}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Dropdown show = {this.state.categoryMenuShow} as = {InputGroup.Prepend} onToggle = {this.onClickRootCloseCategory.bind(this)}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Dropdown.Toggle variant = \"outline-secondary\" eventKey = \"00\"> </Dropdown.Toggle>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Dropdown.Menu rootCloseEvent = \"click\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{this.props.data.metaData.categories.map((category) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Dropdown.Item onSelect = {this.onSelectDropdown.bind(this, key, category)} >\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{category}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Dropdown.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Dropdown.Menu>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Dropdown> \r\n\t\t\t\t\t\t\t\t\t\t\t\t</InputGroup> \r\n\t\t\t\t\t\t\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\telse if(key === \"Type\") {\r\n\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Form.Label> Type </Form.Label>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tas = \"input\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tautoComplete = \"off\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname = {key}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue = {this.state.addModalData[key]}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange = {(e) => {this.onChangeAddModal(e)}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<hr style = {{border: \"1px solid lightGray\"}} />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<h5> Fields  <Button variant = \"primary\" size = \"sm\" style = {{float: \"right\"}} onClick = {this.addField.bind(this)}> Add Field + </Button> </h5>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\telse if(this.state.fields.length !== 0) {\r\n\t\t\t\t\t\t\t\t\treturn this.state.fields.map((newField, index) => {\r\n\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Button variant = \"danger\" size = \"sm\" style = {{float:\"right\"}} onClick = {this.removeField.bind(this, index)}> X </Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Col sm = {6}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Label> Field Name </Form.Label>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tas = \"input\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tname = \"fieldName\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue = {newField.fieldName}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange = {(e) => {this.onChangeField(e, index)}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Col sm = {6}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Label> Data Type </Form.Label>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tas = \"select\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tname = \"dataType\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange = {(e) => {this.onChangeField(e, index)}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option selected disabled hidden> Select </option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option value = \"string\"> String </option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option value = \"number\"> Number </option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Form.Control>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t<Col sm = {6}>\r\n\t\t\t\t\t\t\t\t\t<Form.Label> Field Name </Form.Label>\r\n\t\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\t\tas = \"input\"\r\n\t\t\t\t\t\t\t\t\t\tname = \"Notes\"\r\n\t\t\t\t\t\t\t\t\t\tvalue = \"Notes\"\r\n\t\t\t\t\t\t\t\t\t\tdisabled = {true}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t<Col sm = {6}>\r\n\t\t\t\t\t\t\t\t\t<Form.Label> Data Type </Form.Label>\r\n\t\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\t\tas = \"select\"\r\n\t\t\t\t\t\t\t\t\t\tdisabled = {true}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<option value = \"string\"> String </option>\r\n\t\t\t\t\t\t\t\t\t</Form.Control>\r\n\t\t\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t</Modal.Body>\r\n\t\t\t\t\t\t{this.state.showAlert\r\n\t\t\t\t\t\t?\r\n\t\t\t\t\t\t<Modal.Footer>\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<Alert variant = \"danger\" onClose = {this.hideAlert.bind(this)} dismissible>\r\n\t\t\t\t\t\t\t\t\t<p> {this.state.alertMessage} </p>\r\n\t\t\t\t\t\t\t\t</Alert>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<Button variant = \"secondary\" onClick = {this.closeAddModal.bind(this)}> Close </Button>\r\n\t\t\t\t\t\t\t<Button variant = \"primary\" onClick = {this.onClickSave.bind(this)}> Save </Button>\r\n\t\t\t\t\t\t</Modal.Footer>\r\n\t\t\t\t\t\t:\r\n\t\t\t\t\t\t<Modal.Footer>\r\n\t\t\t\t\t\t\t<Button variant = \"secondary\" onClick = {this.closeAddModal.bind(this)}> Close </Button>\r\n\t\t\t\t\t\t\t<Button variant = \"primary\" onClick = {this.onClickSave.bind(this)}> Save </Button>\r\n\t\t\t\t\t\t</Modal.Footer>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t</Modal>\r\n\t\t\t\t: \r\n\t\t\t\t<div> </div>\r\n\t\t\t\t}\r\n\t\t\t\t{this.state.showEditModal\r\n\t\t\t\t?\r\n\t\t\t\t\t<Modal show = {this.state.showEditModal} backdrop = \"static\" onHide = {this.closeEditModal.bind(this)} size = \"lg\">\r\n\t\t\t\t\t\t<Modal.Header closeButton>\r\n\t\t\t\t\t\t\t<Modal.Title>\r\n\t\t\t\t\t\t\t\tEdit Custom Training Data\r\n\t\t\t\t\t\t\t</Modal.Title>\r\n\t\t\t\t\t\t</Modal.Header>\r\n\t\t\t\t\t\t<Modal.Body>\r\n\t\t\t\t\t\t\t<h5> Category & Type </h5>\r\n\t\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t\t{Object.keys(this.state.editModalData).map((key, index) => {\r\n\t\t\t\t\t\t\t\tif(key === \"Category\") {\r\n\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Label> Category </Form.Label>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tas = \"input\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tautoComplete = \"off\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname = {key}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue = {this.state.editModalData[key]}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange = {(e) => {this.onChangeEditModal(e)}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled = {true}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\telse if(key === \"Type\") {\r\n\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Form.Label> Type </Form.Label>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tas = \"input\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tautoComplete = \"off\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname = {key}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue = {this.state.editModalData[key]}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange = {(e) => {this.onChangeEditModal(e)}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<hr style = {{border: \"1px solid lightGray\"}} />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<h5> Fields  <Button variant = \"primary\" size = \"sm\" style = {{float: \"right\"}} onClick = {this.addField.bind(this)}> Add Field + </Button> </h5>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\telse if(this.state.fields.length !== 0) {\r\n\t\t\t\t\t\t\t\t\treturn this.state.fields.map((newField, index) => {\r\n\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Button variant = \"danger\" size = \"sm\" style = {{float:\"right\"}} onClick = {this.removeField.bind(this, index)}> X </Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Col sm = {6}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Label> Field Name </Form.Label>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tas = \"input\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tname = \"fieldName\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue = {newField.fieldName}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange = {(e) => {this.onChangeField(e, index)}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Col sm = {6}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{newField.fieldName.length === 0\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t?\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Label> Data Type </Form.Label>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tas = \"select\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname = \"dataType\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange = {(e) => {this.onChangeField(e, index)}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option selected disabled hidden> Select </option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option value = \"string\"> String </option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option value = \"number\"> Number </option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Form.Control>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t:\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Label> Data Type </Form.Label>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tas = \"select\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname = \"dataType\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange = {(e) => {this.onChangeField(e, index)}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option selected hidden> {newField.dataType.charAt(0).toUpperCase() + newField.dataType.slice(1)} </option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option value = \"string\"> String </option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option value = \"number\"> Number </option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Form.Control>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t<Col sm = {6}>\r\n\t\t\t\t\t\t\t\t\t<Form.Label> Field Name </Form.Label>\r\n\t\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\t\tas = \"input\"\r\n\t\t\t\t\t\t\t\t\t\tname = \"Notes\"\r\n\t\t\t\t\t\t\t\t\t\tvalue = \"Notes\"\r\n\t\t\t\t\t\t\t\t\t\tdisabled = {true}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t<Col sm = {6}>\r\n\t\t\t\t\t\t\t\t\t<Form.Label> Data Type </Form.Label>\r\n\t\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\t\tas = \"select\"\r\n\t\t\t\t\t\t\t\t\t\tdisabled = {true}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<option value = \"string\"> String </option>\r\n\t\t\t\t\t\t\t\t\t</Form.Control>\r\n\t\t\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t</Modal.Body>\r\n\t\t\t\t\t\t{this.state.showAlert\r\n\t\t\t\t\t\t?\r\n\t\t\t\t\t\t<Modal.Footer>\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<Alert variant = \"danger\" onClose = {this.hideAlert.bind(this)} dismissible>\r\n\t\t\t\t\t\t\t\t\t<p> {this.state.alertMessage} </p>\r\n\t\t\t\t\t\t\t\t</Alert>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<Button variant = \"secondary\" onClick = {this.closeEditModal.bind(this)}> Close </Button>\r\n\t\t\t\t\t\t\t<Button variant = \"primary\" onClick = {this.onClickSaveEdit.bind(this)}> Save </Button>\r\n\t\t\t\t\t\t</Modal.Footer>\r\n\t\t\t\t\t\t:\r\n\t\t\t\t\t\t<Modal.Footer>\r\n\t\t\t\t\t\t\t<Button variant = \"secondary\" onClick = {this.closeEditModal.bind(this)}> Close </Button>\r\n\t\t\t\t\t\t\t<Button variant = \"primary\" onClick = {this.onClickSaveEdit.bind(this)}> Save </Button>\r\n\t\t\t\t\t\t</Modal.Footer>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t</Modal>\r\n\t\t\t\t:\r\n\t\t\t\t<div> </div>\r\n\t\t\t\t}\r\n\t\t\t\t<Container style = {{border: \"1px solid lightGray\"}}>\r\n\t\t\t\t\t<Tabs variant = \"pills\" defaultActiveKey = \"editProfile\" onSelect = {this.resetFields.bind(this)}>\r\n\t\t\t\t\t\t<Tab eventKey = \"editProfile\" title = \"Edit Profile ✏️\">\r\n\t\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t\t<Form noValidate validated = {this.state.validated} onSubmit = {this.handleInfoSubmit}>\r\n\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t<Form.Label> Username </Form.Label>\r\n\t\t\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\t\t\t\ttype = \"input\"\r\n\t\t\t\t\t\t\t\t\t\t\tname = \"username\"\r\n\t\t\t\t\t\t\t\t\t\t\tvalue = {this.state.username}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange = {(e) => {this.onChangeAccountInfo(e)}}\r\n\t\t\t\t\t\t\t\t\t\t\tautoComplete = \"off\"\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t<Form.Label> Email </Form.Label>\r\n\t\t\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\t\t\t\ttype = \"input\"\r\n\t\t\t\t\t\t\t\t\t\t\tname = \"email\"\r\n\t\t\t\t\t\t\t\t\t\t\tvalue = {this.state.email}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange = {(e) => {this.onChangeAccountInfo(e)}}\r\n\t\t\t\t\t\t\t\t\t\t\tautoComplete = \"off\"\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t<Form.Label> Birthday </Form.Label>\r\n\t\t\t\t\t\t\t\t\t\t<DatePicker\r\n\t\t\t\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\t\t\t\tselected = {this.state.birthday}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange = {this.onSelectBirthday}\r\n\t\t\t\t\t\t\t\t\t\t\tminDate = {subYears(new Date(), 120)}\r\n\t\t\t\t\t\t\t\t\t\t\tmaxDate = {subDays(new Date(), 0)}\r\n\t\t\t\t\t\t\t\t\t\t\tshowYearDropdown\r\n\t\t\t\t\t\t\t\t\t\t\tscrollableYearDropdown\r\n\t\t\t\t\t\t\t\t\t\t\tshowMonthDropdown\r\n\t\t\t\t\t\t\t\t\t\t\tdropdownMode=\"select\"\r\n\t\t\t\t\t\t\t\t\t\t\tplaceholderText = \"Birthday\"\r\n\t\t\t\t\t\t\t\t\t\t\tcustomInput = {datePicker}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t{this.props.saving\r\n\t\t\t\t\t\t\t\t\t?\r\n\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t<Spinner animation = \"border\" variant = \"primary\" />\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t:\r\n\t\t\t\t\t\t\t\t\t<div> </div>\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t<Button type = \"submit\" style = {{float: \"right\"}}> Save </Button>\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t\t</Form>\r\n\t\t\t\t\t\t</Tab>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<Tab eventKey = \"changePassword\" title = \"Change Password 🔑\">\r\n\t\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t\t<Form noValidate validated = {this.state.validated} onSubmit = {this.handlePasswordSubmit}>\r\n\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t<Form.Label> Old Password </Form.Label> \r\n\t\t\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\t\t\trequired \r\n\t\t\t\t\t\t\t\t\t\t\ttype = \"password\"\r\n\t\t\t\t\t\t\t\t\t\t\tname = \"oldPassword\"\r\n\t\t\t\t\t\t\t\t\t\t\tvalue = {this.state.oldPassword}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange = {(e) => {this.onChangeAccountInfo(e)}}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t<br/> \r\n\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t<Form.Label> New Password </Form.Label> \r\n\t\t\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\t\t\trequired \r\n\t\t\t\t\t\t\t\t\t\t\ttype = \"password\"\r\n\t\t\t\t\t\t\t\t\t\t\tname = \"newPassword\"\r\n\t\t\t\t\t\t\t\t\t\t\tvalue = {this.state.newPassword}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange = {(e) => {this.onChangeAccountInfo(e)}}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t<br/> \t\r\n\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t<Form.Label> Confirm New Password </Form.Label> \r\n\t\t\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\t\t\trequired \r\n\t\t\t\t\t\t\t\t\t\t\ttype = \"password\"\r\n\t\t\t\t\t\t\t\t\t\t\tname = \"confirmNewPassword\"\r\n\t\t\t\t\t\t\t\t\t\t\tvalue = {this.state.confirmNewPassword}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange = {(e) => {this.onChangeAccountInfo(e)}}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t{this.props.saving\r\n\t\t\t\t\t\t\t\t\t?\r\n\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t<Spinner animation = \"border\" variant = \"primary\" />\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t:\r\n\t\t\t\t\t\t\t\t\t<div> </div>\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t<Button type = \"submit\" style = {{float: \"right\"}}> Save </Button>\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t\t</Form>\r\n\t\t\t\t\t\t</Tab>\r\n\t\t\t\t\t\t<Tab eventKey = \"accountStats\" title = \"Account Stats 📈\">\r\n\t\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t<Card>\r\n\t\t\t\t\t\t\t\t\t\t<Card.Body>\r\n\t\t\t\t\t\t\t\t\t\t\t<Card.Title>\r\n\t\t\t\t\t\t\t\t\t\t\t\tGoal Statistics 🎯\r\n\t\t\t\t\t\t\t\t\t\t\t\t<hr style = {{border: \"1px solid lightGray\"}} />\r\n\t\t\t\t\t\t\t\t\t\t\t</Card.Title>\r\n\t\t\t\t\t\t\t\t\t\t\t<Card.Text>\r\n\t\t\t\t\t\t\t\t\t\t\t{this.props.data.metaData.categories.map((category) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\tvar numGoals = 0;\r\n\t\t\t\t\t\t\t\t\t\t\t\tthis.props.data.goals.map((goal) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tif(goal[\"Goal Type\"] === category) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tnumGoals++;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<li> Number of {category} Goals: {numGoals} </li>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t\t\t</Card.Text>\r\n\t\t\t\t\t\t\t\t\t\t</Card.Body>\r\n\t\t\t\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t<Card>\r\n\t\t\t\t\t\t\t\t\t\t<Card.Body>\r\n\t\t\t\t\t\t\t\t\t\t\t<Card.Title>\r\n\t\t\t\t\t\t\t\t\t\t\t\tTraining Statistics 💪\r\n\t\t\t\t\t\t\t\t\t\t\t\t<hr style = {{border: \"1px solid lightGray\"}} />\r\n\t\t\t\t\t\t\t\t\t\t\t</Card.Title>\r\n\t\t\t\t\t\t\t\t\t\t\t<Card.Text>\r\n\t\t\t\t\t\t\t\t\t\t\t{this.props.data.metaData.categories.map((category) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\tvar numEntries = 0;\r\n\t\t\t\t\t\t\t\t\t\t\t\tthis.props.data.userData.map((entry) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tif(entry.Category === category) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tnumEntries++;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<li> Number of {category} Entries: {numEntries} </li>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t\t\t</Card.Text>\r\n\t\t\t\t\t\t\t\t\t\t</Card.Body>\r\n\t\t\t\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t</Tab>\r\n\t\t\t\t\t\t<Tab eventKey = \"customize\" title = \"Customize Data ⚙️\">\r\n\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t<h3>\r\n\t\t\t\t\t\t\t\t\tTraining Data Options\r\n\t\t\t\t\t\t\t\t\t<Button variant = \"primary\" style = {{float: \"right\"}} onClick = {this.openAddModal.bind(this)}> + </Button>\r\n\t\t\t\t\t\t\t\t</h3>\r\n\t\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t\tCustomize your data by editing, deleting, and adding to the options below.\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t{this.props.data.metaData.categories.map((category) => {\r\n\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t<Col sm = {12}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Card>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Card.Body>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Card.Title>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{category !== \"Diet\" && category !== \"Body\" && category !== \"Exercise\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t?\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{category}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button size = \"sm\" variant = \"light\" style = {{margin: \"1%\"}} onClick = {this.deleteCategory.bind(this, category)}> 🗑️ </Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t:\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{category}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Card.Title>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Card.Text>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{this.props.data.metaData.entryTypes.map((entry, entryIndex) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif(entry.Category === category) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif(entry.deletable) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Col sm = {4}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Card style = {{height: \"100%\"}}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Card.Title>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button size = \"sm\" variant = \"light\" style = {{float: \"right\"}} onClick = {this.deleteData.bind(this, entryIndex)}> 🗑️ </Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button size = \"sm\" variant = \"light\" style = {{float: \"right\"}} onClick = {this.openEditModal.bind(this, entryIndex)}> ✏️ </Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Card.Title>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Card.Body>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Card.Text> \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ListGroup horizontal>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ListGroup.Item style = {{width: \"100%\"}}> <strong> Category </strong> : {entry.Category} </ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</ListGroup>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ListGroup horizontal>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ListGroup.Item style = {{width: \"100%\"}}> <strong> Type </strong> : {entry.Type} </ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</ListGroup>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ListGroup horizontal>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ListGroup.Item style = {{width: \"100%\"}}> \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<strong> Fields </strong>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{entry.displayOrder.map((key) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif(key !== \"Category\" && key !== \"Type\") {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<li> {key} </li>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</ListGroup>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Card.Text>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Card.Body>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Col sm = {4} style = {{marginBottom: \"3%\"}}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Card style = {{height: \"100%\"}}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Card.Body>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Card.Text> \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ListGroup horizontal>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ListGroup.Item style = {{width: \"100%\"}}> <strong> Category </strong> : {entry.Category} </ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</ListGroup>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ListGroup horizontal>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ListGroup.Item style = {{width: \"100%\"}}> <strong> Type </strong> : {entry.Type} </ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</ListGroup>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ListGroup horizontal>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ListGroup.Item style = {{width: \"100%\"}}> \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<strong> Fields </strong>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{entry.displayOrder.map((key) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif(key !== \"Category\" && key !== \"Type\") {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<li> {key} </li>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</ListGroup>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Card.Text>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Card.Body>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Card.Text>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Card.Body>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t</Tab>\r\n\t\t\t\t\t</Tabs>\r\n\t\t\t\t</Container>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport default Profile;","import React, { Component } from 'react';\r\nimport Container from 'react-bootstrap/Container';\r\nimport Row from 'react-bootstrap/Row';\r\nimport Col from 'react-bootstrap/Col';\r\nimport Button from 'react-bootstrap/Button';\r\nimport Card from 'react-bootstrap/Card';\r\nimport ListGroup from 'react-bootstrap/ListGroup';\r\nimport Tabs from 'react-bootstrap/Tabs';\r\nimport TabContent from 'react-bootstrap/TabContent';\r\nimport Tab from 'react-bootstrap/Tab';\r\nimport Form from 'react-bootstrap/Form';\r\nimport Spinner from 'react-bootstrap/Spinner';\r\nimport Navbar from 'react-bootstrap/Navbar';\r\nimport Nav from 'react-bootstrap/Nav';\r\n\r\nclass ForgotCredentials extends Component {\r\n\t\r\n\tstate = {\r\n\t\tvalidated: false,\r\n\t\tpasswordValidated: false,\r\n\t\temail: \"\",\r\n\t\tusername: \"\",\r\n\t\ttempPassword: \"\",\r\n\t\tnewPassword: \"\",\r\n\t\tconfirmPassword: \"\",\r\n\t\tsaving: false\r\n\t}\r\n\t\r\n\thandleEmailSubmit = async (e) => {\r\n\t\tconst form = e.currentTarget;\r\n\t\tif(form.checkValidity() === false) {\r\n\t\t\te.preventDefault();\r\n\t\t\te.stopPropagation();\r\n\t\t}\r\n\t\tthis.setState({validated: true});\r\n\t\te.preventDefault();\r\n\t\tif(this.state.email.toString().trim().length === 0) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tawait this.props.toggleSaving();\r\n\t\tvar requestBody = {email: this.state.email.trim()}\r\n\t\tawait this.props.getTempCredentials(requestBody, this.state.email);\r\n\t\tthis.forceUpdate();\r\n\t\tthis.setState({validated: false});\r\n\t}\r\n\t\r\n\thandleTempSubmit = async (e) => {\r\n\t\tconst form = e.currentTarget;\r\n\t\tif(form.checkValidity() === false) {\r\n\t\t\te.preventDefault();\r\n\t\t\te.stopPropagation();\r\n\t\t}\r\n\t\tthis.setState({validated: true});\r\n\t\te.preventDefault();\r\n\t\tif(this.state.username.toString().trim().length === 0 || this.state.tempPassword.length === 0) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tthis.props.toggleSaving();\r\n\t\tvar requestBody = {username: this.state.username.trim(), tempPassword: this.state.tempPassword};\r\n\t\tawait this.props.validateTempCredentials(requestBody);\r\n\t\tthis.forceUpdate();\r\n\t\tthis.setState({validated: false});\r\n\t}\r\n\t\r\n\thandleNewPasswordSubmit = async (e) => {\r\n\t\tconst form = e.currentTarget;\r\n\t\tif(form.checkValidity() === false) {\r\n\t\t\te.preventDefault();\r\n\t\t\te.stopPropagation();\r\n\t\t}\r\n\t\tthis.setState({passwordValidated: true});\r\n\t\te.preventDefault();\r\n\t\tif(this.state.newPassword.length === 0 || this.state.confirmPassword.length === 0) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif(this.state.newPassword !== this.state.confirmPassword) {\r\n\t\t\talert(\"Passwords don't match\");\r\n\t\t\tthis.setState({passwordValidated: false});\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tvar requestBody = {password: this.state.newPassword};\r\n\t\tif(this.props.username.toString().length !== 0 && this.props.username !== undefined && this.props.token !== null && this.props.token !== undefined) {\r\n\t\t\tthis.props.toggleSaving();\r\n\t\t\tawait this.props.recoverPassword(this.props.username, this.props.token, requestBody);\r\n\t\t\tthis.setState({validated: false});\r\n\t\t}\r\n\t}\r\n\t\r\n\tonChangeField = (e) => {\r\n\t\tvar name = [e.target.name][0];\r\n\t\tvar value = e.target.value;\r\n\t\tthis.setState({[name]: value});\r\n\t}\r\n\t\r\n\t\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<Navbar fluid collapseOnSelect expand = \"md\" bg = \"light\" style = {{marginBottom: \"1%\"}}>\r\n\t\t\t\t\t<Navbar.Brand href = \"/\"> Training Diary </Navbar.Brand>\r\n\t\t\t\t\t<Navbar.Toggle aria-controls = \"responsive-navbar-nav\" />\r\n\t\t\t\t\t<Navbar.Collapse id = \"responsive-navbar-nav\">\r\n\t\t\t\t\t\t<Nav className = \"mr-auto\">\r\n\t\t\t\t\t\t</Nav>\r\n\t\t\t\t\t\t<Nav className = \"justify-content-end\">\r\n\t\t\t\t\t\t\t<Button variant = \"light\" href = \"/\" className = \"td-header-button\"> Home </Button> \r\n\t\t\t\t\t\t</Nav>\r\n\t\t\t\t\t</Navbar.Collapse>\r\n\t\t\t\t</Navbar>\r\n\t\t\t\t<Container>\r\n\t\t\t\t\t<br/>\r\n\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t{this.props.recoveryDisabled\r\n\t\t\t\t\t\t?\r\n\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t<Card style = {{marginTop: \"5%\"}}>\r\n\t\t\t\t\t\t\t\t\t<Card.Header as = \"h4\"> Enter a New Password </Card.Header>\r\n\t\t\t\t\t\t\t\t\t<Card.Body>\r\n\t\t\t\t\t\t\t\t\t\t<Card.Text>\r\n\t\t\t\t\t\t\t\t\t\t\t<Form noValidate validated = {this.state.passwordValidated} onSubmit = {this.handleNewPasswordSubmit}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Form.Label> New Password </Form.Label>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype = \"password\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname = \"newPassword\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue = {this.state.newPassword}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange = {(e) => {this.onChangeField(e)}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tautoComplete = \"off\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Form.Label> Confirm New Password </Form.Label>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype = \"password\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname = \"confirmPassword\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue = {this.state.confirmPassword}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange = {(e) => {this.onChangeField(e)}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tautoComplete = \"off\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Row  style = {{textAlign: \"left\"}}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button type = \"submit\"> Submit </Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{this.props.saving \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t?\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Spinner animation = \"border\" variant = \"primary\" />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div> </div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t\t\t\t</Form>\t\t\r\n\t\t\t\t\t\t\t\t\t\t</Card.Text>\r\n\t\t\t\t\t\t\t\t\t</Card.Body>\r\n\t\t\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t:\r\n\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t<Card>\r\n\t\t\t\t\t\t\t\t<Card.Header as = \"h4\"> Recover Credentials </Card.Header>\r\n\t\t\t\t\t\t\t\t<Card.Body>\r\n\t\t\t\t\t\t\t\t\t{this.props.tempSuccess\r\n\t\t\t\t\t\t\t\t\t?\r\n\t\t\t\t\t\t\t\t\t\t<Card.Title>\r\n\t\t\t\t\t\t\t\t\t\t\tEmail sent! \r\n\t\t\t\t\t\t\t\t\t\t</Card.Title>\r\n\t\t\t\t\t\t\t\t\t:\r\n\t\t\t\t\t\t\t\t\t\t<Card.Title>\r\n\t\t\t\t\t\t\t\t\t\t\tEnter your email \r\n\t\t\t\t\t\t\t\t\t\t</Card.Title>\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t<Card.Text>\r\n\t\t\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t\t\t{this.props.tempSuccess\r\n\t\t\t\t\t\t\t\t\t\t\t?\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tEnter the <u>username</u> and <u>temporary password</u> sent to <strong> {this.props.email} </strong>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t:\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tWe'll send your username and a temporary password.\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t\t\t{this.props.tempSuccess\r\n\t\t\t\t\t\t\t\t\t\t\t?\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Form noValidate validated = {this.state.validated} onSubmit = {this.handleTempSubmit}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Label> Username </Form.Label>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype = \"input\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname = \"username\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue = {this.state.username}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange = {(e) => {this.onChangeField(e)}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tautoComplete = \"off\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled = {this.props.recoveryDisabled}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Label> Temporary Password (expires in 5 min.) </Form.Label>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype = \"password\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname = \"tempPassword\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue = {this.state.tempPassword}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange = {(e) => {this.onChangeField(e)}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tautoComplete = \"off\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled = {this.props.recoveryDisabled}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Row  style = {{textAlign: \"left\"}}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button type = \"submit\" disabled = {this.props.recoveryDisabled}> Submit </Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{this.props.saving \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t?\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Spinner animation = \"border\" variant = \"primary\" />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div> </div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Form>\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t:\r\n\t\t\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Form noValidate validated = {this.state.validated} onSubmit = {this.handleEmailSubmit}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Label> Email </Form.Label>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype = \"input\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tname = \"email\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue = {this.state.email}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange = {(e) => {this.onChangeField(e)}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tautoComplete = \"off\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Row  style = {{textAlign: \"left\"}}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button type = \"submit\" disabled = {this.props.recoveryDisabled}> Submit </Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{this.props.saving \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t?\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Spinner animation = \"border\" variant = \"primary\" />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div> </div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Form>\r\n\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t\t</Card.Text>\r\n\t\t\t\t\t\t\t\t</Card.Body>\r\n\t\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t</Row>\r\n\t\t\t\t</Container>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default ForgotCredentials;\r\n","import 'bootstrap/dist/css/bootstrap.min.css';\r\nimport React, { Component } from 'react';\r\nimport axios from 'axios';\r\nimport Button from 'react-bootstrap/Button';\r\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\r\nimport Loader from 'react-loader-spinner';\r\nimport Login from './login-components/Login.js';\r\nimport TrainingDiary from './td-components/TrainingDiary.js';\r\nimport Profile from './pages/Profile.js';\r\nimport ForgotCredentials from './pages/ForgotCredentials.js';\r\nimport { BrowserRouter as Router, Route, Switch } from 'react-router-dom';\r\n\r\nclass App extends Component {\r\n\tstate = {\r\n\t\tdata: null, //user data from database\r\n\t\tusername: \"\", //username\r\n\t\ttoken: null, //api token \r\n\t\twaitingForPage: false, //flag to render loader while page is initially loading\r\n\t\tisLoggedIn: false, //flag determining if user is logged in \r\n\t\tonLogin: true, //flag determining if user is on the login page \r\n\t\tonRegistration: false, //flag determining if user is on registration page ,\r\n\t\taddModalShow: false,\r\n\t\teditModalShow: false,\r\n\t\tisSaving: false,\r\n\t\tdataToEdit: null,\r\n\t\tauthLoading: false,\r\n\t\tdisabled: false,\r\n\t\ttempSuccess: false,\r\n\t\trecoveryEmail: \"\",\r\n\t\trecoveryDisabled: false,\r\n\t\tprofileAndCredSaving: false\r\n\t\t\r\n\t}\r\n\t\r\n\t/* COMPONENT MOUNT + UPDATE METHODS */\r\n\t\r\n\tcomponentDidMount = () => {\r\n\t\tthis.setState({waitingForPage: true});\r\n\t\tconst token = localStorage.getItem(\"token\");\r\n\t\tconst username = localStorage.getItem(\"username\");\r\n\t\taxios.post(`/verifyLogin/${username}`, {}, {headers: {\"token\": token}})\r\n\t\t\t.catch(function(error) {\r\n\t\t\t\treturn;\r\n\t\t\t})\r\n\t\t\t.then(res => this.handleVerificationResponse(res, username));\r\n\t}\r\n\t\r\n\t/* GENERAL COMPONENT METHODS */ \r\n\t\r\n\ttoggleSaveBar = () => {\r\n\t\tthis.setState({isSaving: !this.state.isSaving});\r\n\t}\r\n\t\r\n\t/* MODAL METHODS */\r\n\t\r\n\ttoggleAddModal = () => {\r\n\t\tthis.setState({addModalShow: !this.state.addModalShow});\r\n\t}\r\n\t\r\n\ttoggleEditModal = (dataToEdit) => {\r\n\t\tthis.setState({editModalShow: !this.state.editModalShow, dataToEdit: dataToEdit});\r\n\t}\r\n\t\r\n\ttoggleProfAndCredLoader = () => {\r\n\t\tthis.setState({profileAndCredSaving: !this.state.profileAndCredSaving});\r\n\t}\r\n\t\r\n\t\r\n\t/* SERVER API METHODS */ \r\n\t\r\n\thandleGetResponse = (response, username) => {\r\n\t\ttry {\r\n\t\t\tvar status = Number(response.status);\r\n\t\t\tif(status === 200) {\r\n\t\t\t\tthis.toggleAuthLoader();\r\n\t\t\t\tthis.setState({token: response.headers.token, username: username, data: response.data, isLoggedIn: true, waitingForPage: false});\r\n\t\t\t\tlocalStorage.setItem(\"username\", username);\r\n\t\t\t\tlocalStorage.setItem(\"token\", response.headers.token);\r\n\t\t\t}\r\n\t\t}\r\n\t\tcatch(error) {\r\n\t\t\t//this.logout();\r\n\t\t}\r\n\t}\r\n\t\r\n\t//handles the response from server that verifies if user is still logged in\r\n\t//if successful, sends a request to get all user data\r\n\thandleVerificationResponse = (response, username) => {\r\n\t\tvar that = this;\r\n\t\ttry {\r\n\t\t\tif(localStorage.getItem(\"token\") === null || localStorage.getItem(\"username\") === null) {\r\n\t\t\t\tthis.setState({isLoggedIn: false, waitingForPage: false});\r\n\t\t\t\tlocalStorage.clear();  \r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tvar status = Number(response.status);\r\n\t\t\t\tif(status === 200) {\r\n\t\t\t\t\tlocalStorage.setItem(\"username\", username);\r\n\t\t\t\t\tlocalStorage.setItem(\"token\", response.headers.token);\r\n\t\t\t\t\taxios.get(`/getAllData/${username}`, {headers: {\"token\": response.headers.token}})\r\n\t\t\t\t\t\t.catch(function(error) {\r\n\t\t\t\t\t\t\talert(\"Internal Error -- could not get data -- redirecting to login page\");\r\n\t\t\t\t\t\t\tthat.logout();\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.then(res => this.handleGetResponse(res, username));\r\n\t\t\t\t}\r\n\t\t\t\telse if(status === 204) {\r\n\t\t\t\t\talert(\"Session expired. Logging you out\");\r\n\t\t\t\t\tthis.logout();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tcatch(error) {\r\n\t\t\tthis.logout();\r\n\t\t\treturn;\r\n\t\t}\r\n\t}\r\n\r\n\t//saves data by calling post api \r\n\tsaveData = (newData) => {\r\n\t\tconst username = this.state.data._id;\r\n\t\taxios.post(`/postData/${username}`, newData, {headers: {\"token\": this.state.token}})\r\n\t\t\t.catch(function(error) {\r\n\t\t\t\talert(\"Internal Error -- could not save data -- redirecting to login page\");\r\n\t\t\t})\r\n\t\t\t.then(res => this.handlePostResponse(res, newData));\r\n\t}\r\n\t\r\n\t//handles response from post request \r\n\thandlePostResponse = (response, newData) => {\r\n\t\ttry {\r\n\t\t\tvar status = Number(response.status);\r\n\t\t\tif(status === 200) {\r\n\t\t\t\tlocalStorage.setItem(\"token\", response.headers.token);\r\n\t\t\t\tthis.setState({token: response.headers.token});\r\n\t\t\t\tthis.setState({data: newData});\r\n\t\t\t}\r\n\t\t}\r\n\t\tcatch(error) {\r\n\t\t\tthis.logout();\r\n\t\t}\r\n\t}\r\n\t\r\n\t/* AUTH METHODS */ \r\n\t\r\n\tchangeUsernameAndEmail = (reqBody, newData, token, prevUsername) => {\r\n\t\tvar that = this;\r\n\t\taxios.post(`/postAccountInfo/${prevUsername}`, reqBody, {headers: {\"token\": token}})\r\n\t\t\t.catch(function(error) {\r\n\t\t\t\tif(error.response.status === 409) {\r\n\t\t\t\t\talert(\"Username or email already exists. Please choose another one\");\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\telse if(error.response.status === 401) {\r\n\t\t\t\t\talert(\"Session expired. Logging you out \");\r\n\t\t\t\t\tthat.logout();\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\talert(\"Internal Error -- could not update username & email\");\r\n\t\t\t})\r\n\t\t\t.then(res => this.handleChangeInfoResponse(res, newData));\r\n\t}\r\n\t\r\n\thandleChangeInfoResponse = (response, newData) => {\r\n\t\ttry {\r\n\t\t\tvar status = Number(response.status);\r\n\t\t\tif(status === 200) {\r\n\t\t\t\talert(\"Changed successfully\");\r\n\t\t\t\tthis.toggleProfAndCredLoader();\r\n\t\t\t\tlocalStorage.setItem(\"token\", response.headers.token);\r\n\t\t\t\tlocalStorage.setItem(\"username\", newData._id);\r\n\t\t\t\tthis.setState({token: response.headers.token});\r\n\t\t\t\tthis.setState({data: newData});\r\n\t\t\t}\r\n\t\t}\r\n\t\tcatch(error) {\r\n\t\t\tthis.toggleProfAndCredLoader();\r\n\t\t\treturn;\r\n\t\t}\r\n\t}\r\n\t\r\n\tchangePassword = (reqBody, newData, token) => {\r\n\t\tvar that = this;\r\n\t\tvar username = newData._id;\r\n\t\taxios.post(`/postCredentials/${username}`, reqBody, {headers: {\"token\": token}})\r\n\t\t\t.catch(function(error) {\r\n\t\t\t\tif(error.response.status === 409) {\r\n\t\t\t\t\talert(\"Old password is invalid\");\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\telse if(error.response.status === 401) {\r\n\t\t\t\t\talert(\"Session expired. Logging you out\");\r\n\t\t\t\t\tthat.logout();\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\talert(\"Internal Error -- could not change password\");\r\n\t\t\t})\r\n\t\t\t.then(res => this.handleChangePasswordResponse(res, newData));\r\n\t}\r\n\t\r\n\thandleChangePasswordResponse = (response, newData) => {\r\n\t\ttry {\r\n\t\t\tvar status = Number(response.status);\r\n\t\t\tif(status === 200) {\r\n\t\t\t\talert(\"Changed successfully\");\r\n\t\t\t\tthis.toggleProfAndCredLoader();\r\n\t\t\t\tlocalStorage.setItem(\"token\", response.headers.token);\r\n\t\t\t\tthis.setState({token: response.headers.token});\r\n\t\t\t\tthis.setState({data: newData});\r\n\t\t\t}\r\n\t\t}\r\n\t\tcatch(error) {\r\n\t\t\tthis.toggleProfAndCredLoader();\r\n\t\t\treturn;\r\n\t\t}\r\n\t}\r\n\t\r\n\tgetTempCredentials = (reqBody, email) => {\r\n\t\tvar that = this;\r\n\t\taxios.post(\"/getTempPassword\", reqBody)\r\n\t\t\t.catch(function(error) {\r\n\t\t\t\tif(error.response.status === 401) {\r\n\t\t\t\t\talert(\"The email you gave is not linked to any user\");\t\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\talert(\"Internal error -- could not get temporary credentials\");\r\n\t\t\t})\r\n\t\t\t.then(res => this.handleTempResponse(res, email));\r\n\t}\r\n\t\r\n\thandleTempResponse = (response, email) => {\r\n\t\ttry {\r\n\t\t\tvar status = Number(response.status);\r\n\t\t\tif(status === 200) {\r\n\t\t\t\tthis.toggleProfAndCredLoader();\r\n\t\t\t\tthis.setState({tempSuccess: true, recoveryEmail: email});\r\n\t\t\t}\r\n\t\t}\r\n\t\tcatch(error) {\r\n\t\t\tthis.toggleProfAndCredLoader();\r\n\t\t\treturn;\r\n\t\t}\r\n\t}\r\n\t\r\n\tvalidateTempCredentials = (reqBody) => {\r\n\t\tvar that = this;\r\n\t\taxios.post(\"/postTempPassword\", reqBody)\r\n\t\t\t.catch(function(error) {\r\n\t\t\t\tif(error.response.status === 401) {\r\n\t\t\t\t\talert(\"The username or temporary password you entered is invalid or expired\");\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\talert(\"Internal error -- could not process temporary credentials\");\r\n\t\t\t})\r\n\t\t\t.then(res => this.handleValidateTempResponse(res, reqBody.username));\r\n\t}\r\n\t\r\n\thandleValidateTempResponse = (response, username) => {\r\n\t\ttry {\r\n\t\t\tvar status = Number(response.status);\r\n\t\t\tif(status === 200) {\r\n\t\t\t\tthis.toggleProfAndCredLoader();\r\n\t\t\t\tthis.setState({recoveryDisabled: true, token: response.headers.token, username: username});\r\n\t\t\t}\r\n\t\t}\r\n\t\tcatch(error) {\r\n\t\t\tthis.toggleProfAndCredLoader();\r\n\t\t\treturn;\r\n\t\t}\r\n\t}\r\n\t\r\n\trecoverPassword = (username, token, reqBody) => {\r\n\t\tvar that = this;\r\n\t\taxios.post(`/postRecoveryPassword/${username}`, reqBody, {headers: {\"token\": token}})\r\n\t\t\t.catch(function(error) {\r\n\t\t\t\tif(error.response.status === 401) {\r\n\t\t\t\t\talert(\"Sorry -- You are unauthorized to perform this action\");\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\talert(\"Internal error -- could not change your password\");\r\n\t\t\t})\r\n\t\t\t.then(res => this.handleRecoveryResponse(res));\r\n\t}\r\n\t\r\n\thandleRecoveryResponse = (response) => {\r\n\t\ttry {\r\n\t\t\tvar status = Number(response.status);\r\n\t\t\tif(status === 200) {\r\n\t\t\t\talert(\"Password changed successfully. Redirecting to login page\");\r\n\t\t\t\tthis.toggleProfAndCredLoader();\r\n\t\t\t\tthis.setState({onLogin: true});\r\n\t\t\t\twindow.location.pathname = \"/\";\r\n\t\t\t}\r\n\t\t}\r\n\t\tcatch(error) {\r\n\t\t\tthis.toggleProfAndCredLoader();\r\n\t\t\treturn;\r\n\t\t}\r\n\t}\r\n\t\r\n\t\r\n\t\r\n\t//method passed in as props to Login.js\r\n\t//grants access to apis by setting App.js state and redirecting to TrainingDiary.js\r\n\t//only occurs if login was successful\r\n\tgrantAccess = (username, token) => {\r\n\t\tvar that = this;\r\n\t\taxios.get(`/getAllData/${username}`, {headers: {\"token\": token}})\r\n\t\t\t.catch(function(error) {\r\n\t\t\t\tif(error.response.status === 500) {\r\n\t\t\t\t\talert(\"Internal Error -- could not get data -- redirecting to login page\");\r\n\t\t\t\t\tthat.logout();\r\n\t\t\t\t}\r\n\t\t\t\telse if(error.response.status === 401) {\r\n\t\t\t\t\talert(\"Session expired, logging you out\");\r\n\t\t\t\t\tthat.logout();\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then(res => this.handleGetResponse(res, username));\r\n\t}\r\n\t\r\n\t//method passed in as props to Register.js\r\n\t//redirects to Login.js by setting App.js state \r\n\ttoLogin = () => {\r\n\t\tthis.setState({onLogin:true});\r\n\t}\r\n\t\r\n\t//method passed in as props to TrainingDiary.js\r\n\t//logs the user out, clears localStorage, and resets to original state\r\n\tlogout = async () => {\r\n\t\tawait localStorage.clear();\r\n\t\twindow.location.pathname = \"/\";\r\n\t}\r\n\t\r\n\ttoggleAuthLoader = () => {\r\n\t\tthis.setState({authLoading: !this.state.authLoading, disabled: !this.state.disabled});\r\n\t}\r\n\t\r\n\trender() {\r\n\t\tif(this.state.waitingForPage) {\r\n\t\t\treturn (\r\n\t\t\t\t<div style = {{textAlign: \"center\", marginTop: \"5%\"}}>\r\n\t\t\t\t\t<Loader type=\"TailSpin\" \r\n\t\t\t\t\t\tcolor=\"#00BFFF\" \r\n\t\t\t\t\t\theight={80} \r\n\t\t\t\t\t\twidth={80} \r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\t\t}\r\n\t\telse if(this.state.isLoggedIn) {\r\n\t\t\treturn (\r\n\t\t\t\t<Router>\r\n\t\t\t\t\t<Switch>\r\n\t\t\t\t\t\t<Route exact path = \"/\">\r\n\t\t\t\t\t\t\t<TrainingDiary \r\n\t\t\t\t\t\t\t\tdata = {this.state.data}\r\n\t\t\t\t\t\t\t\tlogout = {this.logout}\r\n\t\t\t\t\t\t\t\tsaveData = {this.saveData}\r\n\t\t\t\t\t\t\t\taddModalShow = {this.state.addModalShow}\r\n\t\t\t\t\t\t\t\teditModalShow = {this.state.editModalShow}\r\n\t\t\t\t\t\t\t\tisSaving = {this.state.isSaving}\r\n\t\t\t\t\t\t\t\ttoggleAddModal = {this.toggleAddModal}\r\n\t\t\t\t\t\t\t\ttoggleEditModal = {this.toggleEditModal}\r\n\t\t\t\t\t\t\t\ttoggleSaveBar = {this.toggleSaveBar}\r\n\t\t\t\t\t\t\t\tdataToEdit = {this.state.dataToEdit}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Route>\r\n\t\t\t\t\t\t<Route exact path = \"/profile\">\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<Profile \r\n\t\t\t\t\t\t\t\t\tdata = {this.state.data} \r\n\t\t\t\t\t\t\t\t\ttoken = {this.state.token} \r\n\t\t\t\t\t\t\t\t\tchangeUsernameAndEmail = {this.changeUsernameAndEmail}\r\n\t\t\t\t\t\t\t\t\tchangePassword = {this.changePassword}\r\n\t\t\t\t\t\t\t\t\tsaving = {this.state.profileAndCredSaving}\r\n\t\t\t\t\t\t\t\t\ttoggleSaving = {this.toggleProfAndCredLoader}\r\n\t\t\t\t\t\t\t\t\tsaveData = {this.saveData}\r\n\t\t\t\t\t\t\t\t\tlogout = {this.logout}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</Route>\r\n\t\t\t\t\t\t<Route>\r\n\t\t\t\t\t\t\t<div style = {{textAlign: \"center\"}}>\r\n\t\t\t\t\t\t\t\t<h1> This page does not exist :( </h1>\r\n\t\t\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t\t\t<Button href = \"/\"> Back to main page 💪 </Button> \r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</Route>\r\n\t\t\t\t\t</Switch>\r\n\t\t\t\t</Router>\r\n\t\t\t);\r\n\t\t}\r\n\t\telse if(this.state.onLogin) {\r\n\t\t\treturn (\r\n\t\t\t\t<Router>\r\n\t\t\t\t\t<Switch>\r\n\t\t\t\t\t\t<Route exact path = \"/\">\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<Login \r\n\t\t\t\t\t\t\t\t\tgrantAccess = {this.grantAccess} \r\n\t\t\t\t\t\t\t\t\tauthLoading = {this.state.authLoading}\r\n\t\t\t\t\t\t\t\t\tdisabled = {this.state.disabled}\r\n\t\t\t\t\t\t\t\t\ttoggleAuthLoader = {this.toggleAuthLoader}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</Route>\r\n\t\t\t\t\t\t<Route exact path = \"/reset\">\r\n\t\t\t\t\t\t\t<ForgotCredentials \r\n\t\t\t\t\t\t\t\tgetTempCredentials = {this.getTempCredentials} \r\n\t\t\t\t\t\t\t\tvalidateTempCredentials = {this.validateTempCredentials} \r\n\t\t\t\t\t\t\t\ttempSuccess = {this.state.tempSuccess}\r\n\t\t\t\t\t\t\t\temail = {this.state.recoveryEmail}\r\n\t\t\t\t\t\t\t\trecoveryDisabled = {this.state.recoveryDisabled}\r\n\t\t\t\t\t\t\t\ttoken = {this.state.token}\r\n\t\t\t\t\t\t\t\tusername = {this.state.username}\r\n\t\t\t\t\t\t\t\trecoverPassword = {this.recoverPassword}\r\n\t\t\t\t\t\t\t\tsaving = {this.state.profileAndCredSaving}\r\n\t\t\t\t\t\t\t\ttoggleSaving = {this.toggleProfAndCredLoader}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Route>\r\n\t\t\t\t\t\t<Route>\r\n\t\t\t\t\t\t\t<div style = {{textAlign: \"center\"}}>\r\n\t\t\t\t\t\t\t\t<h1> This page does not exist :( </h1>\r\n\t\t\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t\t\t<Button href = \"/\"> Back to main page 💪 </Button> \r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</Route>\r\n\t\t\t\t\t</Switch>\r\n\t\t\t\t</Router>\r\n\t\t\t);\r\n\t\t}\r\n\t\treturn (\r\n\t\t<div> hi </div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default App;","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}